function createDefaultScrollbar(d,b,c){var e=document.createElement("div"),a=document.createElement("div");if(c===true){e.style.cssText="position:absolute;z-index:9999";a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"}a.className="iScrollIndicator";if(d=="h"){if(c===true){e.style.cssText+=";height:7px;left:2px;right:2px;bottom:0";a.style.height="100%"}e.className="iScrollHorizontalScrollbar"}else{if(c===true){e.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px";a.style.width="100%"}e.className="iScrollVerticalScrollbar"}e.style.cssText+=";overflow:hidden";if(!b){e.style.pointerEvents="none"}e.appendChild(a);return e}function Indicator(a,d){this.wrapper=typeof d.el=="string"?document.querySelector(d.el):d.el;this.wrapperStyle=this.wrapper.style;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=a;this.options={listenX:true,listenY:true,interactive:false,resize:true,defaultScrollbars:false,shrink:false,fade:false,speedRatioX:0,speedRatioY:0};for(var e in d){this.options[e]=d[e]}this.sizeRatioX=1;this.sizeRatioY=1;this.maxPosX=0;this.maxPosY=0;if(this.options.interactive){if(!this.options.disableTouch){utils.addEvent(this.indicator,"touchstart",this);utils.addEvent(window,"touchend",this)}if(!this.options.disablePointer){utils.addEvent(this.indicator,utils.prefixPointerEvent("pointerdown"),this);utils.addEvent(window,utils.prefixPointerEvent("pointerup"),this)}if(!this.options.disableMouse){utils.addEvent(this.indicator,"mousedown",this);utils.addEvent(window,"mouseup",this)}}if(this.options.fade){this.wrapperStyle[utils.style.transform]=this.scroller.translateZ;var b=utils.style.transitionDuration;if(!b){return}this.wrapperStyle[b]=utils.isBadAndroid?"0.0001ms":"0ms";var c=this;if(utils.isBadAndroid){rAF(function(){if(c.wrapperStyle[b]==="0.0001ms"){c.wrapperStyle[b]="0s"}})}this.wrapperStyle.opacity="0"}}Indicator.prototype={handleEvent:function(a){switch(a.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(a);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(a);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(a);break}},destroy:function(){if(this.options.fadeScrollbars){clearTimeout(this.fadeTimeout);this.fadeTimeout=null}if(this.options.interactive){utils.removeEvent(this.indicator,"touchstart",this);utils.removeEvent(this.indicator,utils.prefixPointerEvent("pointerdown"),this);utils.removeEvent(this.indicator,"mousedown",this);utils.removeEvent(window,"touchmove",this);utils.removeEvent(window,utils.prefixPointerEvent("pointermove"),this);utils.removeEvent(window,"mousemove",this);utils.removeEvent(window,"touchend",this);utils.removeEvent(window,utils.prefixPointerEvent("pointerup"),this);utils.removeEvent(window,"mouseup",this)}if(this.options.defaultScrollbars&&this.wrapper.parentNode){this.wrapper.parentNode.removeChild(this.wrapper)}},_start:function(b){var a=b.touches?b.touches[0]:b;b.preventDefault();b.stopPropagation();this.transitionTime();this.initiated=true;this.moved=false;this.lastPointX=a.pageX;this.lastPointY=a.pageY;this.startTime=utils.getTime();if(!this.options.disableTouch){utils.addEvent(window,"touchmove",this)}if(!this.options.disablePointer){utils.addEvent(window,utils.prefixPointerEvent("pointermove"),this)}if(!this.options.disableMouse){utils.addEvent(window,"mousemove",this)}this.scroller._execEvent("beforeScrollStart")},_move:function(g){var b=g.touches?g.touches[0]:g,c,a,h,f,d=utils.getTime();if(!this.moved){this.scroller._execEvent("scrollStart")}this.moved=true;c=b.pageX-this.lastPointX;this.lastPointX=b.pageX;a=b.pageY-this.lastPointY;this.lastPointY=b.pageY;h=this.x+c;f=this.y+a;this._pos(h,f);g.preventDefault();g.stopPropagation()},_end:function(c){if(!this.initiated){return}this.initiated=false;c.preventDefault();c.stopPropagation();utils.removeEvent(window,"touchmove",this);utils.removeEvent(window,utils.prefixPointerEvent("pointermove"),this);utils.removeEvent(window,"mousemove",this);if(this.scroller.options.snap){var a=this.scroller._nearestSnap(this.scroller.x,this.scroller.y);var b=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-a.x),1000),Math.min(Math.abs(this.scroller.y-a.y),1000)),300);if(this.scroller.x!=a.x||this.scroller.y!=a.y){this.scroller.directionX=0;this.scroller.directionY=0;this.scroller.currentPage=a;this.scroller.scrollTo(a.x,a.y,b,this.scroller.options.bounceEasing)}}if(this.moved){this.scroller._execEvent("scrollEnd")}},transitionTime:function(c){c=c||0;var a=utils.style.transitionDuration;if(!a){return}this.indicatorStyle[a]=c+"ms";if(!c&&utils.isBadAndroid){this.indicatorStyle[a]="0.0001ms";var b=this;rAF(function(){if(b.indicatorStyle[a]==="0.0001ms"){b.indicatorStyle[a]="0s"}})}},transitionTimingFunction:function(a){this.indicatorStyle[utils.style.transitionTimingFunction]=a},refresh:function(){this.transitionTime();if(this.options.listenX&&!this.options.listenY){this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none"}else{if(this.options.listenY&&!this.options.listenX){this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none"}else{this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none"}}if(this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll){utils.addClass(this.wrapper,"iScrollBothScrollbars");utils.removeClass(this.wrapper,"iScrollLoneScrollbar");if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right="8px"}else{this.wrapper.style.bottom="8px"}}}else{utils.removeClass(this.wrapper,"iScrollBothScrollbars");utils.addClass(this.wrapper,"iScrollLoneScrollbar");if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right="2px"}else{this.wrapper.style.bottom="2px"}}}utils.getRect(this.wrapper);if(this.options.listenX){this.wrapperWidth=this.wrapper.clientWidth;if(this.options.resize){this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8);this.indicatorStyle.width=this.indicatorWidth+"px"}else{this.indicatorWidth=this.indicator.clientWidth}this.maxPosX=this.wrapperWidth-this.indicatorWidth;if(this.options.shrink=="clip"){this.minBoundaryX=-this.indicatorWidth+8;this.maxBoundaryX=this.wrapperWidth-8}else{this.minBoundaryX=0;this.maxBoundaryX=this.maxPosX}this.sizeRatioX=this.options.speedRatioX||(this.scroller.maxScrollX&&(this.maxPosX/this.scroller.maxScrollX))}if(this.options.listenY){this.wrapperHeight=this.wrapper.clientHeight;if(this.options.resize){this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8);this.indicatorStyle.height=this.indicatorHeight+"px"}else{this.indicatorHeight=this.indicator.clientHeight}this.maxPosY=this.wrapperHeight-this.indicatorHeight;if(this.options.shrink=="clip"){this.minBoundaryY=-this.indicatorHeight+8;this.maxBoundaryY=this.wrapperHeight-8}else{this.minBoundaryY=0;this.maxBoundaryY=this.maxPosY}this.maxPosY=this.wrapperHeight-this.indicatorHeight;this.sizeRatioY=this.options.speedRatioY||(this.scroller.maxScrollY&&(this.maxPosY/this.scroller.maxScrollY))}this.updatePosition()},updatePosition:function(){var a=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,b=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;if(!this.options.ignoreBoundaries){if(a<this.minBoundaryX){if(this.options.shrink=="scale"){this.width=Math.max(this.indicatorWidth+a,8);this.indicatorStyle.width=this.width+"px"}a=this.minBoundaryX}else{if(a>this.maxBoundaryX){if(this.options.shrink=="scale"){this.width=Math.max(this.indicatorWidth-(a-this.maxPosX),8);this.indicatorStyle.width=this.width+"px";a=this.maxPosX+this.indicatorWidth-this.width}else{a=this.maxBoundaryX}}else{if(this.options.shrink=="scale"&&this.width!=this.indicatorWidth){this.width=this.indicatorWidth;this.indicatorStyle.width=this.width+"px"}}}if(b<this.minBoundaryY){if(this.options.shrink=="scale"){this.height=Math.max(this.indicatorHeight+b*3,8);this.indicatorStyle.height=this.height+"px"}b=this.minBoundaryY}else{if(b>this.maxBoundaryY){if(this.options.shrink=="scale"){this.height=Math.max(this.indicatorHeight-(b-this.maxPosY)*3,8);this.indicatorStyle.height=this.height+"px";b=this.maxPosY+this.indicatorHeight-this.height}else{b=this.maxBoundaryY}}else{if(this.options.shrink=="scale"&&this.height!=this.indicatorHeight){this.height=this.indicatorHeight;this.indicatorStyle.height=this.height+"px"}}}}this.x=a;this.y=b;if(this.scroller.options.useTransform){this.indicatorStyle[utils.style.transform]="translate("+a+"px,"+b+"px)"+this.scroller.translateZ}else{this.indicatorStyle.left=a+"px";this.indicatorStyle.top=b+"px"}},_pos:function(a,b){if(a<0){a=0}else{if(a>this.maxPosX){a=this.maxPosX}}if(b<0){b=0}else{if(b>this.maxPosY){b=this.maxPosY}}a=this.options.listenX?Math.round(a/this.sizeRatioX):this.scroller.x;b=this.options.listenY?Math.round(b/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(a,b)},fade:function(d,c){if(c&&!this.visible){return}clearTimeout(this.fadeTimeout);this.fadeTimeout=null;var b=d?250:500,a=d?0:300;d=d?"1":"0";this.wrapperStyle[utils.style.transitionDuration]=b+"ms";this.fadeTimeout=setTimeout((function(e){this.wrapperStyle.opacity=e;this.visible=+e}).bind(this,d),a)}};