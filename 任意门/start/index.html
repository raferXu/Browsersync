<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
  <title>平安众包</title>
  <script>
    function htmlFontSize(){
      var html = document.querySelector("html");
      var width = html.getBoundingClientRect().width;
      html.style.fontSize = width / 3.75 + "px";
    }
    htmlFontSize();
    window.addEventListener("resize",function(){
      htmlFontSize();
    },false);
  </script>
  <style>
    body{margin: 0;}
    html, body{
      width: 100%;
      height: 100%;
    }
    .wrap{
      width: 100%;
      height: 19.14rem;
      overflow-x: hidden;
    }
    .wrap{
      display: flex;
      flex-direction: column;
      align-items: center;
      background: url("./img/mainBg.png") no-repeat;
      background-size: 100%;
    }
    .div1{
      width: 100%;
      height: 7.15rem;
    }
    .div2{
      width: 100%;
      height: 2.31rem;
    }
    .div3{
      width: 100%;
      height: 3.09rem;
    }
    .task, .downloadAPP{
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      align-items: center;
      width: 2.77rem;
      height: 1.4rem;
    }
    input{
      width: 100%;
      height: .45rem;
      padding: 0 0 0 10px;
      border: none;
      border-radius: 5px;
      outline: none;
      font-size: 24px;
      text-align: center;
      color: #323232;
    }
    input[type=submit]{
      background: url("./img/submit.png");
      background-size: 100%;
    }
    .lottery{
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
      width: 3rem;
      height: 3rem;
      background: url("./img/lotteryBg.png");
      background-size: 100%;
    }
    .lotteryImg{
      width: 2.66rem;
    }
    .white, .yellow{
      position: absolute;
      left: 0;
      top: 0;
      width: 3rem;
    }
    .pin{
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%,-50%);
      width: .77rem;
    }

    .white{
      -webkit-animation: twinkling .5s infinite;
    }
    .yellow{
      -webkit-animation: twinkling2 .5s infinite;
    }

    @-webkit-keyframes twinkling{
      0%{
        opacity:0;
      }
      100%{
        opacity:1;
      }
    }
    @-webkit-keyframes twinkling2{
      0%{
        opacity:1;
      }
      100%{
        opacity:0;
      }
    }
    .lotteryTip{
      display: none;
      position: absolute;
      height: 100vh;
      top: 0;
      left: 0;
      right: 0;
      background-color: rgba(0,0,0,.3);
    }

    .doTask{
      word-spacing:8px;
      letter-spacing: 1px;
    }

  </style>
</head>
<body>
<div class="wrap">
  <div class="div1"></div>
  <section class="task" id="task">
    <input class="doTask" type="number" id="doTask" value="1404021205">
    <input type="submit" id="answerSubmit" value="">
  </section>
  <div class="div2"></div>
  <section class="lottery" id="lottery">
    <img class="lotteryImg" src="./img/lottery.png" alt="lottery">
    <img src="./img/whiteLight.png" alt="white" class="white">
    <img src="./img/yellowLight.png" alt="yellow" class="yellow">
    <img src="./img/pin.png" alt="pin" class="pin">
  </section>
  <div class="div3"></div>
  <div class="lotteryTip">
    <button id="shutUpLayer">click</button>
  </div>
  <section class="downloadAPP" id="downloadAPP">
    <input type="number" id="tel">
    <input type="submit" id="telSubmit" value="">
  </section>
</div>
<script src="js/zepto/zepto.js"></script>
<script src="js/zepto/event.js"></script>
<script src="js/zepto/touch.js"></script>
<script src="js/zepto/fx.js"></script>
<script>
  var i = 0, aAngle;
  $('.pin').tap(function () {
    aAngle = ['1380deg','1440deg','1500deg','1560deg','1620deg','1680deg','1740deg'];
    i%=4;
    $('.lotteryImg').anim({ rotateZ: aAngle[i] }, 2, 'ease-out', function () {
      $('.lotteryTip').css('display','block');
      $('body').css('overflow','hidden');
    });
  });
  $(window).on('scroll', function () {
    $('.lotteryTip').css('top',$(window).scrollTop());
  });
  $('#shutUpLayer').click(function () {
    $('.lotteryTip').css('display','none');
    $('.lotteryImg').anim({ rotateZ: '0deg' }, 0);
    $('body').css('overflow','auto');
    i++;
  });
</script>
</body>
</html>