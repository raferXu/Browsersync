<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>crowdsourcing_interface_doc_full</title>


<style type="text/css">
body {
  font-family: Helvetica, arial, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  padding-top: 10px;
  padding-bottom: 10px;
  background-color: white;
  padding: 30px; }

body > *:first-child {
  margin-top: 0 !important; }
body > *:last-child {
  margin-bottom: 0 !important; }

a {
  color: #4183C4; }
a.absent {
  color: #cc0000; }
a.anchor {
  display: block;
  padding-left: 30px;
  margin-left: -30px;
  cursor: pointer;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0; }

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
  cursor: text;
  position: relative; }

h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA09pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoMTMuMCAyMDEyMDMwNS5tLjQxNSAyMDEyLzAzLzA1OjIxOjAwOjAwKSAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUM2NjlDQjI4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUM2NjlDQjM4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QzY2OUNCMDg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QzY2OUNCMTg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsQhXeAAAABfSURBVHjaYvz//z8DJYCRUgMYQAbAMBQIAvEqkBQWXI6sHqwHiwG70TTBxGaiWwjCTGgOUgJiF1J8wMRAIUA34B4Q76HUBelAfJYSA0CuMIEaRP8wGIkGMA54bgQIMACAmkXJi0hKJQAAAABJRU5ErkJggg==) no-repeat 10px center;
  text-decoration: none; }

h1 tt, h1 code {
  font-size: inherit; }

h2 tt, h2 code {
  font-size: inherit; }

h3 tt, h3 code {
  font-size: inherit; }

h4 tt, h4 code {
  font-size: inherit; }

h5 tt, h5 code {
  font-size: inherit; }

h6 tt, h6 code {
  font-size: inherit; }

h1 {
  font-size: 28px;
  color: black; }

h2 {
  font-size: 24px;
  border-bottom: 1px solid #cccccc;
  color: black; }

h3 {
  font-size: 18px; }

h4 {
  font-size: 16px; }

h5 {
  font-size: 14px; }

h6 {
  color: #777777;
  font-size: 14px; }

p, blockquote, ul, ol, dl, li, table, pre {
  margin: 15px 0; }

hr {
  background: transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0;
  border: 0 none;
  color: #cccccc;
  height: 4px;
  padding: 0;
}

body > h2:first-child {
  margin-top: 0;
  padding-top: 0; }
body > h1:first-child {
  margin-top: 0;
  padding-top: 0; }
  body > h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child {
  margin-top: 0;
  padding-top: 0; }

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0; }

h1 p, h2 p, h3 p, h4 p, h5 p, h6 p {
  margin-top: 0; }

li p.first {
  display: inline-block; }
li {
  margin: 0; }
ul, ol {
  padding-left: 30px; }

ul :first-child, ol :first-child {
  margin-top: 0; }

dl {
  padding: 0; }
  dl dt {
    font-size: 14px;
    font-weight: bold;
    font-style: italic;
    padding: 0;
    margin: 15px 0 5px; }
    dl dt:first-child {
      padding: 0; }
    dl dt > :first-child {
      margin-top: 0; }
    dl dt > :last-child {
      margin-bottom: 0; }
  dl dd {
    margin: 0 0 15px;
    padding: 0 15px; }
    dl dd > :first-child {
      margin-top: 0; }
    dl dd > :last-child {
      margin-bottom: 0; }

blockquote {
  border-left: 4px solid #dddddd;
  padding: 0 15px;
  color: #777777; }
  blockquote > :first-child {
    margin-top: 0; }
  blockquote > :last-child {
    margin-bottom: 0; }

table {
  padding: 0;border-collapse: collapse; }
  table tr {
    border-top: 1px solid #cccccc;
    background-color: white;
    margin: 0;
    padding: 0; }
    table tr:nth-child(2n) {
      background-color: #f8f8f8; }
    table tr th {
      font-weight: bold;
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr td {
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr th :first-child, table tr td :first-child {
      margin-top: 0; }
    table tr th :last-child, table tr td :last-child {
      margin-bottom: 0; }

img {
  max-width: 100%; }

span.frame {
  display: block;
  overflow: hidden; }
  span.frame > span {
    border: 1px solid #dddddd;
    display: block;
    float: left;
    overflow: hidden;
    margin: 13px 0 0;
    padding: 7px;
    width: auto; }
  span.frame span img {
    display: block;
    float: left; }
  span.frame span span {
    clear: both;
    color: #333333;
    display: block;
    padding: 5px 0 0; }
span.align-center {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-center > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: center; }
  span.align-center span img {
    margin: 0 auto;
    text-align: center; }
span.align-right {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-right > span {
    display: block;
    overflow: hidden;
    margin: 13px 0 0;
    text-align: right; }
  span.align-right span img {
    margin: 0;
    text-align: right; }
span.float-left {
  display: block;
  margin-right: 13px;
  overflow: hidden;
  float: left; }
  span.float-left span {
    margin: 13px 0 0; }
span.float-right {
  display: block;
  margin-left: 13px;
  overflow: hidden;
  float: right; }
  span.float-right > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: right; }

code, tt {
  margin: 0 2px;
  padding: 0 5px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  background-color: #f8f8f8;
  border-radius: 3px; }

pre code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent; }

.highlight pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }

pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }
  pre code, pre tt {
    background-color: transparent;
    border: none; }

sup {
    font-size: 0.83em;
    vertical-align: super;
    line-height: 0;
}

kbd {
  display: inline-block;
  padding: 3px 5px;
  font-size: 11px;
  line-height: 10px;
  color: #555;
  vertical-align: middle;
  background-color: #fcfcfc;
  border: solid 1px #ccc;
  border-bottom-color: #bbb;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #bbb
}

* {
	-webkit-print-color-adjust: exact;
}
@media screen and (min-width: 914px) {
    body {
        width: 854px;
        margin:0 auto;
    }
}
@media print {
	table, pre {
		page-break-inside: avoid;
	}
	pre {
		word-wrap: break-word;
	}
}
</style>


</head>

<body>

<h1 id="toc_0">目录</h1>

<h4 id="toc_1"><a href="#%E7%94%A8%E6%88%B7%E6%A8%A1%E5%9D%97">用户模块</a></h4>

<ul>
<li><a href="#%E6%B3%A8%E5%86%8C%E7%94%A8%E6%88%B7">注册用户</a></li>
<li><a href="#%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95">用户登录</a></li>
<li><a href="#%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF">获取用户信息</a></li>
<li><a href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF">修改用户信息</a></li>
<li><a href="#%E7%94%A8%E6%88%B7%E5%BF%98%E8%AE%B0%E5%AF%86%E7%A0%81">用户忘记密码</a></li>
<li><a href="#%E7%94%A8%E6%88%B7%E8%8E%B7%E5%8F%96%E7%9F%AD%E4%BF%A1%E9%AA%8C%E8%AF%81%E7%A0%81">用户获取短信验证码</a></li>
<li><a href="#%E6%A0%A1%E9%AA%8C%E7%9F%AD%E4%BF%A1%E9%AA%8C%E8%AF%81%E7%A0%81">校验短信验证码</a></li>
<li><a href="#%E7%94%A8%E6%88%B7%E9%97%AE%E9%A2%98%E5%8F%8D%E9%A6%88">用户问题反馈</a><br></li>
</ul>

<h4 id="toc_2"><a href="#%E4%BB%BB%E5%8A%A1%E6%A8%A1%E5%9D%97">任务模块</a></h4>

<ul>
<li><a href="#%E4%B8%BA%E7%94%A8%E6%88%B7%E5%88%86%E9%85%8D%E4%B8%80%E4%B8%AA%E4%BB%BB%E5%8A%A1">为用户分配一个任务</a></li>
<li><a href="#%E8%8E%B7%E5%8F%96%E4%BB%BB%E5%8A%A1%E4%BF%A1%E6%81%AF">获取任务信息</a></li>
<li><a href="#%E8%8E%B7%E5%8F%96%E6%89%A7%E8%A1%8C%E4%BB%BB%E5%8A%A1%E4%BF%A1%E6%81%AF">获取执行任务信息</a></li>
</ul>

<h4 id="toc_3"><a href="#%E6%8A%BD%E5%A5%96%E6%A8%A1%E5%9D%97">抽奖模块</a></h4>

<ul>
<li><a href="#%E8%8E%B7%E5%8F%96%E6%8A%BD%E5%A5%96%E8%BD%AC%E7%9B%98%E4%BF%A1%E6%81%AF">获取抽奖转盘信息</a></li>
<li><a href="#%E5%BC%80%E5%A7%8B%E6%8A%BD%E5%A5%96">开始抽奖</a></li>
<li><a href="#%E8%AE%B0%E5%BD%95%E5%AE%9E%E7%89%A9%E5%A5%96%E5%8A%B1%E9%A2%86%E5%A5%96%E4%BF%A1%E6%81%AF">记录实物奖励领奖信息</a></li>
<li><a href="#%E4%BB%BB%E5%8A%A1%E7%BB%9F%E8%AE%A1">任务统计</a></li>
<li><a href="#%E6%94%BE%E5%BC%83%E5%AE%9E%E7%89%A9%E5%A5%96%E5%8A%B1">放弃实物奖励</a></li>
<li><a href="#%E8%8E%B7%E5%8F%96%E5%81%9A%E4%BB%BB%E5%8A%A1%E9%A1%B5%E9%9D%A2%E6%95%B0%E6%8D%AE">获取做任务页面数据</a></li>
<li><a href="#%E6%97%A0%E4%BB%BB%E5%8A%A1">无任务</a></li>
<li><a href="#%E8%BD%AC%E7%9B%98%E6%8A%BD%E5%A5%96%E6%9C%BA%E4%BC%9A%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF">转盘抽奖机会配置信息</a></li>
<li><a href="#%E8%8E%B7%E5%8F%96%E4%B8%80%E4%B8%AA%E6%9C%89%E5%BE%85%E5%81%9A%E4%BB%BB%E5%8A%A1%E7%9A%84project%E7%9A%84short_name">获取一个有待做任务的project的short_name</a></li>
<li><a href="#%E6%9F%A5%E8%AF%A2%E5%BD%93%E5%89%8D%E7%94%A8%E6%88%B7%E5%BD%93%E5%89%8D%E9%98%88%E5%80%BC%E4%B8%8B%E6%9C%89%E5%A4%9A%E5%B0%91%E6%8A%BD%E5%A5%96%E6%9C%BA%E4%BC%9A">查询当前用户当前阈值下有多少抽奖机会</a></li>
</ul>

<h1 id="toc_4"><span id="用户模块">用户模块</span></h1>

<h2 id="toc_5"><span id="注册用户">注册用户</span></h2>

<p><strong>请求</strong>：/token/user/register</p>

<p><strong>method</strong>: post</p>

<p><strong>输入</strong>：
Json:</p>

<p>String username //注册用户昵称    例如：Matry
String phone    //注册手机号码    例如: 13812345678<br>
String password //注册账号密码    例如：123456<br>
String sms_code //手机验证码 暂时写死：888888    </p>

<p><strong>输入示例</strong>：  </p>

<div><pre><code class="language-none">{ 
  &quot;username&quot; : &quot;Matry&quot;,
  &quot;phone&quot;    : &quot;13812345678&quot;,
  &quot;password&quot; : &quot;a123456&quot;
}</code></pre></div>

<p><strong>输出</strong>:<br>
String code    //状态码<br>
String message //返回码说明<br>
String body    //报文体  </p>

<p><strong>输出示例</strong>：<br>
失败:  </p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {&quot;result&quot;: -1},
    &quot;message&quot;: &quot;param error&quot;,
    &quot;code&quot;: 602
}  </code></pre></div>

<p>成功：  </p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {&quot;token&quot;: &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwaG9uZSI6IjEzODg4ODg4ODg4IiwidGltZSI6IjIwMTctMDUtMDcgMTY6MzM6MzgifQ.TDomt7dZWSYA-8gDV4je3NbTuyRRk4SZwnOrIEmfoR0&quot;}, 
    &quot;message&quot;: &quot;operate successfully&quot;, 
    &quot;code&quot;: 200
}</code></pre></div>

<p><strong>返回码定义：</strong>:<br>
200 : operate successfully<br>
602: param error<br>
605: phone not valid code<br>
610: phone registered 
611: password format is illegal<br>
701: username exists  </p>

<h2 id="toc_6"><span id="用户登录">用户登录</span></h2>

<p><strong>请求</strong>：/token/user/signin</p>

<p><strong>method</strong>: post</p>

<p><strong>输入</strong>：</p>

<p>Json:<br>
String account  //注册用户昵称或手机 例如：Matry<br>
String phone    //注册手机号码    例如: 13812345678   </p>

<p><strong>输入示例</strong>：  </p>

<div><pre><code class="language-none">{ 
  &quot;account&quot; : &quot;user2&quot;,
  &quot;password&quot; : &quot;11111111&quot;
}</code></pre></div>

<p><strong>输出</strong>:<br>
String code //状态码<br>
String message //返回码说明<br>
String body //报文体  </p>

<p><strong>输出示例</strong>：<br>
失败:  </p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {&quot;result&quot;: -1}, 
    &quot;message&quot;: &quot;param error&quot;, 
    &quot;code&quot;: 602
}  </code></pre></div>

<p>成功：  </p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {
            &quot;username&quot;: &quot;user2&quot;, 
            &quot;phone&quot;: &quot;15208287002&quot;, 
            &quot;token&quot;: &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwaG9uZSI6IjE1MjA4Mjg3MDAyIiwidGltZSI6IjIwMTctMDUtMDcgMTY6NDY6MDQifQ.wZJcGnq1K5XfZ33U26GeLDoqP0kZGpfjz3TS-Y4SOzs&quot;
            }, 
    &quot;message&quot;: &quot;operate successfully&quot;, 
    &quot;code&quot;: 200
}</code></pre></div>

<p><strong>返回码定义：</strong>:<br>
200 : operate successfully<br>
602: param error<br>
612: Account or password incorrect  </p>

<h2 id="toc_7"><span id="获取用户信息">获取用户信息</span></h2>

<p><strong>请求</strong>：/token/user/info</p>

<p><strong>method</strong>: post</p>

<p><strong>输入</strong>:<br>
Header:
Authorization: token</p>

<p><strong>输入示例</strong>： </p>

<div><pre><code class="language-none">Header:Authorization:token</code></pre></div>

<p><strong>输出</strong>:<br>
String code //状态码<br>
String message //返回码说明<br>
String body //报文体  </p>

<p><strong>输出示例</strong>：<br>
失败:  </p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {&quot;result&quot;: -1}, 
    &quot;message&quot;: &quot;param error&quot;, 
    &quot;code&quot;: 602
}  </code></pre></div>

<p>成功： </p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {
                &quot;name&quot;: &quot;user2&quot;, 
                &quot;created&quot;: &quot;2017-05-04 10:47:34&quot;, 
                &quot;icon_url&quot;: null, 
                &quot;contributed&quot;: [], 
                &quot;rank&quot;: 1, 
                &quot;id&quot;: 205, 
                &quot;phone&quot;: &quot;15208287002&quot;, 
                &quot;score&quot;: 0, 
                &quot;draft&quot;: [], 
                &quot;published&quot;: true, 
                &quot;fullname&quot;: &quot;User 2&quot;, 
                &quot;total&quot;: 9, 
                &quot;email&quot;: &quot;user2@test.com&quot;
            }, 
    &quot;message&quot;: &quot;operate successfully&quot;, 
    &quot;code&quot;: 200
}</code></pre></div>

<p><strong>返回码定义：</strong>:<br>
200 : operate successfully<br>
602: param error<br>
603：token check fail<br>
604: token overtime </p>

<h2 id="toc_8"><span id="修改用户信息">修改用户信息</span></h2>

<p><strong>请求</strong>：/token/user/update<br>
<strong>method</strong>: post<br>
<strong>输入</strong>:<br>
Header:
Authorization: token  </p>

<p>Json:<br>
String new_phone<br>
String new_password<br>
String sms_code<br>
Integer type //1-修改手机号：new<em>phone必填,sms</em>code必填，0-修改密码：  new_password必填    </p>

<p><strong>输入示例</strong>： </p>

<div><pre><code class="language-none">Header:Authorization: token
{ 
    &quot;type&quot;: 1,      //Integer 1-修改手机号：new_phone必填,sms_code必填，2-修改密码：  new_password必填  
    &quot;new_phone&quot;:&quot;&quot;      //String
    &quot;new_password&quot;:&quot;&quot;   //String
    &quot;sms_code&quot;:&quot;&quot;       //String
} </code></pre></div>

<p><strong>输出</strong>:<br>
String code //状态码<br>
String message //返回码说明<br>
String body //报文体  </p>

<p><strong>输出示例</strong>：<br>
失败:  </p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {&quot;result&quot;: -1}, 
    &quot;message&quot;: &quot;param error&quot;, 
    &quot;code&quot;: 602
}  </code></pre></div>

<p>成功： </p>

<div><pre><code class="language-none">{
  &quot;body&quot; : {&quot;token&quot;:&quot;&quot;},
  &quot;code&quot;:200,
  &quot;message&quot;:&quot;operate successfully&quot;
}</code></pre></div>

<p><strong>返回码定义：</strong>:<br>
200 : operate successfully
602: param error<br>
603：token check fail<br>
604: token overtime<br>
605: phone not valid code<br>
608: validate code error<br>
610: phone registered<br>
611: password format is illegal<br>
701: username exists  </p>

<h2 id="toc_9"><span id="用户忘记密码">用户忘记密码</span></h2>

<p><strong>请求</strong>：/token/user/forgotPassword</p>

<p><strong>method</strong>: post</p>

<p><strong>输入</strong>:<br>
Json:<br>
String phone<br>
String new_password  </p>

<p><strong>输入示例</strong>： </p>

<div><pre><code class="language-none">{ 
  &quot;phone&quot; : &quot;15017920859&quot;,
  &quot;new_password&quot; : &quot;99999999&quot;
}</code></pre></div>

<p><strong>输出</strong>:<br>
String code //状态码<br>
String message //返回码说明<br>
String body //报文体  </p>

<p><strong>输出示例</strong>：<br>
失败:  </p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {&quot;result&quot;: -1}, 
    &quot;message&quot;: &quot;param error&quot;, 
    &quot;code&quot;: 602
}  </code></pre></div>

<p>成功：  </p>

<div><pre><code class="language-none">{
  &quot;body&quot; : {&quot;token&quot;:&quot;&quot;},
  &quot;code&quot;:200,
  &quot;message&quot;:&quot;operate successfully&quot;
}</code></pre></div>

<p><strong>返回码定义：</strong>:<br>
200 : operate successfully<br>
602: param error<br>
605: phone not valid code<br>
611: password format is illegal<br>
702: user is not exists</p>

<h2 id="toc_10"><span id="用户获取短信验证码">用户获取短信验证码</span></h2>

<p><strong>请求</strong>：/token/user/getCode</p>

<p><strong>method</strong>: post</p>

<p><strong>输入</strong>:<br>
Json:<br>
String phone<br>
Integer type //0-注册 1-找回密码 2-修改手机号码<br>
<strong>输入示例</strong>： </p>

<div><pre><code class="language-none">{ 
  &quot;phone&quot; : &quot;13812345678&quot;
}</code></pre></div>

<p><strong>输出</strong>:<br>
String code //状态码<br>
String message //返回码说明<br>
String body //报文体  </p>

<p><strong>输出示例</strong>：<br>
失败:  </p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {&quot;result&quot;: -1}, 
    &quot;message&quot;: &quot;param error&quot;, 
    &quot;code&quot;: 602
}  </code></pre></div>

<p>成功：  </p>

<div><pre><code class="language-none">{
  &quot;body&quot; : {&quot;sms_code&quot;: &quot;123456&quot;},
  &quot;code&quot;:200,
  &quot;message&quot;:&quot;operate successfully&quot;
}</code></pre></div>

<p><strong>返回码定义：</strong>:<br>
200 : operate successfully<br>
602: param error<br>
605: phone not valid code 
610: phone registered<br>
702: user is not exists</p>

<h2 id="toc_11"><span id="校验短信验证码">校验短信验证码</span></h2>

<p><strong>请求</strong>：/token/user/checkCode</p>

<p><strong>method</strong>: post</p>

<p><strong>输入</strong>:<br>
Json:<br>
String phone<br>
String sms_code  </p>

<p><strong>输入示例</strong>： </p>

<div><pre><code class="language-none">{ 
  &quot;phone&quot; : &quot;13812345678&quot;,
  &quot;sms_code&quot; : &quot;888888&quot;
}</code></pre></div>

<p><strong>输出</strong>:<br>
String code //状态码<br>
String message //返回码说明<br>
String body //报文体  </p>

<p><strong>输出示例</strong>：<br>
失败:  </p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {&quot;result&quot;: -1}, 
    &quot;message&quot;: &quot;param error&quot;, 
    &quot;code&quot;: 602
}  </code></pre></div>

<p>成功：  </p>

<div><pre><code class="language-none">{
  &quot;body&quot; : {&quot;token&quot;:&quot;&quot;},
  &quot;code&quot;:200,
  &quot;message&quot;:&quot;operate successfully&quot;
}</code></pre></div>

<p><strong>返回码定义：</strong>:<br>
200 : operate successfully<br>
602: param error<br>
608: validate code error</p>

<h2 id="toc_12"><span id="用户问题反馈">用户问题反馈</span></h2>

<p><strong>请求</strong>：/token/feedback/save</p>

<p><strong>method</strong>: post  </p>

<p><strong>输入</strong>:<br>
Header:<br>
Authorization: token</p>

<p>Json:<br>
Integer classification //1-积分发放 2-申请兼职 3-任务查找 4-其他<br>
Integer emergency //1-非常紧急 2-紧急 3-一般<br>
String remark //问题描述  </p>

<p><strong>输入示例</strong>： </p>

<div><pre><code class="language-none">Header:Authorization: token
{ 
  &quot;classification&quot; : 1,
  &quot;emergency&quot;: 2,
  &quot;remark&quot;:&quot;test&quot;
}</code></pre></div>

<p><strong>输出</strong>:<br>
String code //状态码<br>
String message //返回码说明<br>
String body //报文体  </p>

<p><strong>输出示例</strong>：<br>
失败:  </p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {&quot;result&quot;: -1}, 
    &quot;message&quot;: &quot;param error&quot;, 
    &quot;code&quot;: 602
}  </code></pre></div>

<p>成功：  </p>

<div><pre><code class="language-none">{
  &quot;body&quot; : {&quot;token&quot;:&quot;&quot;},
  &quot;code&quot;:200,
  &quot;message&quot;:&quot;operate successfully&quot;
}</code></pre></div>

<p><strong>返回码定义：</strong>:<br>
200 : operate successfully<br>
602: param error<br>
603：token check fail<br>
604: token overtime  </p>

<h2 id="toc_13"><span id="为用户分配一个任务">为用户分配一个任务</span></h2>

<h3 id="toc_14">这个方法面向js,返回格式特殊</h3>

<p><strong>请求</strong>：/token/project/&lt;project_id&gt;/newtask  </p>

<p><strong>method</strong>: get  </p>

<p><strong>输入</strong>:<br>
Header:<br>
Authorization: token  </p>

<p>url:<br>
Integer <project_id></p>

<p><strong>输入示例</strong>： </p>

<p><strong>输出</strong>:<br>
这个方法面向js,返回格式特殊。<br>
有任务则返回任务详情，无任务则返回空，有其他错误就返回异常信息</p>

<p><strong>输出示例</strong>： </p>

<p>失败:  </p>

<div><pre><code class="language-none">{
  &quot;body&quot;: {
    &quot;error&quot;: &quot;&#39;NoneType&#39; object has no attribute &#39;get&#39;&quot;
  },
  &quot;status&quot;: &quot;failed&quot;,
  &quot;code&quot;: 415,
  &quot;target&quot;: &quot;project&quot;,
  &quot;exception_msg&quot;: &quot;&#39;NoneType&#39; object has no attribute &#39;get&#39;&quot;,
  &quot;status_code&quot;: 415,
  &quot;exception_cls&quot;: &quot;AttributeError&quot;,
  &quot;action&quot;: &quot;GET&quot;,
  &quot;message&quot;: &quot;AttributeError&quot;
}  </code></pre></div>

<p>成功： </p>

<div><pre><code class="language-none">{
  &quot;info&quot;: {
    &quot;url&quot;: &quot;http://192.168.0.182:8000/tiny_img/hospital/10_19_hospital.jpg&quot;,
    &quot;question&quot;: &quot;Please check the hospital!&quot;,
    &quot;type&quot;: &quot;hospital&quot;
  },
  &quot;n_answers&quot;: 3,
  &quot;quorum&quot;: 0,
  &quot;calibration&quot;: 0,
  &quot;created&quot;: &quot;2017-05-09 11:21:49&quot;,
  &quot;state&quot;: &quot;ongoing&quot;,
  &quot;valid_state&quot;: 0,
  &quot;valid_result&quot;: 0,
  &quot;project_id&quot;: 1,
  &quot;id&quot;: 1311,
  &quot;priority_0&quot;: 0
}</code></pre></div>

<h2 id="toc_15"><span id="获取任务信息">获取任务信息</span></h2>

<p><strong>请求</strong>：/token/task/&lt;task_id&gt;</p>

<p><strong>method</strong>: get  </p>

<p><strong>输入</strong>:<br>
Header:
Authorization: token </p>

<p>Json:<br>
Integer project<em>id //project id
Integer offset //偏移量,url中添加
String external</em>uid //问题描述, url中添加</p>

<p><strong>输入示例</strong>： </p>

<div><pre><code class="language-none">Header:Authorization:token
{ 
  &quot;classification&quot; : 1,
  &quot;emergency&quot;: 2,
  &quot;remark&quot;:&quot;test&quot;
}</code></pre></div>

<p><strong>输出</strong>:<br>
String code //状态码
String message //返回码说明
String body //报文体</p>

<p><strong>输出示例</strong>：<br>
失败:  </p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {&quot;result&quot;: -1}, 
     &quot;message&quot;: &quot;param error&quot;,
     &quot;code&quot;: 602
    } </code></pre></div>

<p>成功：</p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {
        &quot;id&quot;:1,   //任务id
        &quot;created&quot;:&quot;&quot;, //任务创建时间
        &quot;project_id&quot;: 1, 
        &quot;state&quot;:&quot;u&#39;ongoing&#39;&quot;,
        &quot;quorum&quot;:0,//Integer
        &quot;calibration&quot;:0,//Integer
        &quot;priority_0&quot;:0,//Float
        &quot;user_id&quot; :1,
        &quot;user_ip&quot; :&quot;127.0.0.1&quot;,
        &quot;external_uid&quot;:&quot;&quot;
 },
    &quot;code&quot;:200,
    &quot;message&quot;:&quot;operate successfully&quot;
}</code></pre></div>

<p><strong>返回码定义：</strong>:<br>
200 : operate successfully<br>
602: param error<br>
603：token check fail<br>
604: token overtime   </p>

<h2 id="toc_16"><span id="获取抽奖转盘信息">获取抽奖转盘信息</span></h2>

<p><strong>请求</strong>：token/lottery/queryLotteryInfo </p>

<p><strong>method</strong>: post</p>

<p><strong>输入</strong>:  </p>

<div><pre><code class="language-none">Header:Authorization: token
{
    &quot;lottery_id&quot;:&quot;&quot;     //Integer 抽奖转盘ID
}</code></pre></div>

<p><strong>输出</strong>：<br>
失败：</p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {&quot;result&quot;: -1}, 
    &quot;message&quot;: &quot;&quot;,      // String 错误信息
    &quot;code&quot;: 602         // Integer 错误码
} </code></pre></div>

<p>成功：</p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {
                &quot;lottery_id&quot;: 1,        // Integer 抽奖转盘ID
                &quot;lottery_desc&quot;:&quot;&quot;,      // String 抽奖转盘描述 
                &quot;wheel_icon_url&quot;:&quot;&quot;,        //String 转盘url 
                &quot;point_icon_url&quot;:&quot;&quot;,        //String 指针url  
                &quot;background_icon_url&quot;:&quot;&quot;,   //String 转盘背景图url  
                &quot;details&quot;:[
                {
                    &quot;prize_id&quot;:&quot;&quot;,          //Integer 奖品id
                    &quot;index&quot;:&quot;&quot;,             //Integer 奖品所处位置
                    &quot;prize_name&quot;:&quot;&quot;,        //String 奖品名称
                    &quot;prize_value&quot;:&quot;&quot;,       //Integer 奖品价值
                    &quot;prize_icon_url&quot;:&quot;&quot;,    //String 奖品图标
                    &quot;prize_type&quot;:&quot;&quot;,        //Integer 奖品类型：0-谢谢参与or未中奖 1-积分  2-实物
                    &quot;color&quot;:&quot;&quot;              //String 转盘颜色
                }
                        ]
            
            }, 
    &quot;message&quot;: &quot;operate successfully&quot;,
    &quot;code&quot;: 200
}</code></pre></div>

<p><strong>返回码定义：</strong><br>
200 : operate successfully<br>
602: param error<br>
603：token check fail<br>
604: token overtime  </p>

<h2 id="toc_17"><span id="开始抽奖">开始抽奖</span></h2>

<p><strong>请求</strong>：token/lottery/startLottery  </p>

<p><strong>method</strong>: post  </p>

<p><strong>输入</strong>：   </p>

<div><pre><code class="language-none">Header:Authorization: token
{
    &quot;lottery_id&quot;:&quot;&quot;          // Integer 抽奖转盘ID
    &quot;threshold_value&quot;:&quot;&quot;     // Integer 达到抽奖的阈值
}</code></pre></div>

<p><strong>输出</strong>：  </p>

<p>失败：</p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {&quot;result&quot;: -1}, 
    &quot;message&quot;: &quot;&quot;,      // String 错误信息
    &quot;code&quot;: 602         // Integer 错误码
} </code></pre></div>

<p>成功：</p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {
        &quot;record_id&quot;:&quot;&quot;,             //Integer 抽奖记录id
        &quot;prize_id&quot;:&quot;&quot;,              //Integer 奖品id
        &quot;index&quot;:&quot;&quot;,                 //Integer 奖品所处位置
        &quot;prize_type&quot;:&quot;&quot;,            //Integer 奖品类型：0-谢谢参与or未中奖 1-积分  2-实物
        &quot;prize_name&quot;:&quot;&quot;,            //String 奖品名称
        &quot;prize_value&quot;:&quot;&quot;,           //Integer 奖品价值
        &quot;prize_icon_url&quot;:&quot;&quot;,          //String 奖品url
        &quot;next_order_num&quot;:&quot;&quot;,          //Integer 下一次达到抽奖机会所做订单数量
        &quot;remaining_lottery_chance&quot;:&quot;&quot;,      //Integer 剩余抽奖机会
        &quot;config_id&quot;:&quot;&quot;               //Integer 用于后期恢复库存
            }, 
    &quot;message&quot;: &quot;operate successfully&quot;,
    &quot;code&quot;: 200
}</code></pre></div>

<p><strong>返回码定义：</strong><br>
200 : operate successfully<br>
602: param error<br>
603：token check fail<br>
604: token overtime<br>
902：current order num not reach lottery chance<br>
903：lottery times over limit</p>

<h2 id="toc_18"><span id ="记录实物奖励领奖信息">记录实物奖励领奖信息</span></h2>

<p><strong>请求</strong>：token/lottery/harvestLottery  </p>

<p><strong>method</strong>: post  </p>

<p><strong>输入</strong>：  </p>

<div><pre><code class="language-none">Header:Authorization: token
{
    &quot;username&quot;:&quot;&quot;,       //String 用户名称
    &quot;phone&quot;:&quot;&quot;,          //String 手机号码
    &quot;address&quot;:&quot;&quot;,        //String 用户地址
    &quot;record_id&quot;:&quot;&quot;       //Integer 记录id
}</code></pre></div>

<p><strong>输出</strong>：<br>
失败：</p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {&quot;result&quot;: -1}, 
    &quot;message&quot;: &quot;&quot;,      // String 错误信息
    &quot;code&quot;: 602         // Integer 错误码
} </code></pre></div>

<p>成功：</p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {
        &quot;lottery_id&quot;:&quot;&quot;,    //Integer 记录id //转成了Unicode
        &quot;name&quot;:&quot;&quot;,          //String 用户名称 //转成了Unicode
        &quot;phone_number&quot;:&quot;&quot;,  //String 手机号码 //转成了Unicode
        &quot;address&quot;:&quot;&quot;        //String 用户地址
            }, 
    &quot;message&quot;: &quot;operate successfully&quot;,
    &quot;code&quot;: 200
}</code></pre></div>

<p><strong>返回码定义：</strong><br>
200 : operate successfully<br>
602: param error<br>
603：token check fail<br>
604: token overtime<br>
605: phone not valid code</p>

<h2 id="toc_19"><span id="任务统计">任务统计</span></h2>

<p><strong>请求</strong>：token/statistics/taskStatistics  </p>

<p><strong>method</strong>: post  </p>

<p><strong>输入</strong>：
<code>
Header:Authorization: token
</code>
<strong>输出</strong>:<br>
失败：</p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {&quot;result&quot;: -1}, 
    &quot;message&quot;: &quot;&quot;,      // String 错误信息
    &quot;code&quot;: 602         // Integer 错误码
} </code></pre></div>

<p>成功：</p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {
        &quot;total_order_num&quot;:&quot;&quot;,       //Long 累计提交订单数量
        &quot;wait_valid_num&quot;:&quot;&quot;,        //Long 等待交叉验证中数量
        &quot;valid_finish_num&quot;:&quot;&quot;,      //Long 已经交叉验证数量
        &quot;valid_pass_num&quot;:&quot;&quot;,        //Long 验证通过数量
        &quot;valid_failure_num&quot;:&quot;&quot;,     //Long 验证失败数量
        &quot;current_score&quot;:&quot;&quot;          //Integer 当前总积分
            }, 
    &quot;message&quot;: &quot;operate successfully&quot;,
    &quot;code&quot;: 200
}</code></pre></div>

<p><strong>返回码定义：</strong><br>
200 : operate successfully<br>
602: param error<br>
603：token check fail<br>
604: token overtime  </p>

<h2 id="toc_20"><span id="放弃实物奖励">放弃实物奖励</span></h2>

<p><strong>请求</strong>：token/lottery/harvestLotteryGiveUp  </p>

<p><strong>method</strong>: post  </p>

<p><strong>输入</strong>：</p>

<div><pre><code class="language-none">Header:Authorization: token
{
    &quot;config_id&quot;: 1,       //Integer 抽奖配置id
    &quot;record_id&quot;: 1        //Integer 抽奖记录id 
}</code></pre></div>

<p><strong>输出</strong>:
失败：</p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {&quot;result&quot;: -1}, 
    &quot;message&quot;: &quot;&quot;,      // String 错误信息
    &quot;code&quot;: 602         // Integer 错误码
} </code></pre></div>

<p>成功：</p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {
        &quot;config_id&quot;:&quot;&quot;,     //Integer 抽奖配置id //转成了Unicode
        &quot;record_id&quot;:&quot;&quot;      //Integer 抽奖记录id //转成了Unicode
            }, 
    &quot;message&quot;: &quot;operate successfully&quot;,
    &quot;code&quot;: 200
}</code></pre></div>

<p><strong>返回码定义：</strong><br>
200 : operate successfully<br>
602: param error<br>
603：token check fail<br>
604: token overtime<br>
904：Prize had been received already</p>

<h2 id="toc_21"><span id="获取做任务页面数据">获取做任务页面数据</span></h2>

<p><strong>请求</strong>：token/statistics/userInfo  </p>

<p><strong>method</strong>: GET/POST  </p>

<p><strong>输入</strong>:  </p>

<div><pre><code class="language-none">Header:Authorization:token
{
    &quot;task_id&quot;:&quot;&quot; // 任务id
}</code></pre></div>

<p><strong>输出</strong>:  </p>

<p>失败：</p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {&quot;result&quot;: -1}, 
    &quot;message&quot;: &quot;&quot;,      // String 错误信息
    &quot;code&quot;: 602         // Integer 错误码
} </code></pre></div>

<p>成功：</p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {
        &quot;total_order_num&quot;:&quot;&quot;,   //Integer 累计提交
        &quot;task_rand_score&quot;:&quot;&quot;,   //Integer 任务奖励
        &quot;current_day_tasks&quot;:&quot;&quot;,   //Integer 今日提交订单数
        &quot;current_score&quot;:&quot;&quot;,   //Integer 当前积分数
            }, 
    &quot;message&quot;: &quot;operate successfully&quot;,
    &quot;code&quot;: 200
}</code></pre></div>

<p><strong>返回码定义：</strong><br>
200 : operate successfully<br>
602: param error<br>
603：token check fail<br>
604: token overtime<br>
904：Prize had been received already</p>

<h2 id="toc_22"><span id="无任务">无任务</span></h2>

<p><strong>请求</strong>：token/task/notTask  </p>

<p><strong>method</strong>: GET/POST  </p>

<p><strong>输入</strong>:</p>

<div><pre><code class="language-none">Header:Authorization:token</code></pre></div>

<p><strong>输出</strong>:<br>
失败：</p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {&quot;result&quot;: -1}, 
    &quot;message&quot;: &quot;&quot;,      // String 错误信息
    &quot;code&quot;: 602         // Integer 错误码
} </code></pre></div>

<p>成功：</p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {
        &quot;current_day_tasks&quot;:&quot;&quot;,   //Integer 今日提交订单数
        &quot;plan_score&quot;:&quot;&quot;,   //Integer 预计奖励积分
            }, 
    &quot;message&quot;: &quot;operate successfully&quot;,
    &quot;code&quot;: 200
}</code></pre></div>

<p><strong>返回码定义：</strong><br>
200 : operate successfully<br>
602: param error<br>
603：token check fail</p>

<h2 id="toc_23"><span id="转盘抽奖机会配置信息">转盘抽奖机会配置信息</span></h2>

<p><strong>请求</strong>：token/lottery/getchanceconfig  </p>

<p><strong>method</strong>: GET/POST  </p>

<p><strong>输入</strong>:  </p>

<p>//无</p>

<p><strong>输出</strong>:<br>
失败：  </p>

<p>//不会返回错误码</p>

<p>成功：</p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {
        &quot;chance_configs&quot;:[
             {
                 &quot;created&quot;:&quot;&quot;,   // String(Text) UTC 创建时间戳
                 &quot;updated&quot;:&quot;&quot;,   // String(Text) UTC 更新时间戳
                 &quot;interval&quot;:&quot;&quot;,  // Integer 抽奖间隔
                 &quot;times&quot;:&quot;&quot;,     // Integer 抽奖次数
                 &quot;lottery_id&quot;:&quot;&quot; // Integer 抽奖转盘id
                    },
                 {
                 ...
                    }
             ]
        }, 
    &quot;message&quot;: &quot;operate successfully&quot;,
    &quot;code&quot;: 200
}</code></pre></div>

<h2 id="toc_24"><span id="获取一个有待做任务的project的short_name">获取一个有待做任务的project的short_name</span></h2>

<p><strong>请求</strong>：token/getongoingproject  </p>

<p><strong>method</strong>: GET/POST  </p>

<p><strong>输入</strong>: </p>

<div><pre><code class="language-none">Header:Authorization:token</code></pre></div>

<p><strong>输出</strong>:<br>
失败：</p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {&quot;result&quot;: -1}, 
    &quot;message&quot;: &quot;&quot;,      // String 错误信息
    &quot;code&quot;: 602         // Integer 错误码
} </code></pre></div>

<p>成功：</p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {
        &quot;short_name&quot;:&quot;&quot; //String  project的short_name 
        }, 
    &quot;message&quot;: &quot;operate successfully&quot;,
    &quot;code&quot;: 200
}</code></pre></div>

<p><strong>返回码定义：</strong><br>
200 : operate successfully<br>
603：token check fail<br>
604: token overtime<br>
905：There no available task now</p>

<h2 id="toc_25"><span id="查询当前用户当前阈值下有多少抽奖机会">查询当前用户当前阈值下有多少抽奖机会</span></h2>

<p><strong>请求</strong>：token/getuserremainingchance</p>

<p><strong>method</strong>: GET/POST  </p>

<p><strong>输入</strong>:  </p>

<div><pre><code class="language-none">Header:Authorization:token
{
    &quot;threshold_value&quot;:&quot;&quot;
}</code></pre></div>

<p><strong>输出</strong>:<br>
失败：</p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {&quot;result&quot;: -1}, 
    &quot;message&quot;: &quot;&quot;,      // String 错误信息
    &quot;code&quot;: 602         // Integer 错误码
} </code></pre></div>

<p>成功：</p>

<div><pre><code class="language-none">{
    &quot;body&quot;: {
        &quot;remaining_chance&quot;:1 //Integer 用户剩余的抽奖次数 
        }, 
    &quot;message&quot;: &quot;operate successfully&quot;,
    &quot;code&quot;: 200
}</code></pre></div>

<p><strong>返回码定义：</strong><br>
200 : operate successfully<br>
602: param error<br>
603：token check fail<br>
604: token overtime  </p>




</body>

</html>
