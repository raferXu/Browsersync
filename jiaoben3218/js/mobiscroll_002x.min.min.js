/*!
 * jQuery MobiScroll v2.5.1
 * http://mobiscroll.com
 *
 * Copyright 2010-2013, Acid Media
 * Licensed under the MIT license.
 *
 */
(function(ag){function W(t,k){var r,b,v,l,n,p,o,a,G,y,J,x=this,H=ag.mobiscroll,e=t,f=ag(e),z,g,u=au({},ae),A={},I=[],B={},c={},s=f.is("input"),C=false;function F(N){if(ag.isArray(u.readonly)){var M=ag(".dwwl",l).index(N);return u.readonly[M]}return u.readonly}function E(M){var N='<div class="dw-bf">',P=1,O;for(O in I[M]){if(P%20==0){N+='</div><div class="dw-bf">'}N+='<div class="dw-li dw-v" data-val="'+O+'" style="height:'+b+"px;line-height:"+b+'px;"><div class="dw-i">'+I[M][O]+"</div></div>";P++}N+="</div>";return N}function q(M){Q=ag(".dw-li",M).index(ag(".dw-v",M).eq(0));an=ag(".dw-li",M).index(ag(".dw-v",M).eq(-1));ah=ag(".dw-ul",l).index(M);R=b;af=x}function L(N){var M=u.headerText;return M?(typeof M==="function"?M.call(e,N):M.replace(/\{value\}/i,N)):""}function D(){x.temp=((s&&x.val!==null&&x.val!=f.val())||x.values===null)?u.parseValue(f.val()||"",x):x.values.slice(0);x.setValue(true)}function i(N,P,O,aF,M){if(K("validate",[l,P,N])!==false){ag(".dw-ul",l).each(function(aR){var aW=ag(this),aX=ag('.dw-li[data-val="'+x.temp[aR]+'"]',aW),aV=ag(".dw-li",aW),aY=aV.index(aX),aU=aV.length,a1=aR==P||P===undefined;if(!aX.hasClass("dw-v")){var aZ=aX,a0=aX,aS=0,aT=0;while(aY-aS>=0&&!aZ.hasClass("dw-v")){aS++;aZ=aV.eq(aY-aS)}while(aY+aT<aU&&!a0.hasClass("dw-v")){aT++;a0=aV.eq(aY+aT)}if(((aT<aS&&aT&&aF!==2)||!aS||(aY-aS<0)||aF==1)&&a0.hasClass("dw-v")){aX=a0;aY=aY+aT}else{aX=aZ;aY=aY-aS}}if(!(aX.hasClass("dw-sel"))||a1){x.temp[aR]=aX.attr("data-val");ag(".dw-sel",aW).removeClass("dw-sel");aX.addClass("dw-sel");x.scroll(aW,aR,aY,a1?N:0.1,a1?M:undefined)}});x.change(O)}}function w(N){if(u.display=="inline"||(n===ag(window).width()&&o===ag(window).height()&&N)){return}var aZ,aT,aX,aY,P,aV,aW,aS,a5,aR,a6,a4,M=0,a2=0,aU=ag(window).scrollTop(),a3=ag(".dwwr",l),O=ag(".dw",l),a0={},a1=u.anchor===undefined?f:u.anchor;n=ag(window).width();o=ag(window).height();p=window.innerHeight;p=p||o;if(/modal|bubble/.test(u.display)){ag(".dwc",l).each(function(){aZ=ag(this).outerWidth(true);M+=aZ;a2=(aZ>a2)?aZ:a2});aZ=M>n?a2:M;a3.width(aZ)}a=O.outerWidth();G=O.outerHeight(true);if(u.display=="modal"){aT=(n-a)/2;aX=aU+(p-G)/2}else{if(u.display=="bubble"){a4=true;a5=ag(".dw-arrw-i",l);aV=a1.offset();aW=aV.top;aS=aV.left;aY=a1.outerWidth();P=a1.outerHeight();aT=aS-(O.outerWidth(true)-aY)/2;aT=aT>(n-a)?(n-(a+20)):aT;aT=aT>=0?aT:20;aX=aW-G;if((aX<aU)||(aW>aU+p)){O.removeClass("dw-bubble-top").addClass("dw-bubble-bottom");aX=aW+P}else{O.removeClass("dw-bubble-bottom").addClass("dw-bubble-top")}aR=a5.outerWidth();a6=aS+aY/2-(aT+(a-aR)/2);ag(".dw-arr",l).css({left:a6>aR?aR:a6})}else{a0.width="100%";if(u.display=="top"){aX=aU}else{if(u.display=="bottom"){aX=aU+p-G}}}}a0.top=aX<0?0:aX;a0.left=aT;O.css(a0);ag(".dw-persp",l).height(0).height(aX+G>ag(document).height()?aX+G:ag(document).height());if(a4&&((aX+G>aU+p)||(aW>aU+p))){ag(window).scrollTop(aX+G-p)}}function j(M){if(M.type==="touchstart"){V=true;setTimeout(function(){V=false},500)}else{if(V){V=false;return false}}return true}function K(M,N){var O;N.push(x);ag.each([z.defaults,A,k],function(P,aF){if(aF[M]){O=aF[M].apply(e,N)}});return O}function m(O){var N=+O.data("pos"),M=N+1;aw(O,M>an?Q:M,1,true)}function d(O){var N=+O.data("pos"),M=N-1;aw(O,M<Q?an:M,2,true)}x.enable=function(){u.disabled=false;if(s){f.prop("disabled",false)}};x.disable=function(){u.disabled=true;if(s){f.prop("disabled",true)}};x.scroll=function(M,aH,aK,aJ,P){function O(aP,aQ,aF,aO){return aF*Math.sin(aP/aO*(Math.PI/2))+aQ}function aG(){clearInterval(B[aH]);delete B[aH];M.data("pos",aK).closest(".dwwl").removeClass("dwa")}var N=(r-aK)*b,aI;if(N==c[aH]&&B[aH]){return}if(aJ&&N!=c[aH]){K("onAnimStart",[l,aH,aJ])}c[aH]=N;M.attr("style",(aa+"-transition:all "+(aJ?aJ.toFixed(3):0)+"s ease-out;")+(aq?(aa+"-transform:translate3d(0,"+N+"px,0);"):("top:"+N+"px;")));if(B[aH]){aG()}if(aJ&&P!==undefined){aI=0;M.closest(".dwwl").addClass("dwa");B[aH]=setInterval(function(){aI+=0.1;M.data("pos",Math.round(O(aI,P,aK-P,aJ)));if(aI>=aJ){aG()}},100)}else{M.data("pos",aK)}};x.setValue=function(M,N,O,P){if(!ag.isArray(x.temp)){x.temp=u.parseValue(x.temp+"",x)}if(C&&M){i(O)}v=u.formatResult(x.temp);if(!P){x.values=x.temp.slice(0);x.val=v}if(N){if(s){f.val(v).trigger("change")}}};x.getValues=function(){var N=[],M;for(M in x._selectedValues){N.push(x._selectedValues[M])}return N};x.validate=function(O,P,N,M){i(N,O,true,P,M)};x.change=function(M){v=u.formatResult(x.temp);if(u.display=="inline"){x.setValue(false,M)}else{ag(".dwv",l).html(L(v))}if(M){K("onChange",[v])}};x.changeWheel=function(aG,M){if(l){var O=0,P,aF,N=aG.length;for(P in u.wheels){for(aF in u.wheels[P]){if(ag.inArray(O,aG)>-1){I[O]=u.wheels[P][aF];ag(".dw-ul",l).eq(O).html(E(O));N--;if(!N){w();i(M,undefined,true);return}}O++}}}};x.isVisible=function(){return C};x.tap=function(M,N){var O,P;if(u.tap){M.bind("touchstart",function(aG){aG.preventDefault();O=at(aG,"X");P=at(aG,"Y")}).bind("touchend",function(aG){if(Math.abs(at(aG,"X")-O)<20&&Math.abs(at(aG,"Y")-P)<20){N.call(this,aG)}Z=true;setTimeout(function(){Z=false},300)})}M.bind("click",function(aG){if(!Z){N.call(this,aG)}})};x.show=function(aF){if(u.disabled||C){return false}if(u.display=="top"){y="slidedown"}if(u.display=="bottom"){y="slideup"}D();K("onBeforeShow",[l]);var aG=0,N,P,M="";if(y&&!aF){M="dw-"+y+" dw-in"}var O='<div class="dw-trans '+u.theme+" dw-"+u.display+'">'+(u.display=="inline"?'<div class="dw dwbg dwi"><div class="dwwr">':'<div class="dw-persp"><div class="dwo"></div><div class="dw dwbg '+M+'"><div class="dw-arrw"><div class="dw-arrw-i"><div class="dw-arr"></div></div></div><div class="dwwr">'+(u.headerText?'<div class="dwv" style="display:none"></div>':""));for(N=0;N<u.wheels.length;N++){O+='<div class="dwc'+(u.mode!="scroller"?" dwpm":" dwsc")+(u.showLabel?"":" dwhl")+'"><div class="dwwc dwrc"><table cellpadding="0" cellspacing="0"><tr>';for(P in u.wheels[N]){I[aG]=u.wheels[N][P];O+='<td><div class="dwwl dwrc dwwl'+aG+'">'+(u.mode!="scroller"?'<div class="dwwb dwwbp" style="height:'+b+"px;line-height:"+b+'px;"><span>+</span></div><div class="dwwb dwwbm" style="height:'+b+"px;line-height:"+b+'px;"><span>&ndash;</span></div>':"")+'<div class="dwl">'+P+'</div><div class="dww" style="height:'+(u.rows*b)+"px;min-width:"+u.width+'px;"><div class="dw-ul">';O+=E(aG);O+='</div><div class="dwwo"></div></div><div class="dwwol dwwol'+aG+'"></div></div></td>';aG++}O+="</tr></table></div></div>"}O+=(u.display!="inline"?'<div class="dwbc'+(u.button3?" dwbc-p":"")+'"><span style="width:100%" class="dwbw dwb-s"><span class="dwb">'+u.setText+"</span></span>"+(u.button3?'<span class="dwbw dwb-n"><span class="dwb">'+u.button3Text+"</span></spans>":"")+"</div></div>":'<div class="dwcc"></div>')+"</div></div></div>";l=ag(O);i();K("onMarkupReady",[l]);if(u.display!="inline"){l.appendTo("body");setTimeout(function(){l.removeClass("dw-trans").find(".dw").removeClass(M)},350)}else{if(f.is("div")){f.html(l)}else{l.insertAfter(f)}}K("onMarkupInserted",[l]);C=true;z.init(l,x);if(u.display!="inline"){x.tap(ag(".dwb-s span",l),function(){if(x.hide(false,"set")!==false){x.setValue(false,true);K("onSelect",[x.val]);blockStr.str=x.val;for(var aK=0;aK<8;aK++){var aJ=ag("#codeLockWrap input.ansNum");aJ[aK].value=blockStr.str[aK]}}});x.tap(ag(".dwb-c span",l),function(){x.cancel()});x.tap(ag(".dwbg",l),function(aI){aI.stopPropagation()});x.tap(ag(".dw-persp",l),function(){x.cancel()});if(u.button3){x.tap(ag(".dwb-n span",l),u.button3)}if(u.scrollLock){l.bind("touchmove",function(aI){if(G<=p&&a<=n){aI.preventDefault()}})}ag("input,select,button").each(function(){if(!ag(this).prop("disabled")){ag(this).addClass("dwtd").prop("disabled",true)}});w();ag(window).bind("resize.dw",function(){clearTimeout(J);J=setTimeout(function(){w(true)},100)})}l.delegate(".dwwl","DOMMouseScroll mousewheel",function(aP){if(!F(this)){aP.preventDefault();aP=aP.originalEvent;var aN=aP.wheelDelta?(aP.wheelDelta/120):(aP.detail?(-aP.detail/3):0),aM=ag(".dw-ul",this),aQ=+aM.data("pos"),aO=Math.round(aQ-aN);q(aM);aw(aM,aO,aN<0?1:2)}}).delegate(".dwb, .dwwb",ax,function(aI){ag(this).addClass("dwb-a")}).delegate(".dwwb",ax,function(aM){aM.stopPropagation();aM.preventDefault();var aL=ag(this).closest(".dwwl");if(j(aM)&&!F(aL)&&!aL.hasClass("dwa")){ac=true;var aO=aL.find(".dw-ul"),aN=ag(this).hasClass("dwwbp")?m:d;q(aO);clearInterval(al);al=setInterval(function(){aN(aO)},u.delay);aN(aO)}}).delegate(".dwwl",ax,function(aI){aI.preventDefault();if(j(aI)&&!ar&&!F(this)&&!ac){ar=true;ag(document).bind(ab,ap);aE=ag(".dw-ul",this);ai=u.mode!="clickpick";ak=+aE.data("pos");q(aE);aB=B[ah]!==undefined;am=at(aI,"Y");ay=new Date();ao=am;x.scroll(aE,ah,ak,0.001);if(ai){aE.closest(".dwwl").addClass("dwa")}}});K("onShow",[l,v])};x.hide=function(N,M){if(!C||K("onClose",[v,M])===false){return false}ag(".dwtd").prop("disabled",false).removeClass("dwtd");f.blur();if(l){if(u.display!="inline"&&y&&!N){l.addClass("dw-trans").find(".dw").addClass("dw-"+y+" dw-out");setTimeout(function(){l.remove();l=null},350)}else{l.remove();l=null}C=false;c={};ag(window).unbind(".dw")}};x.cancel=function(){if(x.hide(false,"cancel")!==false){K("onCancel",[x.val])}};x.init=function(N){z=au({defaults:{},init:aD},H.themes[N.theme||u.theme]);g=H.i18n[N.lang||u.lang];au(k,N);au(u,z.defaults,g,k);x.settings=u;f.unbind(".dw");var M=H.presets[u.preset];if(M){A=M.call(e,x);au(u,A,k);au(ad,A.methods)}r=Math.floor(u.rows/2);b=u.height;y=u.animate;if(f.data("dwro")!==undefined){e.readOnly=aC(f.data("dwro"))}if(C){x.hide()}if(u.display=="inline"){x.show()}else{D();if(s&&u.showOnFocus){f.data("dwro",e.readOnly);e.readOnly=true;f.bind("focus.dw",function(){x.show()})}}};x.trigger=function(N,M){return K(N,M)};x.values=null;x.val=null;x.temp=null;x._selectedValues={};x.init(k)}function Y(b){var a;for(a in b){if(aA[b[a]]!==undefined){return true}}return false}function aj(){var a=["Webkit","Moz","O","ms"],b;for(b in a){if(Y([a[b]+"Transform"])){return"-"+a[b].toLowerCase()}}return""}function az(a){return h[a.id]}function at(d,a){var c=d.originalEvent,b=d.changedTouches;return b||(c&&c.changedTouches)?(c?c.changedTouches[0]["page"+a]:b[0]["page"+a]):d["page"+a]}function aC(a){return(a===true||a=="true")}function T(b,c,a){b=b>a?a:b;b=b<c?c:b;return b}function aw(a,i,f,e,d){i=T(i,Q,an);var b=ag(".dw-li",a).eq(i),j=d===undefined?i:d,c=ah,g=e?(i==j?0.1:Math.abs((i-j)*0.1)):0;af.temp[c]=b.attr("data-val");af.scroll(a,c,i,g,d);setTimeout(function(){af.validate(c,f,g,d)},10)}function U(c,b,a){if(ad[b]){return ad[b].apply(c,Array.prototype.slice.call(a,1))}if(typeof b==="object"){return ad.init.call(c,b)}return c}var h={},al,aD=function(){},R,Q,an,af,S=new Date(),av=S.getTime(),ar,ac,aE,ah,am,ao,ay,ak,aB,ai,aA=document.createElement("modernizr").style,aq=Y(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),aa=aj(),au=ag.extend,Z,V,ax="touchstart mousedown",ab="touchmove mousemove",X="touchend mouseup",ap=function(a){if(ai){a.preventDefault();ao=at(a,"Y");af.scroll(aE,ah,T(ak+(am-ao)/R,Q-1,an+1))}aB=true},ae={width:70,height:40,rows:3,delay:300,disabled:false,readonly:false,showOnFocus:true,showLabel:true,wheels:[],theme:"",headerText:"{value}",display:"modal",mode:"scroller",preset:"",lang:"en-US",setText:"Set",cancelText:"Cancel",scrollLock:true,tap:true,formatResult:function(a){return a.join(" ")},parseValue:function(c,e){var b=e.settings.wheels,j=c.split(" "),d=[],g=0,f,i,a;for(f=0;f<b.length;f++){for(i in b[f]){if(b[f][i][j[g]]!==undefined){d.push(j[g])}else{for(a in b[f][i]){d.push(a);break}}g++}}return d}},ad={init:function(a){if(a===undefined){a={}}return this.each(function(){if(!this.id){av+=1;this.id="scoller"+av}h[this.id]=new W(this,a)})},enable:function(){return this.each(function(){var a=az(this);if(a){a.enable()}})},disable:function(){return this.each(function(){var a=az(this);if(a){a.disable()}})},isDisabled:function(){var a=az(this[0]);if(a){return a.settings.disabled}},isVisible:function(){var a=az(this[0]);if(a){return a.isVisible()}},option:function(a,b){return this.each(function(){var d=az(this);if(d){var c={};if(typeof a==="object"){c=a}else{c[a]=b}d.init(c)}})},setValue:function(a,c,d,b){return this.each(function(){var e=az(this);if(e){e.temp=a;e.setValue(true,c,d,b)}})},getInst:function(){return az(this[0])},getValue:function(){var a=az(this[0]);if(a){return a.values}},getValues:function(){var a=az(this[0]);if(a){return a.getValues()}},show:function(){var a=az(this[0]);if(a){return a.show()}},hide:function(){return this.each(function(){var a=az(this);if(a){a.hide()}})},destroy:function(){return this.each(function(){var a=az(this);if(a){a.hide();ag(this).unbind(".dw");delete h[this.id];if(ag(this).is("input")){this.readOnly=aC(ag(this).data("dwro"))}}})}};ag(document).bind(X,function(d){if(ar){var g=new Date()-ay,i=T(ak+(am-ao)/R,Q-1,an+1),f,c,k,e=aE.offset().top;if(g<300){f=(ao-am)/g;c=(f*f)/(2*0.0006);if(ao-am<0){c=-c}}else{c=ao-am}k=Math.round(ak-c/R);if(!c&&!aB){var b=Math.floor((ao-e)/R),a=ag(".dw-li",aE).eq(b),j=ai;if(af.trigger("onValueTap",[a])!==false){k=b}else{j=true}if(j){a.addClass("dw-hl");setTimeout(function(){a.removeClass("dw-hl")},200)}}if(ai){aw(aE,k,0,true,Math.round(i))}ar=false;aE=null;ag(document).unbind(ab,ap)}if(ac){clearInterval(al);ac=false}ag(".dwb-a").removeClass("dwb-a")}).bind("mouseover mouseup mousedown click",function(a){if(Z){a.stopPropagation();a.preventDefault();return false}});ag.fn.mobiscroll=function(a){au(this,ag.mobiscroll.shorts);return U(this,a,arguments)};ag.mobiscroll=ag.mobiscroll||{setDefaults:function(a){au(ae,a)},presetShort:function(a){this.shorts[a]=function(b){return U(this,au(b,{preset:a}),arguments)}},shorts:{},presets:{},themes:{},i18n:{}};ag.scroller=ag.scroller||ag.mobiscroll;ag.fn.scroller=ag.fn.scroller||ag.fn.mobiscroll})(jQuery);