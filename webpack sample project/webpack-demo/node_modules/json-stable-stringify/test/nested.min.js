var test=require("tape");var stringify=require("../");test("nested",function(a){a.plan(1);var b={c:8,b:[{z:6,y:5,x:4},7],a:3};a.equal(stringify(b),'{"a":3,"b":[{"x":4,"y":5,"z":6},7],"c":8}')});test("cyclic (default)",function(d){d.plan(1);var c={a:1};var a={a:2,one:c};c.two=a;try{stringify(c)}catch(b){d.equal(b.toString(),"TypeError: Converting circular structure to JSON")}});test("cyclic (specifically allowed)",function(c){c.plan(1);var b={a:1};var a={a:2,one:b};b.two=a;c.equal(stringify(b,{cycles:true}),'{"a":1,"two":{"a":2,"one":"__cycle__"}}')});test("repeated non-cyclic value",function(c){c.plan(1);var b={x:1};var a={a:b,b:b};c.equal(stringify(a),'{"a":{"x":1},"b":{"x":1}}')});