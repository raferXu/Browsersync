(function(){var b,c,a;c=require("chai").expect;a=require("../third_party/esprima");b=require("..");describe("import declaration",function(){it("should import names from source",function(){var d,e,f,g;d=a.parse('import v from "mod";',{sourceType:"module"});g=b.analyze(d,{ecmaVersion:6,sourceType:"module"});c(g.scopes).to.have.length(2);e=g.scopes[0];c(e.type).to.be.equal("global");c(e.variables).to.have.length(0);c(e.references).to.have.length(0);f=g.scopes[1];c(f.type).to.be.equal("module");c(f.isStrict).to.be["true"];c(f.variables).to.have.length(1);c(f.variables[0].name).to.be.equal("v");c(f.variables[0].defs[0].type).to.be.equal("ImportBinding");return c(f.references).to.have.length(0)});it("should import namespaces",function(){var d,e,f,g;d=a.parse('import * as ns from "mod";',{sourceType:"module"});g=b.analyze(d,{ecmaVersion:6,sourceType:"module"});c(g.scopes).to.have.length(2);e=g.scopes[0];c(e.type).to.be.equal("global");c(e.variables).to.have.length(0);c(e.references).to.have.length(0);f=g.scopes[1];c(f.type).to.be.equal("module");c(f.isStrict).to.be["true"];c(f.variables).to.have.length(1);c(f.variables[0].name).to.be.equal("ns");c(f.variables[0].defs[0].type).to.be.equal("ImportBinding");return c(f.references).to.have.length(0)});it("should import insided names#1",function(){var d,e,f,g;d=a.parse('import {x} from "mod";',{sourceType:"module"});g=b.analyze(d,{ecmaVersion:6,sourceType:"module"});c(g.scopes).to.have.length(2);e=g.scopes[0];c(e.type).to.be.equal("global");c(e.variables).to.have.length(0);c(e.references).to.have.length(0);f=g.scopes[1];c(f.type).to.be.equal("module");c(f.isStrict).to.be["true"];c(f.variables).to.have.length(1);c(f.variables[0].name).to.be.equal("x");c(f.variables[0].defs[0].type).to.be.equal("ImportBinding");return c(f.references).to.have.length(0)});return it("should import insided names#2",function(){var d,e,f,g;d=a.parse('import {x as v} from "mod";',{sourceType:"module"});g=b.analyze(d,{ecmaVersion:6,sourceType:"module"});c(g.scopes).to.have.length(2);e=g.scopes[0];c(e.type).to.be.equal("global");c(e.variables).to.have.length(0);c(e.references).to.have.length(0);f=g.scopes[1];c(f.type).to.be.equal("module");c(f.isStrict).to.be["true"];c(f.variables).to.have.length(1);c(f.variables[0].name).to.be.equal("v");c(f.variables[0].defs[0].type).to.be.equal("ImportBinding");return c(f.references).to.have.length(0)})})}).call(this);