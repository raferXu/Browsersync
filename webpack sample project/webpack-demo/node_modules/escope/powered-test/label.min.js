(function(){var c,b,d,a;d=require("chai").expect;b=require("esprima");a=require("../third_party/esprima");c=require("..");describe("label",function(){it("should not create variables",function(){var e,f,g,h;e=b.parse("function bar() { q: for(;;) { break q; } }");h=c.analyze(e);d(h.scopes).to.have.length(2);f=h.scopes[0];d(f.type).to.be.equal("global");d(f.variables).to.have.length(1);d(f.variables[0].name).to.be.equal("bar");d(f.references).to.have.length(0);g=h.scopes[1];d(g.type).to.be.equal("function");d(g.variables).to.have.length(1);d(g.variables[0].name).to.be.equal("arguments");d(g.isArgumentsMaterialized()).to.be["false"];return d(g.references).to.have.length(0)});return it("should count child node references",function(){var e,f,g;e=b.parse("var foo = 5;\n\nlabel: while (true) {\n  console.log(foo);\n  break;\n}");g=c.analyze(e);d(g.scopes).to.have.length(1);f=g.scopes[0];d(f.type).to.be.equal("global");d(f.variables).to.have.length(1);d(f.variables[0].name).to.be.equal("foo");d(f.through.length).to.be.equal(3);d(f.through[2].identifier.name).to.be.equal("foo");return d(f.through[2].isRead()).to.be["true"]})})}).call(this);