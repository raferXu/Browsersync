"use strict";module.exports=function generate_contains(k,n,d){var u=" ";var z=k.level;var l=k.dataLevel;var v=k.schema[n];var i=k.schemaPath+k.util.getProperty(n);var o=k.errSchemaPath+"/"+n;var m=!k.opts.allErrors;var f="data"+(l||"");var h="valid"+z;var q="errs__"+z;var g=k.util.copy(k);var e="";g.level++;var x="valid"+g.level;var y="i"+z,w=g.dataLevel=k.dataLevel+1,t="data"+w,c=k.baseId,b=k.util.schemaHasRules(v,k.RULES.all);u+="var "+(q)+" = errors;var "+(h)+";";if(b){var p=k.compositeRule;k.compositeRule=g.compositeRule=true;g.schema=v;g.schemaPath=i;g.errSchemaPath=o;u+=" var "+(x)+" = false; for (var "+(y)+" = 0; "+(y)+" < "+(f)+".length; "+(y)+"++) { ";g.errorPath=k.util.getPathExpr(k.errorPath,y,k.opts.jsonPointers,true);var s=f+"["+y+"]";g.dataPathArr[w]=y;var j=k.validate(g);g.baseId=c;if(k.util.varOccurences(j,t)<2){u+=" "+(k.util.varReplace(j,t,s))+" "}else{u+=" var "+(t)+" = "+(s)+"; "+(j)+" "}u+=" if ("+(x)+") break; }  ";k.compositeRule=g.compositeRule=p;u+=" "+(e)+" if (!"+(x)+") {"}else{u+=" if ("+(f)+".length == 0) {"}var r=r||[];r.push(u);u="";if(k.createErrors!==false){u+=" { keyword: '"+("contains")+"' , dataPath: (dataPath || '') + "+(k.errorPath)+" , schemaPath: "+(k.util.toQuotedString(o))+" , params: {} ";if(k.opts.messages!==false){u+=" , message: 'should contain a valid item' "}if(k.opts.verbose){u+=" , schema: validate.schema"+(i)+" , parentSchema: validate.schema"+(k.schemaPath)+" , data: "+(f)+" "}u+=" } "}else{u+=" {} "}var a=u;u=r.pop();if(!k.compositeRule&&m){if(k.async){u+=" throw new ValidationError(["+(a)+"]); "}else{u+=" validate.errors = ["+(a)+"]; return false; "}}else{u+=" var err = "+(a)+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}u+=" } else { ";if(b){u+="  errors = "+(q)+"; if (vErrors !== null) { if ("+(q)+") vErrors.length = "+(q)+"; else vErrors = null; } "}if(k.opts.allErrors){u+=" } "}u=k.util.cleanUpCode(u);return u};