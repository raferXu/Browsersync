(function(){var a=window.Testem;var c=/^((?:not )?ok) (\d+) (.+)$/;a.useCustomAdapter(b);function b(d){var e={failed:0,passed:0,total:0,tests:[]};d.emit("tests-start");a.handleConsoleMessage=function(g){var f=g.match(c);if(f){var i=f[1]==="ok";var h={passed:i?1:0,failed:i?0:1,total:1,id:f[2],name:f[3],items:[]};if(i){e.passed++}else{console.error("failure",f);e.failed++}e.total++;d.emit("test-result",h);e.tests.push(h)}else{if(g==="# ok"||g.match(/^# tests \d+/)){d.emit("all-test-results",e)}}}}}());