(function clone(B){var t,j,b,d,u,z,o,E,k;function c(){}j=Array.isArray;if(!j){j=function j(F){return Object.prototype.toString.call(F)==="[object Array]"}}function g(H){var F={},G,I;for(G in H){if(H.hasOwnProperty(G)){I=H[G];if(typeof I==="object"&&I!==null){F[G]=g(I)}else{F[G]=I}}}return F}function r(H){var F={},G;for(G in H){if(H.hasOwnProperty(G)){F[G]=H[G]}}return F}c(r);function i(K,H){var J,F,G,I;F=K.length;G=0;while(F){J=F>>>1;I=G+J;if(H(K[I])){F=J}else{G=I+1;F-=J+1}}return G}function f(K,H){var J,F,G,I;F=K.length;G=0;while(F){J=F>>>1;I=G+J;if(H(K[I])){G=I+1;F-=J+1}else{F=J}}return G}c(f);u=Object.create||(function(){function G(){}return function(F){G.prototype=F;return new G()}})();z=Object.keys||function(H){var G=[],F;for(F in H){G.push(F)}return G};function w(K,J){var I=z(J),H,G,F;for(G=0,F=I.length;G<F;G+=1){H=I[G];K[H]=J[H]}return K}t={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"};d={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]};o={};E={};k={};b={Break:o,Skip:E,Remove:k};function h(G,F){this.parent=G;this.key=F}h.prototype.replace=function y(F){this.parent[this.key]=F};h.prototype.remove=function A(){if(j(this.parent)){this.parent.splice(this.key,1);return true}else{this.replace(null);return false}};function q(H,I,F,G){this.node=H;this.path=I;this.wrap=F;this.ref=G}function D(){}D.prototype.path=function n(){var J,L,H,G,F,I;function K(M,N){if(j(N)){for(H=0,G=N.length;H<G;++H){M.push(N[H])}}else{M.push(N)}}if(!this.__current.path){return null}F=[];for(J=2,L=this.__leavelist.length;J<L;++J){I=this.__leavelist[J];K(F,I.path)}K(F,this.__current.path);return F};D.prototype.type=function(){var F=this.current();return F.type||this.__current.wrap};D.prototype.parents=function x(){var G,H,F;F=[];for(G=1,H=this.__leavelist.length;G<H;++G){F.push(this.__leavelist[G].node)}return F};D.prototype.current=function p(){return this.__current.node};D.prototype.__execute=function C(I,G){var H,F;F=undefined;H=this.__current;this.__current=G;this.__state=null;if(I){F=I.call(this,G.node,this.__leavelist[this.__leavelist.length-1].node)}this.__current=H;return F};D.prototype.notify=function l(F){this.__state=F};D.prototype.skip=function(){this.notify(E)};D.prototype["break"]=function(){this.notify(o)};D.prototype.remove=function(){this.notify(k)};D.prototype.__initialize=function(F,G){this.visitor=G;this.root=F;this.__worklist=[];this.__leavelist=[];this.__current=null;this.__state=null;this.__fallback=null;if(G.fallback==="iteration"){this.__fallback=z}else{if(typeof G.fallback==="function"){this.__fallback=G.fallback}}this.__keys=d;if(G.keys){this.__keys=w(u(this.__keys),G.keys)}};function s(F){if(F==null){return false}return typeof F==="object"&&typeof F.type==="string"}function a(F,G){return(F===t.ObjectExpression||F===t.ObjectPattern)&&"properties"===G}D.prototype.traverse=function v(P,M){var H,F,J,G,I,O,R,N,Q,L,S,K;this.__initialize(P,M);K={};H=this.__worklist;F=this.__leavelist;H.push(new q(P,null,null,null));F.push(new q(null,null,null,null));while(H.length){J=H.pop();if(J===K){J=F.pop();O=this.__execute(M.leave,J);if(this.__state===o||O===o){return}continue}if(J.node){O=this.__execute(M.enter,J);if(this.__state===o||O===o){return}H.push(K);F.push(J);if(this.__state===E||O===E){continue}G=J.node;I=G.type||J.wrap;L=this.__keys[I];if(!L){if(this.__fallback){L=this.__fallback(G)}else{throw new Error("Unknown node type "+I+".")}}N=L.length;while((N-=1)>=0){R=L[N];S=G[R];if(!S){continue}if(j(S)){Q=S.length;while((Q-=1)>=0){if(!S[Q]){continue}if(a(I,L[N])){J=new q(S[Q],[R,Q],"Property",null)}else{if(s(S[Q])){J=new q(S[Q],[R,Q],null,null)}else{continue}}H.push(J)}}else{if(s(S)){H.push(new q(S,R,null,null))}}}}}};D.prototype.replace=function y(Q,N){var I,F,H,J,P,K,O,S,M,U,L,T,R;function G(Y){var X,W,V,Z;if(Y.ref.remove()){W=Y.ref.key;Z=Y.ref.parent;X=I.length;while(X--){V=I[X];if(V.ref&&V.ref.parent===Z){if(V.ref.key<W){break}--V.ref.key}}}}this.__initialize(Q,N);L={};I=this.__worklist;F=this.__leavelist;T={root:Q};K=new q(Q,null,null,new h(T,"root"));I.push(K);F.push(K);while(I.length){K=I.pop();if(K===L){K=F.pop();P=this.__execute(N.leave,K);if(P!==undefined&&P!==o&&P!==E&&P!==k){K.ref.replace(P)}if(this.__state===k||P===k){G(K)}if(this.__state===o||P===o){return T.root}continue}P=this.__execute(N.enter,K);if(P!==undefined&&P!==o&&P!==E&&P!==k){K.ref.replace(P);K.node=P}if(this.__state===k||P===k){G(K);K.node=null}if(this.__state===o||P===o){return T.root}H=K.node;if(!H){continue}I.push(L);F.push(K);if(this.__state===E||P===E){continue}J=H.type||K.wrap;M=this.__keys[J];if(!M){if(this.__fallback){M=this.__fallback(H)}else{throw new Error("Unknown node type "+J+".")}}O=M.length;while((O-=1)>=0){R=M[O];U=H[R];if(!U){continue}if(j(U)){S=U.length;while((S-=1)>=0){if(!U[S]){continue}if(a(J,M[O])){K=new q(U[S],[R,S],"Property",new h(U,S))}else{if(s(U[S])){K=new q(U[S],[R,S],null,new h(U,S))}else{continue}}I.push(K)}}else{if(s(U)){I.push(new q(U,R,null,new h(H,R)))}}}}return T.root};function v(G,H){var F=new D();return F.traverse(G,H)}function y(G,H){var F=new D();return F.replace(G,H)}function m(I,H){var G;G=i(H,function F(J){return J.range[0]>I.range[0]});I.extendedRange=[I.range[0],I.range[1]];if(G!==H.length){I.extendedRange[1]=H[G].range[0]}G-=1;if(G>=0){I.extendedRange[0]=H[G].range[1]}return I}function e(H,G,J){var L=[],M,F,I,K;if(!H.range){throw new Error("attachComments needs range information")}if(!J.length){if(G.length){for(I=0,F=G.length;I<F;I+=1){M=g(G[I]);M.extendedRange=[0,H.range[0]];L.push(M)}H.leadingComments=L}return H}for(I=0,F=G.length;I<F;I+=1){L.push(m(g(G[I]),J))}K=0;v(H,{enter:function(N){var O;while(K<L.length){O=L[K];if(O.extendedRange[1]>N.range[0]){break}if(O.extendedRange[1]===N.range[0]){if(!N.leadingComments){N.leadingComments=[]}N.leadingComments.push(O);L.splice(K,1)}else{K+=1}}if(K===L.length){return b.Break}if(L[K].extendedRange[0]>N.range[1]){return b.Skip}}});K=0;v(H,{leave:function(N){var O;while(K<L.length){O=L[K];if(N.range[1]<O.extendedRange[0]){break}if(N.range[1]===O.extendedRange[0]){if(!N.trailingComments){N.trailingComments=[]}N.trailingComments.push(O);L.splice(K,1)}else{K+=1}}if(K===L.length){return b.Break}if(L[K].extendedRange[0]>N.range[1]){return b.Skip}}});return H}B.version=require("./package.json").version;B.Syntax=t;B.traverse=v;B.replace=y;B.attachComments=e;B.VisitorKeys=d;B.VisitorOption=b;B.Controller=D;B.cloneEnvironment=function(){return clone({})};return B}(exports));