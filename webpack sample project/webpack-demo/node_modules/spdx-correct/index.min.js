var licenseIDs=require("spdx-license-ids");function valid(a){return licenseIDs.indexOf(a)>-1}var transpositions=[["APGL","AGPL"],["Gpl","GPL"],["GLP","GPL"],["APL","Apache"],["ISD","ISC"],["GLP","GPL"],["IST","ISC"],["Claude","Clause"],[" or later","+"],[" International",""],["GNU","GPL"],["GUN","GPL"],["+",""],["GNU GPL","GPL"],["GNU/GPL","GPL"],["GNU GLP","GPL"],["GNU General Public License","GPL"],["Gnu public license","GPL"],["GNU Public License","GPL"],["GNU GENERAL PUBLIC LICENSE","GPL"],["MTI","MIT"],["Mozilla Public License","MPL"],["WTH","WTF"],["-License",""]];var TRANSPOSED=0;var CORRECT=1;var transforms=[function(a){return a.toUpperCase()},function(a){return a.trim()},function(a){return a.replace(/\./g,"")},function(a){return a.replace(/\s+/g,"")},function(a){return a.replace(/\s+/g,"-")},function(a){return a.replace("v","-")},function(a){return a.replace(/,?\s*(\d)/,"-$1")},function(a){return a.replace(/,?\s*(\d)/,"-$1.0")},function(a){return a.replace(/,?\s*(V\.|v\.|V|v|Version|version)\s*(\d)/,"-$2")},function(a){return a.replace(/,?\s*(V\.|v\.|V|v|Version|version)\s*(\d)/,"-$2.0")},function(a){return a[0].toUpperCase()+a.slice(1)},function(a){return a.replace("/","-")},function(a){return a.replace(/\s*V\s*(\d)/,"-$1").replace(/(\d)$/,"$1.0")},function(a){return a.slice(0,a.length-1)},function(a){return a.replace(/(\d)$/,"-$1.0")},function(a){return a.replace(/(-| )?(\d)$/,"-$2-Clause")},function(a){return a.replace(/(-| )clause(-| )(\d)/,"-$3-Clause")},function(a){return"CC-"+a},function(a){return"CC-"+a+"-4.0"},function(a){return a.replace("Attribution","BY").replace("NonCommercial","NC").replace("NoDerivatives","ND").replace(/ (\d)/,"-$1").replace(/ ?International/,"")},function(a){return"CC-"+a.replace("Attribution","BY").replace("NonCommercial","NC").replace("NoDerivatives","ND").replace(/ (\d)/,"-$1").replace(/ ?International/,"")+"-4.0"}];var lastResorts=[["UNLI","Unlicense"],["WTF","WTFPL"],["2 CLAUSE","BSD-2-Clause"],["2-CLAUSE","BSD-2-Clause"],["3 CLAUSE","BSD-3-Clause"],["3-CLAUSE","BSD-3-Clause"],["AFFERO","AGPL-3.0"],["AGPL","AGPL-3.0"],["APACHE","Apache-2.0"],["ARTISTIC","Artistic-2.0"],["Affero","AGPL-3.0"],["BEER","Beerware"],["BOOST","BSL-1.0"],["BSD","BSD-2-Clause"],["ECLIPSE","EPL-1.0"],["FUCK","WTFPL"],["GNU","GPL-3.0"],["LGPL","LGPL-3.0"],["GPL","GPL-3.0"],["MIT","MIT"],["MPL","MPL-2.0"],["X11","X11"],["ZLIB","Zlib"]];var SUBSTRING=0;var IDENTIFIER=1;var validTransformation=function(b){for(var c=0;c<transforms.length;c++){var a=transforms[c](b);if(a!==b&&valid(a)){return a}}return null};var validLastResort=function(b){var a=b.toUpperCase();for(var c=0;c<lastResorts.length;c++){var d=lastResorts[c];if(a.indexOf(d[SUBSTRING])>-1){return d[IDENTIFIER]}}return null};var anyCorrection=function(d,b){for(var e=0;e<transpositions.length;e++){var a=transpositions[e];var f=a[TRANSPOSED];if(d.indexOf(f)>-1){var c=d.replace(f,a[CORRECT]);var g=b(c);if(g!==null){return g}}}return null};module.exports=function(b){b=b.replace(/\+$/,"");if(valid(b)){return b}var a=validTransformation(b);if(a!==null){return a}a=anyCorrection(b,function(c){if(valid(c)){return c}return validTransformation(c)});if(a!==null){return a}a=validLastResort(b);if(a!==null){return a}a=anyCorrection(b,validLastResort);if(a!==null){return a}return null};