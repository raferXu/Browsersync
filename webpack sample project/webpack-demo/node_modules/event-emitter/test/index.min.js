"use strict";module.exports=function(l,j){var k=l(),i,e,g,f,c,h,d,b;k.emit("none");h="Once: ";e=0;k.once("foo",function(m,a,n){j(this,k,h+"Context");j.deep([m,a,n],["foo",k,15],h+"Arguments");++e});k.emit("foobar");j(e,0,h+"Not invoked on other event");k.emit("foo","foo",k,15);j(e,1,h+"Emitted");k.emit("foo");j(e,1,h+"Emitted once");h="On & Once: ";e=0;k.on("foo",d=function(m,a,n){j(this,k,h+"Context");j.deep([m,a,n],["foo",k,15],h+"Arguments");++e});g=0;k.once("foo",b=function(m,a,n){j(this,k,h+"Context");j.deep([m,a,n],["foo",k,15],h+"Arguments");++g});k.emit("foobar");j(e,0,h+"Not invoked on other event");k.emit("foo","foo",k,15);j(e,1,h+"Emitted");k.emit("foo","foo",k,15);j(e,2,h+"Emitted twice");j(g,1,h+"Emitted once");k.off("foo",d);k.emit("foo");j(e,2,h+"Not emitter after off");e=0;k.once("foo",d=function(){++e});k.off("foo",d);k.emit("foo");j(e,0,"Once Off: Not emitted");e=0;k.on("foo",b=function(){});k.once("foo",d=function(){++e});k.off("foo",d);k.emit("foo");j(e,0,"Once Off (multi): Not emitted");k.off("foo",b);h="Prototype Share: ";i=Object.create(k);e=0;g=0;f=0;c=0;k.on("foo",function(){++e});i.on("foo",function(){++g});k.once("foo",function(){++f});i.once("foo",function(){++c});k.emit("foo");j(e,1,h+"x on count");j(g,0,h+"y on count");j(f,1,h+"x once count");j(c,0,h+"y once count");i.emit("foo");j(e,1,h+"x on count");j(g,1,h+"y on count");j(f,1,h+"x once count");j(c,1,h+"y once count");k.emit("foo");j(e,2,h+"x on count");j(g,1,h+"y on count");j(f,1,h+"x once count");j(c,1,h+"y once count");i.emit("foo");j(e,2,h+"x on count");j(g,2,h+"y on count");j(f,1,h+"x once count");j(c,1,h+"y once count")};