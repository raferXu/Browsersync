"use strict";var ee=require("../");module.exports=function(j,h){var i={},g={},f={},c,e,d,b;ee(i);i=Object.create(i);ee(g);ee(f);c=0;e=0;d=0;i.on("foo",function(){++c});g.on("foo",function(){++e});f.on("foo",function(){++d});i.emit("foo");h(c,1,"Pre pipe, x");h(e,0,"Pre pipe, y");h(d,0,"Pre pipe, z");b=j(i,g);i.emit("foo");h(c,2,"Post pipe, x");h(e,1,"Post pipe, y");h(d,0,"Post pipe, z");g.emit("foo");h(c,2,"Post pipe, on y, x");h(e,2,"Post pipe, on y, y");h(d,0,"Post pipe, on y, z");j(i,f);i.emit("foo");h(c,3,"Post pipe z, x");h(e,3,"Post pipe z, y");h(d,1,"Post pipe z, z");b.close();i.emit("foo");h(c,4,"Close pipe y, x");h(e,3,"Close pipe y, y");h(d,2,"Close pipe y, z")};