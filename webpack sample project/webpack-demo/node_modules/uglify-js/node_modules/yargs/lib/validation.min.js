module.exports=function(c,d){var a={};a.nonOptionCount=function(f){var g=c.getDemanded();if(g._&&f._.length<g._.count){if(g._.msg!==undefined){d.fail(g._.msg)}else{d.fail("Not enough non-option arguments: got "+f._.length+", need at least "+g._.count)}}};a.missingArgumentValue=function(f){var h=c.getOptions(),j=[true,false,""];if(h.requiresArg.length>0){var g=[];h.requiresArg.forEach(function(k){var l=f[k];if(~j.indexOf(l)||(Array.isArray(l)&&!l.length)){g.push(k)}});if(g.length===1){d.fail("Missing argument value: "+g[0])}else{if(g.length>1){var i="Missing argument values: "+g.join(", ");d.fail(i)}}}};a.requiredArguments=function(f){var i=c.getDemanded(),h=null;Object.keys(i).forEach(function(k){if(!f.hasOwnProperty(k)){h=h||{};h[k]=i[k]}});if(h){var j=[];Object.keys(h).forEach(function(k){var l=h[k].msg;if(l&&j.indexOf(l)<0){j.push(l)}});var g=j.length?"\n"+j.join("\n"):"";d.fail("Missing required arguments: "+Object.keys(h).join(", ")+g)}};a.unknownArguments=function(f,g){var h=d.getDescriptions(),j=c.getDemanded(),k=[],i={};Object.keys(g).forEach(function(l){g[l].forEach(function(m){i[m]=l})});Object.keys(f).forEach(function(l){if(l!=="$0"&&l!=="_"&&!h.hasOwnProperty(l)&&!j.hasOwnProperty(l)&&!i.hasOwnProperty(l)){k.push(l)}});if(k.length===1){d.fail("Unknown argument: "+k[0])}else{if(k.length>1){d.fail("Unknown arguments: "+k.join(", "))}}};var b=[];a.check=function(g){b.push(g)};a.customChecks=function(f,g){b.forEach(function(j){try{var h=j(f,g);if(!h){d.fail("Argument check failed: "+j.toString())}else{if(typeof h==="string"){d.fail(h)}}}catch(i){d.fail(i.message?i.message:i)}})};var e={};a.implies=function(f,g){if(typeof f==="object"){Object.keys(f).forEach(function(h){a.implies(h,f[h])})}else{e[f]=g}};a.getImplied=function(){return e};a.implications=function(f){var g=[];Object.keys(e).forEach(function(j){var i,k=j,l=e[j];i=Number(j);j=isNaN(i)?j:i;if(typeof j==="number"){j=f._.length>=j}else{if(j.match(/^--no-.+/)){j=j.match(/^--no-(.+)/)[1];j=!f[j]}else{j=f[j]}}i=Number(l);l=isNaN(i)?l:i;if(typeof l==="number"){l=f._.length>=l}else{if(l.match(/^--no-.+/)){l=l.match(/^--no-(.+)/)[1];l=!f[l]}else{l=f[l]}}if(j&&!l){g.push(k)}});if(g.length){var h="Implications failed:\n";g.forEach(function(i){h+=("  "+i+" -> "+e[i])});d.fail(h)}};return a};