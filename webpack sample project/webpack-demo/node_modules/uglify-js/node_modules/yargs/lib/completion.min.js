var fs=require("fs"),path=require("path");module.exports=function(b,c){var a={completionKey:"get-yargs-completions"};a.getCompletion=function(g){var f=[],i=process.argv[process.argv.length-1],h=process.argv.slice(process.argv.indexOf("--"+a.completionKey)+1),e=b.parse(h);if(d){if(d.length<3){return g(d(i,e))}else{return d(i,e,function(j){g(j)})}}if(!i.match(/^-/)){c.getCommands().forEach(function(j){f.push(j[0])})}if(i.match(/^-/)){Object.keys(b.getOptions().key).forEach(function(j){f.push("--"+j)})}g(f)};a.generateCompletionScript=function(e){var f=fs.readFileSync(path.resolve(__dirname,"../completion.sh.hbs"),"utf-8"),g=path.basename(e);if(e.match(/\.js$/)){e="./"+e}f=f.replace(/{{app_name}}/g,g);return f.replace(/{{app_path}}/g,e)};var d=null;a.registerFunction=function(e){d=e};return a};