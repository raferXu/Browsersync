"use strict";var EXPECT_DIRECTIVE=/^$|[;{][\s\n]*$/;function is_some_comments(a){return a.type=="comment2"&&/@preserve|@license|@cc_on/i.test(a.value)}function OutputStream(q){q=defaults(q,{ascii_only:false,beautify:false,bracketize:false,comments:false,indent_level:4,indent_start:0,inline_script:true,keep_quoted_props:false,max_line_len:false,preamble:null,preserve_line:false,quote_keys:false,quote_style:0,screw_ie8:true,semicolons:true,shebang:true,source_map:null,space_colon:true,unescape_regexps:false,width:80,wrap_iife:false},true);var g=return_false;if(q.comments){var d=q.comments;if(typeof q.comments==="string"&&/^\/.*\/[a-zA-Z]*$/.test(q.comments)){var t=q.comments.lastIndexOf("/");d=new RegExp(q.comments.substr(1,t-1),q.comments.substr(t+1))}if(d instanceof RegExp){g=function(K){return K.type!="comment5"&&d.test(K.value)}}else{if(typeof d==="function"){g=function(K){return K.type!="comment5"&&d(this,K)}}else{if(d==="some"){g=is_some_comments}else{g=return_true}}}}var B=0;var p=0;var H=1;var F=0;var e="";function h(L,K){return L.replace(/[\u0000-\u001f\u007f-\uffff]/g,function(M){var N=M.charCodeAt(0).toString(16);if(N.length<=2&&!K){while(N.length<2){N="0"+N}return"\\x"+N}else{while(N.length<4){N="0"+N}return"\\u"+N}})}function w(P,L){var O=0,N=0;P=P.replace(/[\\\b\f\n\r\v\t\x22\x27\u2028\u2029\0\ufeff]/g,function(R,Q){switch(R){case'"':++O;return'"';case"'":++N;return"'";case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\x0B":return q.screw_ie8?"\\v":"\\x0B";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case"\ufeff":return"\\ufeff";case"\0":return/[0-7]/.test(P.charAt(Q+1))?"\\x00":"\\0"}return R});function M(){return"'"+P.replace(/\x27/g,"\\'")+"'"}function K(){return'"'+P.replace(/\x22/g,'\\"')+'"'}if(q.ascii_only){P=h(P)}switch(q.quote_style){case 1:return M();case 2:return K();case 3:return L=="'"?M():K();default:return O>N?M():K()}}function k(M,K){var L=w(M,K);if(q.inline_script){L=L.replace(/<\x2fscript([>\/\t\n\f\r ])/gi,"<\\/script$1");L=L.replace(/\x3c!--/g,"\\x3c!--");L=L.replace(/--\x3e/g,"--\\x3e")}return L}function v(K){K=K.toString();if(q.ascii_only){K=h(K,true)}return K}function y(K){return repeat_string(" ",q.indent_start+B-K*q.indent_level)}var I=false;var G=false;var m=0;var l="";var f=q.max_line_len?function(){if(p>q.max_line_len){if(m){var L=e.slice(0,m);var K=e.slice(m);e=L+"\n"+K;H++;F++;p=K.length}if(p>q.max_line_len){AST_Node.warn("Output exceeds {max_line_len} characters",q)}}m=0}:noop;var c=makePredicate("( [ + * / - , .");function A(O){O=String(O);var M=O.charAt(0);var N=l.charAt(l.length-1);if(G){G=false;if(N==":"&&M=="}"||(!M||";}".indexOf(M)<0)&&N!=";"){if(q.semicolons||c(M)){e+=";";p++;F++}else{f();e+="\n";F++;H++;p=0;if(/^\s+$/.test(O)){G=true}}if(!q.beautify){I=false}}}if(!q.beautify&&q.preserve_line&&o[o.length-1]){var L=o[o.length-1].start.line;while(H<L){f();e+="\n";F++;H++;p=0;I=false}}if(I){if((is_identifier_char(N)&&(is_identifier_char(M)||M=="\\"))||(M=="/"&&M==N)||((M=="+"||M=="-")&&M==l)){e+=" ";p++;F++}I=false}e+=O;F+=O.length;var K=O.split(/\r?\n/),P=K.length-1;H+=P;p+=K[0].length;if(P>0){f();p=K[P].length}l=O}var D=q.beautify?function(){A(" ")}:function(){I=true};var j=q.beautify?function(K){if(q.beautify){A(y(K?0.5:0))}}:noop;var E=q.beautify?function(M,K){if(M===true){M=x()}var N=B;B=M;var L=K();B=N;return L}:function(L,K){return K()};var a=q.beautify?function(){A("\n")}:q.max_line_len?function(){f();m=e.length}:noop;var J=q.beautify?function(){A(";")}:function(){G=true};function n(){G=false;A(";")}function x(){return B+q.indent_level}function b(K){var L;A("{");a();E(x(),function(){L=K()});j();A("}");return L}function z(K){A("(");var L=K();A(")");return L}function r(K){A("[");var L=K();A("]");return L}function i(){A(",");D()}function s(){A(":");if(q.space_colon){D()}}var u=q.source_map?function(M,K){try{if(M){q.source_map.add(M.file||"?",H,p,M.line,M.col,(!K&&M.type=="name")?M.value:K)}}catch(L){AST_Node.warn("Couldn't figure out mapping for {file}:{line},{col} â†’ {cline},{ccol} [{name}]",{file:M.file,line:M.line,col:M.col,cline:H,ccol:p,name:K||""})}}:noop;function C(){if(m){f()}return e}var o=[];return{get:C,toString:C,indent:j,indentation:function(){return B},current_width:function(){return p-B},should_break:function(){return q.width&&this.current_width()>=q.width},newline:a,print:A,space:D,comma:i,colon:s,last:function(){return l},semicolon:J,force_semicolon:n,to_ascii:h,print_name:function(K){A(v(K))},print_string:function(N,K,L){var M=k(N,K);if(L===true&&M.indexOf("\\")===-1){if(!EXPECT_DIRECTIVE.test(e)){n()}n()}A(M)},encode_string:k,next_indent:x,with_indent:E,with_block:b,with_parens:z,with_square:r,add_mapping:u,option:function(K){return q[K]},comment_filter:g,line:function(){return H},col:function(){return p},pos:function(){return F},push_node:function(K){o.push(K)},pop_node:function(){return o.pop()},parent:function(K){return o[o.length-2-(K||0)]}}}(function(){function h(r,s){r.DEFMETHOD("_codegen",s)}var j=false;var a=false;AST_Node.DEFMETHOD("print",function(v,s){var r=this,t=r._codegen,w=j;if(r instanceof AST_Directive&&r.value=="use asm"&&v.parent() instanceof AST_Scope){j=true}function u(){r.add_comments(v);r.add_source_map(v);t(r,v)}v.push_node(r);if(s||r.needs_parens(v)){v.with_parens(u)}else{u()}v.pop_node();if(r instanceof AST_Scope){j=w}});AST_Node.DEFMETHOD("print_to_string",function(r){var t=OutputStream(r);if(!r){t._readonly=true}this.print(t);return t.get()});AST_Node.DEFMETHOD("add_comments",function(s){if(s._readonly){return}var r=this;var v=r.start;if(v&&!v._comments_dumped){v._comments_dumped=true;var u=v.comments_before||[];if(r instanceof AST_Exit&&r.value){r.value.walk(new TreeWalker(function(w){if(w.start&&w.start.comments_before){u=u.concat(w.start.comments_before);w.start.comments_before=[]}if(w instanceof AST_Function||w instanceof AST_Array||w instanceof AST_Object){return true}}))}if(s.pos()==0){if(u.length>0&&s.option("shebang")&&u[0].type=="comment5"){s.print("#!"+u.shift().value+"\n");s.indent()}var t=s.option("preamble");if(t){s.print(t.replace(/\r\n?|[\n\u2028\u2029]|\s*$/g,"\n"))}}u=u.filter(s.comment_filter,r);if(!s.option("beautify")&&u.length>0&&/comment[134]/.test(u[0].type)&&s.col()!==0&&u[0].nlb){s.print("\n")}u.forEach(function(w){if(/comment[134]/.test(w.type)){s.print("//"+w.value+"\n");s.indent()}else{if(w.type=="comment2"){s.print("/*"+w.value+"*/");if(v.nlb){s.print("\n");s.indent()}else{s.space()}}}})}});function n(r,s){if(Array.isArray(r)){r.forEach(function(t){n(t,s)})}else{r.DEFMETHOD("needs_parens",s)}}n(AST_Node,function(){return false});n(AST_Function,function(r){if(first_in_statement(r)){return true}if(r.option("wrap_iife")){var s=r.parent();return s instanceof AST_Call&&s.expression===this}return false});n(AST_Object,function(r){return first_in_statement(r)});n(AST_Unary,function(r){var s=r.parent();return s instanceof AST_PropAccess&&s.expression===this||s instanceof AST_Call&&s.expression===this});n(AST_Seq,function(r){var s=r.parent();return s instanceof AST_Call||s instanceof AST_Unary||s instanceof AST_Binary||s instanceof AST_VarDef||s instanceof AST_PropAccess||s instanceof AST_Array||s instanceof AST_ObjectProperty||s instanceof AST_Conditional});n(AST_Binary,function(t){var w=t.parent();if(w instanceof AST_Call&&w.expression===this){return true}if(w instanceof AST_Unary){return true}if(w instanceof AST_PropAccess&&w.expression===this){return true}if(w instanceof AST_Binary){var s=w.operator,r=PRECEDENCE[s];var v=this.operator,u=PRECEDENCE[v];if(r>u||(r==u&&this===w.right)){return true}}});n(AST_PropAccess,function(r){var t=r.parent();if(t instanceof AST_New&&t.expression===this){try{this.walk(new TreeWalker(function(u){if(u instanceof AST_Call){throw t}}))}catch(s){if(s!==t){throw s}return true}}});n(AST_Call,function(r){var s=r.parent(),t;if(s instanceof AST_New&&s.expression===this){return true}return this.expression instanceof AST_Function&&s instanceof AST_PropAccess&&s.expression===this&&(t=r.parent(1)) instanceof AST_Assign&&t.left===s});n(AST_New,function(r){var s=r.parent();if(!f(this,r)&&(s instanceof AST_PropAccess||s instanceof AST_Call&&s.expression===this)){return true}});n(AST_Number,function(r){var t=r.parent();if(t instanceof AST_PropAccess&&t.expression===this){var s=this.getValue();if(s<0||/^0/.test(p(s))){return true}}});n([AST_Assign,AST_Conditional],function(r){var s=r.parent();if(s instanceof AST_Unary){return true}if(s instanceof AST_Binary&&!(s instanceof AST_Assign)){return true}if(s instanceof AST_Call&&s.expression===this){return true}if(s instanceof AST_Conditional&&s.condition===this){return true}if(s instanceof AST_PropAccess&&s.expression===this){return true}});h(AST_Directive,function(s,r){r.print_string(s.value,s.quote);r.semicolon()});h(AST_Debugger,function(s,r){r.print("debugger");r.semicolon()});function g(r,v,s,u){var t=r.length-1;a=u;r.forEach(function(x,w){if(a===true&&!(x instanceof AST_Directive||x instanceof AST_EmptyStatement||(x instanceof AST_SimpleStatement&&x.body instanceof AST_String))){a=false}if(!(x instanceof AST_EmptyStatement)){s.indent();x.print(s);if(!(w==t&&v)){s.newline();if(v){s.newline()}}}if(a===true&&x instanceof AST_SimpleStatement&&x.body instanceof AST_String){a=false}});a=false}AST_StatementWithBody.DEFMETHOD("_do_print_body",function(r){m(this.body,r)});h(AST_Statement,function(s,r){s.body.print(r);r.semicolon()});h(AST_Toplevel,function(s,r){g(s.body,true,r,true);r.print("")});h(AST_LabeledStatement,function(s,r){s.label.print(r);r.colon();s.body.print(r)});h(AST_SimpleStatement,function(s,r){s.body.print(r);r.semicolon()});function l(r,s,t){if(r.length>0){s.with_block(function(){g(r,false,s,t)})}else{s.print("{}")}}h(AST_BlockStatement,function(s,r){l(s.body,r)});h(AST_EmptyStatement,function(s,r){r.semicolon()});h(AST_Do,function(s,r){r.print("do");r.space();o(s.body,r);r.space();r.print("while");r.space();r.with_parens(function(){s.condition.print(r)});r.semicolon()});h(AST_While,function(s,r){r.print("while");r.space();r.with_parens(function(){s.condition.print(r)});r.space();s._do_print_body(r)});h(AST_For,function(s,r){r.print("for");r.space();r.with_parens(function(){if(s.init){if(s.init instanceof AST_Definitions){s.init.print(r)}else{c(s.init,r,true)}r.print(";");r.space()}else{r.print(";")}if(s.condition){s.condition.print(r);r.print(";");r.space()}else{r.print(";")}if(s.step){s.step.print(r)}});r.space();s._do_print_body(r)});h(AST_ForIn,function(s,r){r.print("for");r.space();r.with_parens(function(){s.init.print(r);r.space();r.print("in");r.space();s.object.print(r)});r.space();s._do_print_body(r)});h(AST_With,function(s,r){r.print("with");r.space();r.with_parens(function(){s.expression.print(r)});r.space();s._do_print_body(r)});AST_Lambda.DEFMETHOD("_do_print",function(s,t){var r=this;if(!t){s.print("function")}if(r.name){s.space();r.name.print(s)}s.with_parens(function(){r.argnames.forEach(function(u,v){if(v){s.comma()}u.print(s)})});s.space();l(r.body,s,true)});h(AST_Lambda,function(s,r){s._do_print(r)});AST_Exit.DEFMETHOD("_do_print",function(r,s){r.print(s);if(this.value){r.space();this.value.print(r)}r.semicolon()});h(AST_Return,function(s,r){s._do_print(r,"return")});h(AST_Throw,function(s,r){s._do_print(r,"throw")});AST_LoopControl.DEFMETHOD("_do_print",function(r,s){r.print(s);if(this.label){r.space();this.label.print(r)}r.semicolon()});h(AST_Break,function(s,r){s._do_print(r,"break")});h(AST_Continue,function(s,r){s._do_print(r,"continue")});function q(t,s){var r=t.body;if(s.option("bracketize")||!s.option("screw_ie8")&&r instanceof AST_Do){return o(r,s)}if(!r){return s.force_semicolon()}while(true){if(r instanceof AST_If){if(!r.alternative){o(t.body,s);return}r=r.alternative}else{if(r instanceof AST_StatementWithBody){r=r.body}else{break}}}m(t.body,s)}h(AST_If,function(s,r){r.print("if");r.space();r.with_parens(function(){s.condition.print(r)});r.space();if(s.alternative){q(s,r);r.space();r.print("else");r.space();if(s.alternative instanceof AST_If){s.alternative.print(r)}else{m(s.alternative,r)}}else{s._do_print_body(r)}});h(AST_Switch,function(s,r){r.print("switch");r.space();r.with_parens(function(){s.expression.print(r)});r.space();var t=s.body.length-1;if(t<0){r.print("{}")}else{r.with_block(function(){s.body.forEach(function(v,u){r.indent(true);v.print(r);if(u<t&&v.body.length>0){r.newline()}})})}});AST_SwitchBranch.DEFMETHOD("_do_print_body",function(r){r.newline();this.body.forEach(function(s){r.indent();s.print(r);r.newline()})});h(AST_Default,function(s,r){r.print("default:");s._do_print_body(r)});h(AST_Case,function(s,r){r.print("case");r.space();s.expression.print(r);r.print(":");s._do_print_body(r)});h(AST_Try,function(s,r){r.print("try");r.space();l(s.body,r);if(s.bcatch){r.space();s.bcatch.print(r)}if(s.bfinally){r.space();s.bfinally.print(r)}});h(AST_Catch,function(s,r){r.print("catch");r.space();r.with_parens(function(){s.argname.print(r)});r.space();l(s.body,r)});h(AST_Finally,function(s,r){r.print("finally");r.space();l(s.body,r)});AST_Definitions.DEFMETHOD("_do_print",function(r,u){r.print(u);r.space();this.definitions.forEach(function(x,w){if(w){r.comma()}x.print(r)});var v=r.parent();var t=v instanceof AST_For||v instanceof AST_ForIn;var s=t&&v.init===this;if(!s){r.semicolon()}});h(AST_Var,function(s,r){s._do_print(r,"var")});h(AST_Const,function(s,r){s._do_print(r,"const")});function c(t,r,u){if(!u){t.print(r)}else{try{t.walk(new TreeWalker(function(v){if(v instanceof AST_Binary&&v.operator=="in"){throw r}}));t.print(r)}catch(s){if(s!==r){throw s}t.print(r,true)}}}h(AST_VarDef,function(s,r){s.name.print(r);if(s.value){r.space();r.print("=");r.space();var u=r.parent(1);var t=u instanceof AST_For||u instanceof AST_ForIn;c(s.value,r,t)}});h(AST_Call,function(s,r){s.expression.print(r);if(s instanceof AST_New&&!f(s,r)){return}r.with_parens(function(){s.args.forEach(function(u,t){if(t){r.comma()}u.print(r)})})});h(AST_New,function(s,r){r.print("new");r.space();AST_Call.prototype._codegen(s,r)});AST_Seq.DEFMETHOD("_do_print",function(r){this.car.print(r);if(this.cdr){r.comma();if(r.should_break()){r.newline();r.indent()}this.cdr.print(r)}});h(AST_Seq,function(s,r){s._do_print(r)});h(AST_Dot,function(s,r){var t=s.expression;t.print(r);if(t instanceof AST_Number&&t.getValue()>=0){if(!/[xa-f.)]/i.test(r.last())){r.print(".")}}r.print(".");r.add_mapping(s.end);r.print_name(s.property)});h(AST_Sub,function(s,r){s.expression.print(r);r.print("[");s.property.print(r);r.print("]")});h(AST_UnaryPrefix,function(s,r){var t=s.operator;r.print(t);if(/^[a-z]/i.test(t)||(/[+-]$/.test(t)&&s.expression instanceof AST_UnaryPrefix&&/^[+-]/.test(s.expression.operator))){r.space()}s.expression.print(r)});h(AST_UnaryPostfix,function(s,r){s.expression.print(r);r.print(s.operator)});h(AST_Binary,function(s,r){var t=s.operator;s.left.print(r);if(t[0]==">"&&s.left instanceof AST_UnaryPostfix&&s.left.operator=="--"){r.print(" ")}else{r.space()}r.print(t);if((t=="<"||t=="<<")&&s.right instanceof AST_UnaryPrefix&&s.right.operator=="!"&&s.right.expression instanceof AST_UnaryPrefix&&s.right.expression.operator=="--"){r.print(" ")}else{r.space()}s.right.print(r)});h(AST_Conditional,function(s,r){s.condition.print(r);r.space();r.print("?");r.space();s.consequent.print(r);r.space();r.colon();s.alternative.print(r)});h(AST_Array,function(s,r){r.with_square(function(){var u=s.elements,t=u.length;if(t>0){r.space()}u.forEach(function(w,v){if(v){r.comma()}w.print(r);if(v===t-1&&w instanceof AST_Hole){r.comma()}});if(t>0){r.space()}})});h(AST_Object,function(s,r){if(s.properties.length>0){r.with_block(function(){s.properties.forEach(function(u,t){if(t){r.print(",");r.newline()}r.indent();u.print(r)});r.newline()})}else{r.print("{}")}});function k(t,s,r){if(r.option("quote_keys")){r.print_string(t+"")}else{if((typeof t=="number"||!r.option("beautify")&&+t+""==t)&&parseFloat(t)>=0){r.print(p(t))}else{if(RESERVED_WORDS(t)?r.option("screw_ie8"):is_identifier_string(t)){if(s&&r.option("keep_quoted_props")){r.print_string(t,s)}else{r.print_name(t)}}else{r.print_string(t,s)}}}}h(AST_ObjectKeyVal,function(s,r){k(s.key,s.quote,r);r.colon();s.value.print(r)});AST_ObjectProperty.DEFMETHOD("_print_getter_setter",function(s,r){r.print(s);r.space();k(this.key.name,this.quote,r);this.value._do_print(r,true)});h(AST_ObjectSetter,function(s,r){s._print_getter_setter("set",r)});h(AST_ObjectGetter,function(s,r){s._print_getter_setter("get",r)});h(AST_Symbol,function(s,r){var t=s.definition();r.print_name(t?t.mangled_name||t.name:s.name)});h(AST_Hole,noop);h(AST_This,function(s,r){r.print("this")});h(AST_Constant,function(s,r){r.print(s.getValue())});h(AST_String,function(s,r){r.print_string(s.getValue(),s.quote,a)});h(AST_Number,function(s,r){if(j&&s.start&&s.start.raw!=null){r.print(s.start.raw)}else{r.print(p(s.getValue()))}});function e(r){return[92,47,46,43,42,63,40,41,91,93,123,125,36,94,58,124,33,10,13,0,65279,8232,8233].indexOf(r)<0}h(AST_RegExp,function(s,r){var u=s.getValue().toString();if(r.option("ascii_only")){u=r.to_ascii(u)}else{if(r.option("unescape_regexps")){u=u.split("\\\\").map(function(v){return v.replace(/\\u[0-9a-fA-F]{4}|\\x[0-9a-fA-F]{2}/g,function(w){var x=parseInt(w.substr(2),16);return e(x)?String.fromCharCode(x):w})}).join("\\\\")}}r.print(u);var t=r.parent();if(t instanceof AST_Binary&&/^in/.test(t.operator)&&t.left===s){r.print(" ")}});function m(s,r){if(r.option("bracketize")){o(s,r)}else{if(!s||s instanceof AST_EmptyStatement){r.force_semicolon()}else{s.print(r)}}}function f(s,r){if(s.args.length>0){return true}return r.option("beautify")}function i(s){var u=s[0],r=u.length;for(var t=1;t<s.length;++t){if(s[t].length<r){u=s[t];r=u.length}}return u}function p(t){var u=t.toString(10),s=[u.replace(/^0\./,".").replace("e+","e")],r;if(Math.floor(t)===t){if(t>=0){s.push("0x"+t.toString(16).toLowerCase(),"0"+t.toString(8))}else{s.push("-0x"+(-t).toString(16).toLowerCase(),"-0"+(-t).toString(8))}if((r=/^(.*?)(0+)$/.exec(t))){s.push(r[1]+"e"+r[2].length)}}else{if((r=/^0?\.(0+)(.*)$/.exec(t))){s.push(r[2]+"e-"+(r[1].length+r[2].length),u.substr(u.indexOf(".")))}}return i(s)}function o(s,r){if(!s||s instanceof AST_EmptyStatement){r.print("{}")}else{if(s instanceof AST_BlockStatement){s.print(r)}else{r.with_block(function(){r.indent();s.print(r);r.newline()})}}}function b(r,s){r.DEFMETHOD("add_source_map",function(t){s(this,t)})}b(AST_Node,noop);function d(s,r){r.add_mapping(s.start)}b(AST_Directive,d);b(AST_Debugger,d);b(AST_Symbol,d);b(AST_Jump,d);b(AST_StatementWithBody,d);b(AST_LabeledStatement,noop);b(AST_Lambda,d);b(AST_Switch,d);b(AST_SwitchBranch,d);b(AST_BlockStatement,d);b(AST_Toplevel,noop);b(AST_New,d);b(AST_Try,d);b(AST_Catch,d);b(AST_Finally,d);b(AST_Definitions,d);b(AST_Constant,d);b(AST_ObjectSetter,function(s,r){r.add_mapping(s.start,s.key.name)});b(AST_ObjectGetter,function(s,r){r.add_mapping(s.start,s.key.name)});b(AST_ObjectProperty,function(s,r){r.add_mapping(s.start,s.key)})})();