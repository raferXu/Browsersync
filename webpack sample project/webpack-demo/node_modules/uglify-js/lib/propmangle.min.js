"use strict";function find_builtins(){var b=["null","true","false","Infinity","-Infinity","undefined"];[Object,Array,Function,Number,String,Boolean,Error,Math,Date,RegExp].forEach(function(a){Object.getOwnPropertyNames(a).map(c);if(a.prototype){Object.getOwnPropertyNames(a.prototype).map(c)}});function c(a){push_uniq(b,a)}return b}function mangle_properties(b,q){q=defaults(q,{cache:null,debug:false,ignore_quoted:false,only_cache:false,regex:null,reserved:null});var d=q.reserved;if(d==null){d=find_builtins()}var a=q.cache;if(a==null){a={cname:-1,props:new Dictionary()}}var m=q.regex;var h=q.ignore_quoted;var c=(q.debug!==false);var l;if(c){l=(q.debug===true?"":q.debug)}var g=[];var p=[];var f={};b.walk(new TreeWalker(function(r){if(r instanceof AST_ObjectKeyVal){o(r.key,h&&r.quote)}else{if(r instanceof AST_ObjectProperty){o(r.key.name)}else{if(r instanceof AST_Dot){o(r.property)}else{if(r instanceof AST_Sub){j(r.property,h)}}}}}));return b.transform(new TreeTransformer(function(r){if(r instanceof AST_ObjectKeyVal){if(!(h&&r.quote)){r.key=k(r.key)}}else{if(r instanceof AST_ObjectProperty){r.key.name=k(r.key.name)}else{if(r instanceof AST_Dot){r.property=k(r.property)}else{if(r instanceof AST_Sub){if(!h){r.property=i(r.property)}}}}}}));function e(r){if(p.indexOf(r)>=0){return false}if(d.indexOf(r)>=0){return false}if(q.only_cache){return a.props.has(r)}if(/^-?[0-9]+(\.[0-9]+)?(e[+-][0-9]+)?$/.test(r)){return false}return true}function n(r){if(h&&r in f){return false}if(m&&!m.test(r)){return false}if(d.indexOf(r)>=0){return false}return a.props.has(r)||g.indexOf(r)>=0}function o(r,s){if(s){f[r]=true;return}if(e(r)){push_uniq(g,r)}if(!n(r)){push_uniq(p,r)}}function k(s){if(!n(s)){return s}var r=a.props.get(s);if(!r){if(c){var t="_$"+s+"$"+l+"_";if(e(t)&&!(h&&t in f)){r=t}}if(!r){do{r=base54(++a.cname)}while(!e(r)||(h&&r in f))}a.props.set(s,r)}return r}function j(u,v){var s={};try{(function r(w){w.walk(new TreeWalker(function(x){if(x instanceof AST_Seq){r(x.cdr);return true}if(x instanceof AST_String){o(x.value,v);return true}if(x instanceof AST_Conditional){r(x.consequent);r(x.alternative);return true}throw s}))})(u)}catch(t){if(t!==s){throw t}}}function i(r){return r.transform(new TreeTransformer(function(s){if(s instanceof AST_Seq){s.cdr=i(s.cdr)}else{if(s instanceof AST_String){s.value=k(s.value)}else{if(s instanceof AST_Conditional){s.consequent=i(s.consequent);s.alternative=i(s.alternative)}}}return s}))}};