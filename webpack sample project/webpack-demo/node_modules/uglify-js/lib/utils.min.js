"use strict";function array_to_hash(b){var c=Object.create(null);for(var d=0;d<b.length;++d){c[b[d]]=true}return c}function slice(b,c){return Array.prototype.slice.call(b,c||0)}function characters(a){return a.split("")}function member(a,b){return b.indexOf(a)>=0}function find_if(b,d){for(var a=0,c=d.length;a<c;++a){if(b(d[a])){return d[a]}}}function repeat_string(c,a){if(a<=0){return""}if(a==1){return c}var b=repeat_string(c,a>>1);b+=b;if(a&1){b+=c}return b}function configure_error_stack(a){Object.defineProperty(a.prototype,"stack",{get:function(){var b=new Error(this.message);b.name=this.name;try{throw b}catch(c){return c.stack}}})}function DefaultsError(b,a){this.message=b;this.defs=a}DefaultsError.prototype=Object.create(Error.prototype);DefaultsError.prototype.constructor=DefaultsError;DefaultsError.prototype.name="DefaultsError";configure_error_stack(DefaultsError);DefaultsError.croak=function(b,a){throw new DefaultsError(b,a)};function defaults(c,a,e){if(c===true){c={}}var b=c||{};if(e){for(var d in b){if(HOP(b,d)&&!HOP(a,d)){DefaultsError.croak("`"+d+"` is not a supported option",a)}}}for(var d in a){if(HOP(a,d)){b[d]=(c&&HOP(c,d))?c[d]:a[d]}}return b}function merge(d,b){var c=0;for(var a in b){if(HOP(b,a)){d[a]=b[a];c++}}return c}function noop(){}function return_false(){return false}function return_true(){return true}function return_this(){return this}function return_null(){return null}var MAP=(function(){function c(h,l,g){var j=[],m=[],k;function n(){var i=l(h[k],k);var f=i instanceof b;if(f){i=i.v}if(i instanceof a){i=i.v;if(i instanceof e){m.push.apply(m,g?i.v.slice().reverse():i.v)}else{m.push(i)}}else{if(i!==d){if(i instanceof e){j.push.apply(j,g?i.v.slice().reverse():i.v)}else{j.push(i)}}}return f}if(h instanceof Array){if(g){for(k=h.length;--k>=0;){if(n()){break}}j.reverse();m.reverse()}else{for(k=0;k<h.length;++k){if(n()){break}}}}else{for(k in h){if(HOP(h,k)){if(n()){break}}}}return m.concat(j)}c.at_top=function(f){return new a(f)};c.splice=function(f){return new e(f)};c.last=function(f){return new b(f)};var d=c.skip={};function a(f){this.v=f}function e(f){this.v=f}function b(f){this.v=f}return c})();function push_uniq(b,a){if(b.indexOf(a)<0){b.push(a)}}function string_template(b,a){return b.replace(/\{(.+?)\}/g,function(d,c){return a&&a[c]})}function remove(c,b){for(var a=c.length;--a>=0;){if(c[a]===b){c.splice(a,1)}}}function mergeSort(d,a){if(d.length<2){return d.slice()}function c(g,f){var k=[],e=0,h=0,j=0;while(e<g.length&&h<f.length){a(g[e],f[h])<=0?k[j++]=g[e++]:k[j++]=f[h++]}if(e<g.length){k.push.apply(k,g.slice(e))}if(h<f.length){k.push.apply(k,f.slice(h))}return k}function b(f){if(f.length<=1){return f}var e=Math.floor(f.length/2),h=f.slice(0,e),g=f.slice(e);h=b(h);g=b(g);return c(h,g)}return b(d)}function set_difference(d,c){return d.filter(function(a){return c.indexOf(a)<0})}function set_intersection(d,c){return d.filter(function(a){return c.indexOf(a)>=0})}function makePredicate(k){if(!(k instanceof Array)){k=k.split(" ")}var h="",e=[];out:for(var g=0;g<k.length;++g){for(var d=0;d<e.length;++d){if(e[d][0].length==k[g].length){e[d].push(k[g]);continue out}}e.push([k[g]])}function b(f){return JSON.stringify(f).replace(/[\u2028\u2029]/g,function(i){switch(i){case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}return i})}function c(f){if(f.length==1){return h+="return str === "+b(f[0])+";"}h+="switch(str){";for(var j=0;j<f.length;++j){h+="case "+b(f[j])+":"}h+="return true}return false;"}if(e.length>3){e.sort(function(i,f){return f.length-i.length});h+="switch(str.length){";for(var g=0;g<e.length;++g){var a=e[g];h+="case "+a[0].length+":";c(a)}h+="}"}else{c(k)}return new Function("str",h)}function all(c,a){for(var b=c.length;--b>=0;){if(!a(c[b])){return false}}return true}function Dictionary(){this._values=Object.create(null);this._size=0}Dictionary.prototype={set:function(a,b){if(!this.has(a)){++this._size}this._values["$"+a]=b;return this},add:function(a,b){if(this.has(a)){this.get(a).push(b)}else{this.set(a,[b])}return this},get:function(a){return this._values["$"+a]},del:function(a){if(this.has(a)){--this._size;delete this._values["$"+a]}return this},has:function(a){return("$"+a) in this._values},each:function(b){for(var a in this._values){b(this._values[a],a.substr(1))}},size:function(){return this._size},map:function(c){var a=[];for(var b in this._values){a.push(c(this._values[b],b.substr(1)))}return a},toObject:function(){return this._values}};Dictionary.fromObject=function(a){var b=new Dictionary();b._size=merge(b._values,a);return b};function HOP(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function first_in_statement(a){var c=a.parent(-1);for(var b=0,d;d=a.parent(b);b++){if(d instanceof AST_Statement&&d.body===c){return true}if((d instanceof AST_Seq&&d.car===c)||(d instanceof AST_Call&&d.expression===c&&!(d instanceof AST_New))||(d instanceof AST_Dot&&d.expression===c)||(d instanceof AST_Sub&&d.expression===c)||(d instanceof AST_Conditional&&d.condition===c)||(d instanceof AST_Binary&&d.left===c)||(d instanceof AST_UnaryPostfix&&d.expression===c)){c=d}else{return false}}};