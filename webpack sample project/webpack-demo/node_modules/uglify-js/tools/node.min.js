[process.stdout,process.stderr].forEach(function(a){if(a._handle&&a._handle.setBlocking){a._handle.setBlocking(true)}});var path=require("path");var fs=require("fs");var UglifyJS=exports;var FILES=UglifyJS.FILES=["../lib/utils.js","../lib/ast.js","../lib/parse.js","../lib/transform.js","../lib/scope.js","../lib/output.js","../lib/compress.js","../lib/sourcemap.js","../lib/mozilla-ast.js","../lib/propmangle.js","./exports.js"].map(function(a){return require.resolve(a)});new Function("MOZ_SourceMap","exports",FILES.map(function(a){return fs.readFileSync(a,"utf8")}).join("\n\n"))(require("source-map"),UglifyJS);UglifyJS.AST_Node.warn_function=function(a){console.error("WARN: %s",a)};function read_source_map(b){var a=/\n\/\/# sourceMappingURL=data:application\/json(;.*?)?;base64,(.*)/.exec(b);if(!a){UglifyJS.AST_Node.warn("inline source map not found");return null}return JSON.parse(new Buffer(a[2],"base64"))}UglifyJS.minify=function(a,m){m=UglifyJS.defaults(m,{compress:{},fromString:false,inSourceMap:null,mangle:{},mangleProperties:false,nameCache:null,outFileName:null,output:null,outSourceMap:null,parse:{},sourceMapInline:false,sourceMapUrl:null,sourceRoot:null,spidermonkey:false,warnings:false});UglifyJS.base54.reset();var f=m.inSourceMap;if(typeof f=="string"&&f!="inline"){f=JSON.parse(fs.readFileSync(f,"utf8"))}var j=null,i={};if(m.spidermonkey){if(f=="inline"){throw new Error("inline source map only works with built-in parser")}j=UglifyJS.AST_Node.from_mozilla_ast(a)}else{function d(o,n){var p=m.fromString?o:fs.readFileSync(o,"utf8");if(f=="inline"){f=read_source_map(p)}i[n]=p;j=UglifyJS.parse(p,{filename:n,toplevel:j,bare_returns:m.parse?m.parse.bare_returns:undefined})}if(!m.fromString){a=UglifyJS.simple_glob(a);if(f=="inline"&&a.length>1){throw new Error("inline source map only works with singular input")}}[].concat(a).forEach(function(p,o){if(typeof p==="string"){d(p,m.fromString?o:p)}else{for(var n in p){d(p[n],n)}}})}if(m.wrap){j=j.wrap_commonjs(m.wrap,m.exportAll)}if(m.compress){var g={warnings:m.warnings};UglifyJS.merge(g,m.compress);j.figure_out_scope(m.mangle);var b=UglifyJS.Compressor(g);j=b.compress(j)}if(m.mangleProperties||m.nameCache){m.mangleProperties.cache=UglifyJS.readNameCache(m.nameCache,"props");j=UglifyJS.mangle_properties(j,m.mangleProperties);UglifyJS.writeNameCache(m.nameCache,"props",m.mangleProperties.cache)}if(m.mangle){j.figure_out_scope(m.mangle);j.compute_char_frequency(m.mangle);j.mangle_names(m.mangle)}var c={max_line_len:32000};if(m.outSourceMap||m.sourceMapInline){c.source_map=UglifyJS.SourceMap({file:m.outFileName||(typeof m.outSourceMap==="string"?m.outSourceMap.replace(/\.map$/i,""):null),orig:f,root:m.sourceRoot});if(m.sourceMapIncludeSources){for(var e in i){if(i.hasOwnProperty(e)){c.source_map.get().setSourceContent(e,i[e])}}}}if(m.output){UglifyJS.merge(c,m.output)}var k=UglifyJS.OutputStream(c);j.print(k);var l=c.source_map;if(l){l=l+""}var h="\n//# sourceMappingURL=";if(m.sourceMapInline){k+=h+"data:application/json;charset=utf-8;base64,"+new Buffer(l).toString("base64")}else{if(m.outSourceMap&&typeof m.outSourceMap==="string"&&m.sourceMapUrl!==false){k+=h+(typeof m.sourceMapUrl==="string"?m.sourceMapUrl:m.outSourceMap)}}return{code:k+"",map:l}};UglifyJS.describe_ast=function(){var b=UglifyJS.OutputStream({beautify:true});function a(d){b.print("AST_"+d.TYPE);var c=d.SELF_PROPS.filter(function(e){return !/^\$/.test(e)});if(c.length>0){b.space();b.with_parens(function(){c.forEach(function(f,e){if(e){b.space()}b.print(f)})})}if(d.documentation){b.space();b.print_string(d.documentation)}if(d.SUBCLASSES.length>0){b.space();b.with_block(function(){d.SUBCLASSES.forEach(function(f,e){b.indent();a(f);b.newline()})})}}a(UglifyJS.AST_Node);return b+""};function readReservedFile(b,a){if(!a){a={vars:[],props:[]}}var c=fs.readFileSync(b,"utf8");c=JSON.parse(c);if(c.vars){c.vars.forEach(function(d){UglifyJS.push_uniq(a.vars,d)})}if(c.props){c.props.forEach(function(d){UglifyJS.push_uniq(a.props,d)})}return a}UglifyJS.readReservedFile=readReservedFile;UglifyJS.readDefaultReservedFile=function(a){return readReservedFile(require.resolve("./domprops.json"),a)};UglifyJS.readNameCache=function(b,d){var a=null;if(b){try{var a=fs.readFileSync(b,"utf8");a=JSON.parse(a)[d];if(!a){throw"init"}a.props=UglifyJS.Dictionary.fromObject(a.props)}catch(c){a={cname:-1,props:new UglifyJS.Dictionary()}}}return a};UglifyJS.writeNameCache=function(b,d,a){if(b){var e;try{e=fs.readFileSync(b,"utf8");e=JSON.parse(e)}catch(c){e={}}e[d]={cname:a.cname,props:a.props.toObject()};fs.writeFileSync(b,JSON.stringify(e,null,2),"utf8")}};UglifyJS.simple_glob=function simple_glob(h){if(Array.isArray(h)){return[].concat.apply([],h.map(simple_glob))}if(h.match(/\*|\?/)){var b=path.dirname(h);try{var a=fs.readdirSync(b)}catch(e){}if(a){var f="^"+path.basename(h).replace(/[.+^$[\]\\(){}]/g,"\\$&").replace(/\*/g,"[^/\\\\]*").replace(/\?/g,"[^/\\\\]")+"$";var d=process.platform==="win32"?"i":"";var g=new RegExp(f,d);var c=a.filter(function(i){return g.test(i)}).map(function(i){return path.join(b,i)});if(c.length){return c}}}return[h]};