var wordwrap=module.exports=function(e,a,d){if(typeof e==="object"){d=e;e=d.start;a=d.stop}if(typeof a==="object"){d=a;e=e||d.start;a=undefined}if(!a){a=e;e=0}if(!d){d={}}var c=d.mode||"soft";var b=c==="hard"?/\b/:/(\S+\s+)/;return function(f){var g=f.toString().split(b).reduce(function(k,h){if(c==="hard"){for(var j=0;j<h.length;j+=a-e){k.push(h.slice(j,j+a-e))}}else{k.push(h)}return k},[]);return g.reduce(function(h,l){if(l===""){return h}var k=l.replace(/\t/g,"    ");var m=h.length-1;if(h[m].length+k.length>a){h[m]=h[m].replace(/\s+$/,"");k.split(/\n/).forEach(function(i){h.push(new Array(e+1).join(" ")+i.replace(/^\s+/,""))})}else{if(k.match(/\n/)){var j=k.split(/\n/);h[m]+=j.shift();j.forEach(function(i){h.push(new Array(e+1).join(" ")+i.replace(/^\s+/,""))})}else{h[m]+=k}}return h},[new Array(e+1).join(" ")]).join("\n")}};wordwrap.soft=wordwrap;wordwrap.hard=function(b,a){return wordwrap(b,a,{mode:"hard"})};