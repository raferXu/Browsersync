"use strict";var readdirp=require(".."),util=require("util"),fs=require("fs"),path=require("path"),es=require("event-stream");function findLinesMatching(a){return es.through(function(e){var f=0,b=[],g=this;function d(){return es.mapSync(function(h){f++;return ~h.indexOf(a)?f+": "+h:undefined})}function c(){return es.through(function i(j){b.push(j)},function h(){if(b.length){var j={file:e,lines:b};g.emit("data",j)}this.emit("end")})}fs.createReadStream(e.fullPath,{encoding:"utf-8"}).pipe(es.split("\n")).pipe(d()).pipe(c())})}console.log('grepping for "arguments"');readdirp({root:path.join(__dirname),fileFilter:"*.js"}).pipe(findLinesMatching("arguments")).pipe(es.mapSync(function(a){return"\n\n"+a.file.path+"\n\t"+a.lines.join("\n\t")})).pipe(process.stdout);