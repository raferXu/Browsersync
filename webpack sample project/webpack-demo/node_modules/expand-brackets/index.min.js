/*!
 * expand-brackets <https://github.com/jonschlinkert/expand-brackets>
 *
 * Copyright (c) 2015 Jon Schlinkert.
 * Licensed under the MIT license.
 */
;"use strict";var isPosixBracket=require("is-posix-bracket");var POSIX={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E",punct:"-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};module.exports=brackets;function brackets(n){if(!isPosixBracket(n)){return n}var d=false;if(n.indexOf("[^")!==-1){d=true;n=n.split("[^").join("[")}if(n.indexOf("[!")!==-1){d=true;n=n.split("[!").join("[")}var p=n.split("[");var o=n.split("]");var e=p.length!==o.length;var g=n.split(/(?::\]\[:|\[?\[:|:\]\]?)/);var k=g.length,h=0;var f="",m="";var l=[];while(k--){var s=g[h++];if(s==="^[!"||s==="[!"){s="";d=true}var j=d?"^":"";var c=POSIX[s];if(c){l.push("["+j+c+"]")}else{if(s){if(/^\[?\w-\w\]?$/.test(s)){if(h===g.length){l.push("["+j+s)}else{if(h===1){l.push(j+s+"]")}else{l.push(j+s)}}}else{if(h===1){m+=s}else{if(h===g.length){f+=s}else{l.push("["+j+s+"]")}}}}}}var r=l.join("|");var q=l.length||1;if(q>1){r="(?:"+r+")";q=1}if(m){q++;if(m.charAt(0)==="["){if(e){m="\\["+m.slice(1)}else{m+="]"}}r=m+r}if(f){q++;if(f.slice(-1)==="]"){if(e){f=f.slice(0,f.length-1)+"\\]"}else{f="["+f}}r+=f}if(q>1){r=r.split("][").join("]|[");if(r.indexOf("|")!==-1&&!/\(\?/.test(r)){r="(?:"+r+")"}}r=r.replace(/\[+=|=\]+/g,"\\b");return r}brackets.makeRe=function(b){try{return new RegExp(brackets(b))}catch(a){}};brackets.isMatch=function(c,b){try{return brackets.makeRe(b).test(c)}catch(a){return false}};brackets.match=function(b,g){var a=b.length,d=0;var c=b.slice();var e=brackets.makeRe(g);while(d<a){var f=b[d++];if(!e.test(f)){continue}c.splice(d,1)}return c};