"use strict";var eq=require("./eq"),isPlainObject=require("./is-plain-object"),value=require("./valid-value");var isArray=Array.isArray,keys=Object.keys,objPropertyIsEnumerable=Object.prototype.propertyIsEnumerable,objHasOwnProperty=Object.prototype.hasOwnProperty,eqArr,eqVal,eqObj;eqArr=function(c,a,b){var d,e=c.length;if(e!==a.length){return false}for(d=0;d<e;++d){if(objHasOwnProperty.call(c,d)!==objHasOwnProperty.call(a,d)){return false}if(!eqVal(c[d],a[d],b)){return false}}return true};eqObj=function(d,b,a){var e=keys(d),c=keys(b);if(e.length!==c.length){return false}return e.every(function(f){if(!objPropertyIsEnumerable.call(b,f)){return false}return eqVal(d[f],b[f],a)})};eqVal=function(f,e,a){var c,g,d,b;if(eq(f,e)){return true}if(isPlainObject(f)){if(!isPlainObject(e)){return false}g=eqObj}else{if(isArray(f)&&isArray(e)){g=eqArr}else{return false}}d=a[0];b=a[1];c=d.indexOf(f);if(c===-1){c=d.push(f)-1;b[c]=[]}else{if(b[c].indexOf(e)!==-1){return true}}b[c].push(e);return g(f,e,a)};module.exports=function(b,a){if(eq(value(b),value(a))){return true}return eqVal(Object(b),Object(a),[[],[]])};