"use strict";var isObject=require("../is-object"),value=require("../valid-value"),objIsPrototypOf=Object.prototype.isPrototypeOf,defineProperty=Object.defineProperty,nullDesc={configurable:true,enumerable:false,writable:true,value:undefined},validate;validate=function(b,a){value(b);if(a===null||isObject(a)){return b}throw new TypeError("Prototype must be null or an object")};module.exports=(function(a){var c,d;if(!a){return null}if(a.level===2){if(a.set){d=a.set;c=function(f,e){d.call(validate(f,e),e);return f}}else{c=function(f,e){validate(f,e).__proto__=e;return f}}}else{c=function b(g,e){var f;validate(g,e);f=objIsPrototypOf.call(b.nullPolyfill,g);if(f){delete b.nullPolyfill.__proto__}if(e===null){e=b.nullPolyfill}g.__proto__=e;if(f){defineProperty(b.nullPolyfill,"__proto__",nullDesc)}return g}}return Object.defineProperty(c,"level",{configurable:false,enumerable:false,writable:false,value:a.level})}((function(){var b=Object.create(null),a={},e,c=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(c){try{e=c.set;e.call(b,a)}catch(d){}if(Object.getPrototypeOf(b)===a){return{set:e,level:2}}}b.__proto__=a;if(Object.getPrototypeOf(b)===a){return{level:2}}b={};b.__proto__=a;if(Object.getPrototypeOf(b)===a){return{level:1}}return false})()));require("../create");