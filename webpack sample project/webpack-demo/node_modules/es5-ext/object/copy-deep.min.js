"use strict";var forEach=require("./for-each"),isPlainObject=require("./is-plain-object"),ensureValue=require("./valid-value"),isArray=Array.isArray,copy,copyItem;copyItem=function(b){var a;if(!isPlainObject(b)&&!isArray(b)){return b}a=this[0].indexOf(b);if(a===-1){return copy.call(this,b)}return this[1][a]};copy=function(a){var b=isArray(a)?[]:{};this[0].push(a);this[1].push(b);if(isArray(a)){a.forEach(function(d,c){b[c]=copyItem.call(this,d,c)},this)}else{forEach(a,function(d,c){b[c]=copyItem.call(this,d,c)},this)}return b};module.exports=function(a){var b=Object(ensureValue(a));if(b!==a){return b}return copy.call([[],[]],b)};