"use strict";var compact=require("../array/#/compact"),isObject=require("../object/is-object"),toArray=require("../object/to-array"),isArray=Array.isArray,stringify=JSON.stringify;module.exports=function self(c){var a=arguments[1],b=arguments[2];try{return stringify(c,a,b)}catch(d){if(!isObject(c)){return null}if(typeof c.toJSON==="function"){return null}if(isArray(c)){return("["+compact.call(c.map(function(e){return self(e,a,b)}))+"]")}return("{"+compact.call(toArray(c,function(f,e){f=self(f,a,b);if(!f){return null}return stringify(e)+":"+f})).join(",")+"}")}};