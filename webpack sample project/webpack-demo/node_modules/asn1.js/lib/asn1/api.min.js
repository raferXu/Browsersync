var asn1=require("../asn1");var inherits=require("inherits");var api=exports;api.define=function define(b,a){return new Entity(b,a)};function Entity(b,a){this.name=b;this.body=a;this.decoders={};this.encoders={}}Entity.prototype._createNamed=function createNamed(c){var a;try{a=require("vm").runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(d){a=function(e){this._initNamed(e)}}inherits(a,c);a.prototype._initNamed=function b(e){c.call(this,e)};return new a(this)};Entity.prototype._getDecoder=function _getDecoder(a){a=a||"der";if(!this.decoders.hasOwnProperty(a)){this.decoders[a]=this._createNamed(asn1.decoders[a])}return this.decoders[a]};Entity.prototype.decode=function decode(c,a,b){return this._getDecoder(a).decode(c,b)};Entity.prototype._getEncoder=function _getEncoder(a){a=a||"der";if(!this.encoders.hasOwnProperty(a)){this.encoders[a]=this._createNamed(asn1.encoders[a])}return this.encoders[a]};Entity.prototype.encode=function encode(c,b,a){return this._getEncoder(b).encode(c,a)};