var test=require("tape");var vm=require("../");test("vmRunInNewContext",function(a){a.plan(6);a.equal(vm.runInNewContext("a + 5",{a:100}),105);(function(){var b={x:10};a.equal(vm.runInNewContext("x++",b),10);a.equal(b.x,11)})();(function(){var b={x:10};a.equal(vm.runInNewContext("var y = 3; y + x++",b),13);a.equal(b.x,11);a.equal(b.y,3)})();a.end()});test("vmRunInContext",function(b){b.plan(2);var a=vm.createContext({foo:1});vm.runInContext("var x = 1",a);b.deepEqual(a,{foo:1,x:1});vm.runInContext("var y = 1",a);b.deepEqual(a,{foo:1,x:1,y:1})});