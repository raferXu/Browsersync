"use strict";var clear=require("es5-ext/array/#/clear"),assign=require("es5-ext/object/assign"),setPrototypeOf=require("es5-ext/object/set-prototype-of"),toStringTagSymbol=require("es6-symbol").toStringTag,d=require("d"),autoBind=require("d/auto-bind"),Iterator=require("es6-iterator"),kinds=require("./iterator-kinds"),defineProperties=Object.defineProperties,keys=Object.keys,unBind=Iterator.prototype._unBind,PrimitiveMapIterator;PrimitiveMapIterator=module.exports=function(b,a){if(!(this instanceof PrimitiveMapIterator)){return new PrimitiveMapIterator(b,a)}Iterator.call(this,keys(b.__mapKeysData__),b);if(!a||!kinds[a]){a="key+value"}defineProperties(this,{__kind__:d("",a),__keysData__:d("w",b.__mapKeysData__),__valuesData__:d("w",b.__mapValuesData__)})};if(setPrototypeOf){setPrototypeOf(PrimitiveMapIterator,Iterator)}PrimitiveMapIterator.prototype=Object.create(Iterator.prototype,assign({constructor:d(PrimitiveMapIterator),_resolve:d(function(a){if(this.__kind__==="value"){return this.__valuesData__[this.__list__[a]]}if(this.__kind__==="key"){return this.__keysData__[this.__list__[a]]}return[this.__keysData__[this.__list__[a]],this.__valuesData__[this.__list__[a]]]}),_unBind:d(function(){this.__keysData__=null;this.__valuesData__=null;unBind.call(this)}),toString:d(function(){return"[object Map Iterator]"})},autoBind({_onAdd:d(function(a){this.__list__.push(a)}),_onDelete:d(function(b){var a=this.__list__.lastIndexOf(b);if(a<this.__nextIndex__){return}this.__list__.splice(a,1)}),_onClear:d(function(){clear.call(this.__list__);this.__nextIndex__=0})})));Object.defineProperty(PrimitiveMapIterator.prototype,toStringTagSymbol,d("c","Map Iterator"));