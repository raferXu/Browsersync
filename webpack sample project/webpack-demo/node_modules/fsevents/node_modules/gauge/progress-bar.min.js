"use strict";var validate=require("aproba");var renderTemplate=require("./render-template.js");var wideTruncate=require("./wide-truncate");var stringWidth=require("string-width");module.exports=function(f,d,c){validate("ONN",[f,d,c]);if(c<0){c=0}if(c>1){c=1}if(d<=0){return""}var e=Math.round(d*c);var b=d-e;var a=[{type:"complete",value:repeat(f.complete,e),length:e},{type:"remaining",value:repeat(f.remaining,b),length:b}];return renderTemplate(d,a,f)};function repeat(b,c){var a="";var d=c;do{if(d%2){a+=b}d=Math.floor(d/2);b+=b}while(d&&stringWidth(a)<c);return wideTruncate(a,c)};