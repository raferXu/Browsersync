function Caseless(a){this.dict=a||{}}Caseless.prototype.set=function(b,d,e){if(typeof b==="object"){for(var c in b){this.set(c,b[c],d)}}else{if(typeof e==="undefined"){e=true}var a=this.has(b);if(!e&&a){this.dict[a]=this.dict[a]+","+d}else{this.dict[a||b]=d}return a}};Caseless.prototype.has=function(a){var c=Object.keys(this.dict),a=a.toLowerCase();for(var b=0;b<c.length;b++){if(c[b].toLowerCase()===a){return c[b]}}return false};Caseless.prototype.get=function(b){b=b.toLowerCase();var a,c;var d=this.dict;Object.keys(d).forEach(function(e){c=e.toLowerCase();if(b===c){a=d[e]}});return a};Caseless.prototype.swap=function(b){var a=this.has(b);if(a===b){return}if(!a){throw new Error('There is no header than matches "'+b+'"')}this.dict[b]=this.dict[a];delete this.dict[a]};Caseless.prototype.del=function(b){var a=this.has(b);return delete this.dict[a||b]};module.exports=function(a){return new Caseless(a)};module.exports.httpify=function(b,a){var d=new Caseless(a);b.setHeader=function(c,e,f){if(typeof e==="undefined"){return}return d.set(c,e,f)};b.hasHeader=function(c){return d.has(c)};b.getHeader=function(c){return d.get(c)};b.removeHeader=function(c){return d.del(c)};b.headers=d.dict;return d};