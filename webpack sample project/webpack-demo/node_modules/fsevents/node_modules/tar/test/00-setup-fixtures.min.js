var tap=require("tap"),child_process=require("child_process"),rimraf=require("rimraf"),test=tap.test,path=require("path");test("clean fixtures",function(a){rimraf(path.resolve(__dirname,"fixtures"),function(b){a.ifError(b,"rimraf ./fixtures/");a.end()})});test("clean tmp",function(a){rimraf(path.resolve(__dirname,"tmp"),function(b){a.ifError(b,"rimraf ./tmp/");a.end()})});test("extract fixtures",function(b){var d=child_process.spawn("tar",["xzvf","fixtures.tgz"],{cwd:__dirname});d.stdout.on("data",a);d.stderr.on("data",a);function a(c){process.stderr.write(c)}d.on("exit",function(c){b.equal(c,0,"extract fixtures should exit with 0");if(c){b.comment("Note, all tests from here on out will fail because of this.")}b.end()})});