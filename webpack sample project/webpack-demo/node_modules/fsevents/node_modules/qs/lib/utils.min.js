"use strict";var has=Object.prototype.hasOwnProperty;var hexTable=(function(){var b=[];for(var a=0;a<256;++a){b.push("%"+((a<16?"0":"")+a.toString(16)).toUpperCase())}return b}());exports.arrayToObject=function(c,a){var d=a&&a.plainObjects?Object.create(null):{};for(var b=0;b<c.length;++b){if(typeof c[b]!=="undefined"){d[b]=c[b]}}return d};exports.merge=function(d,c,a){if(!c){return d}if(typeof c!=="object"){if(Array.isArray(d)){d.push(c)}else{if(typeof d==="object"){if(a.plainObjects||a.allowPrototypes||!has.call(Object.prototype,c)){d[c]=true}}else{return[d,c]}}return d}if(typeof d!=="object"){return[d].concat(c)}var b=d;if(Array.isArray(d)&&!Array.isArray(c)){b=exports.arrayToObject(d,a)}if(Array.isArray(d)&&Array.isArray(c)){c.forEach(function(f,e){if(has.call(d,e)){if(d[e]&&typeof d[e]==="object"){d[e]=exports.merge(d[e],f,a)}else{d.push(f)}}else{d[e]=f}});return d}return Object.keys(c).reduce(function(g,e){var f=c[e];if(Object.prototype.hasOwnProperty.call(g,e)){g[e]=exports.merge(g[e],f,a)}else{g[e]=f}return g},b)};exports.decode=function(b){try{return decodeURIComponent(b.replace(/\+/g," "))}catch(a){return b}};exports.encode=function(e){if(e.length===0){return e}var b=typeof e==="string"?e:String(e);var a="";for(var d=0;d<b.length;++d){var f=b.charCodeAt(d);if(f===45||f===46||f===95||f===126||(f>=48&&f<=57)||(f>=65&&f<=90)||(f>=97&&f<=122)){a+=b.charAt(d);continue}if(f<128){a=a+hexTable[f];continue}if(f<2048){a=a+(hexTable[192|(f>>6)]+hexTable[128|(f&63)]);continue}if(f<55296||f>=57344){a=a+(hexTable[224|(f>>12)]+hexTable[128|((f>>6)&63)]+hexTable[128|(f&63)]);continue}d+=1;f=65536+(((f&1023)<<10)|(b.charCodeAt(d)&1023));a+=hexTable[240|(f>>18)]+hexTable[128|((f>>12)&63)]+hexTable[128|((f>>6)&63)]+hexTable[128|(f&63)]}return a};exports.compact=function(g,d){if(typeof g!=="object"||g===null){return g}var b=d||[];var f=b.indexOf(g);if(f!==-1){return b[f]}b.push(g);if(Array.isArray(g)){var a=[];for(var c=0;c<g.length;++c){if(g[c]&&typeof g[c]==="object"){a.push(exports.compact(g[c],b))}else{if(typeof g[c]!=="undefined"){a.push(g[c])}}}return a}var e=Object.keys(g);e.forEach(function(h){g[h]=exports.compact(g[h],b)});return g};exports.isRegExp=function(a){return Object.prototype.toString.call(a)==="[object RegExp]"};exports.isBuffer=function(a){if(a===null||typeof a==="undefined"){return false}return !!(a.constructor&&a.constructor.isBuffer&&a.constructor.isBuffer(a))};