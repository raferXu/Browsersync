"use strict";var test=require("tape");var utils=require("../lib/utils");test("merge()",function(c){c.deepEqual(utils.merge({a:"b"},{a:"c"}),{a:["b","c"]},"merges two objects with the same key");var b=utils.merge({foo:"bar"},{foo:{first:"123"}});c.deepEqual(b,{foo:["bar",{first:"123"}]},"merges a standalone and an object into an array");var a=utils.merge({foo:["bar",{first:"123"}]},{foo:{second:"456"}});c.deepEqual(a,{foo:{0:"bar",1:{first:"123"},second:"456"}},"merges a standalone and two objects into an array");var d=utils.merge({foo:["bar",{first:"123",second:"456"}]},{foo:"baz"});c.deepEqual(d,{foo:["bar",{first:"123",second:"456"},"baz"]},"merges an object sandwiched by two standalones into an array");var e=utils.merge({foo:["baz"]},{foo:["bar","xyzzy"]});c.deepEqual(e,{foo:["baz","bar","xyzzy"]});c.end()});