"use strict";module.exports=exports=handle_gyp_opts;var fs=require("fs");var versioning=require("./versioning.js");var share_with_node_gyp=["module","module_name","module_path"];function handle_gyp_opts(d,f,i){var b=[];var a=versioning.evaluate(JSON.parse(fs.readFileSync("./package.json")),d.opts);share_with_node_gyp.forEach(function(k){var l=a[k];if(l){b.push("--"+k+"="+l)}else{return i(new Error("Option "+k+" required but not found by node-pre-gyp"))}});var e=[];var h=false;d.opts.argv.original.forEach(function(k){if(h){e.push(k)}if(k=="--"){h=true}});var g=d.opts.argv.cooked;var c=[];g.forEach(function(l){if(l.length>2&&l.slice(0,2)=="--"){var k=l.slice(2);var m=g[g.indexOf(l)+1];if(m&&m.indexOf("--")===-1){c.push("--"+k+"="+m)}else{c.push(l)}}});var j={opts:a,gyp:c,pre:b,unparsed:e};return i(null,j)};