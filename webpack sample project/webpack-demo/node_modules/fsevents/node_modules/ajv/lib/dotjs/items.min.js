"use strict";module.exports=function generate_items(k,n){var x=" ";var C=k.level;var l=k.dataLevel;var y=k.schema[n];var h=k.schemaPath+k.util.getProperty(n);var o=k.errSchemaPath+"/"+n;var m=!k.opts.allErrors;var e="data"+(l||"");var g="valid"+C;var s="errs__"+C;var f=k.util.copy(k);var d="";f.level++;var z="valid"+f.level;var A="i"+C,B=f.dataLevel=k.dataLevel+1,w="data"+B,c=k.baseId;x+="var "+(s)+" = errors;var "+(g)+";";if(Array.isArray(y)){var r=k.schema.additionalItems;if(r===false){x+=" "+(g)+" = "+(e)+".length <= "+(y.length)+"; ";var q=o;o=k.errSchemaPath+"/additionalItems";x+="  if (!"+(g)+") {   ";var u=u||[];u.push(x);x="";if(k.createErrors!==false){x+=" { keyword: '"+("additionalItems")+"' , dataPath: (dataPath || '') + "+(k.errorPath)+" , schemaPath: "+(k.util.toQuotedString(o))+" , params: { limit: "+(y.length)+" } ";if(k.opts.messages!==false){x+=" , message: 'should NOT have more than "+(y.length)+" items' "}if(k.opts.verbose){x+=" , schema: false , parentSchema: validate.schema"+(k.schemaPath)+" , data: "+(e)+" "}x+=" } "}else{x+=" {} "}var b=x;x=u.pop();if(!k.compositeRule&&m){if(k.async){x+=" throw new ValidationError(["+(b)+"]); "}else{x+=" validate.errors = ["+(b)+"]; return false; "}}else{x+=" var err = "+(b)+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}x+=" } ";o=q;if(m){d+="}";x+=" else { "}}var j=y;if(j){var p,a=-1,t=j.length-1;while(a<t){p=j[a+=1];if(k.util.schemaHasRules(p,k.RULES.all)){x+=" "+(z)+" = true; if ("+(e)+".length > "+(a)+") { ";var v=e+"["+a+"]";f.schema=p;f.schemaPath=h+"["+a+"]";f.errSchemaPath=o+"/"+a;f.errorPath=k.util.getPathExpr(k.errorPath,a,k.opts.jsonPointers,true);f.dataPathArr[B]=a;var i=k.validate(f);f.baseId=c;if(k.util.varOccurences(i,w)<2){x+=" "+(k.util.varReplace(i,w,v))+" "}else{x+=" var "+(w)+" = "+(v)+"; "+(i)+" "}x+=" }  ";if(m){x+=" if ("+(z)+") { ";d+="}"}}}}if(typeof r=="object"&&k.util.schemaHasRules(r,k.RULES.all)){f.schema=r;f.schemaPath=k.schemaPath+".additionalItems";f.errSchemaPath=k.errSchemaPath+"/additionalItems";x+=" "+(z)+" = true; if ("+(e)+".length > "+(y.length)+") {  for (var "+(A)+" = "+(y.length)+"; "+(A)+" < "+(e)+".length; "+(A)+"++) { ";f.errorPath=k.util.getPathExpr(k.errorPath,A,k.opts.jsonPointers,true);var v=e+"["+A+"]";f.dataPathArr[B]=A;var i=k.validate(f);f.baseId=c;if(k.util.varOccurences(i,w)<2){x+=" "+(k.util.varReplace(i,w,v))+" "}else{x+=" var "+(w)+" = "+(v)+"; "+(i)+" "}if(m){x+=" if (!"+(z)+") break; "}x+=" } }  ";if(m){x+=" if ("+(z)+") { ";d+="}"}}}else{if(k.util.schemaHasRules(y,k.RULES.all)){f.schema=y;f.schemaPath=h;f.errSchemaPath=o;x+="  for (var "+(A)+" = "+(0)+"; "+(A)+" < "+(e)+".length; "+(A)+"++) { ";f.errorPath=k.util.getPathExpr(k.errorPath,A,k.opts.jsonPointers,true);var v=e+"["+A+"]";f.dataPathArr[B]=A;var i=k.validate(f);f.baseId=c;if(k.util.varOccurences(i,w)<2){x+=" "+(k.util.varReplace(i,w,v))+" "}else{x+=" var "+(w)+" = "+(v)+"; "+(i)+" "}if(m){x+=" if (!"+(z)+") break; "}x+=" }  ";if(m){x+=" if ("+(z)+") { ";d+="}"}}}if(m){x+=" "+(d)+" if ("+(s)+" == errors) {"}x=k.util.cleanUpCode(x);return x};