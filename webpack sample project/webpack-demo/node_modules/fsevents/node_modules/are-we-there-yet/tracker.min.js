"use strict";var util=require("util");var TrackerBase=require("./tracker-base.js");var Tracker=module.exports=function(b,a){TrackerBase.call(this,b);this.workDone=0;this.workTodo=a||0};util.inherits(Tracker,TrackerBase);Tracker.prototype.completed=function(){return this.workTodo===0?0:this.workDone/this.workTodo};Tracker.prototype.addWork=function(a){this.workTodo+=a;this.emit("change",this.name,this.completed(),this)};Tracker.prototype.completeWork=function(a){this.workDone+=a;if(this.workDone>this.workTodo){this.workDone=this.workTodo}this.emit("change",this.name,this.completed(),this)};Tracker.prototype.finish=function(){this.workTodo=this.workDone=1;this.emit("change",this.name,1,this)};