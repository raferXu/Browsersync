"use strict";var Buffer=require("buffer").Buffer;var bufferShim=require("buffer-shims");module.exports=BufferList;function BufferList(){this.head=null;this.tail=null;this.length=0}BufferList.prototype.push=function(a){var b={data:a,next:null};if(this.length>0){this.tail.next=b}else{this.head=b}this.tail=b;++this.length};BufferList.prototype.unshift=function(a){var b={data:a,next:this.head};if(this.length===0){this.tail=b}this.head=b;++this.length};BufferList.prototype.shift=function(){if(this.length===0){return}var a=this.head.data;if(this.length===1){this.head=this.tail=null}else{this.head=this.head.next}--this.length;return a};BufferList.prototype.clear=function(){this.head=this.tail=null;this.length=0};BufferList.prototype.join=function(b){if(this.length===0){return""}var c=this.head;var a=""+c.data;while(c=c.next){a+=b+c.data}return a};BufferList.prototype.concat=function(d){if(this.length===0){return bufferShim.alloc(0)}if(this.length===1){return this.head.data}var a=bufferShim.allocUnsafe(d>>>0);var c=this.head;var b=0;while(c){c.data.copy(a,b);b+=c.data.length;c=c.next}return a};