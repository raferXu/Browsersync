var Http=require("http");var Hoek=require("hoek");var internals={};exports.wrap=function(a,b,c){Hoek.assert(a instanceof Error,"Cannot wrap non-Error object");return(a.isBoom?a:internals.initialize(a,b||500,c))};exports.create=function(a,b,c){return internals.create(a,b,c,exports.create)};internals.create=function(b,d,e,c){var a=new Error(d?d:undefined);Error.captureStackTrace(a,c);a.data=e||null;internals.initialize(a,b);return a};internals.initialize=function(a,b,c){var d=parseInt(b,10);Hoek.assert(!isNaN(d)&&d>=400,"First argument must be a number (400+):",b);a.isBoom=true;a.isServer=d>=500;if(!a.hasOwnProperty("data")){a.data=null}a.output={statusCode:d,payload:{},headers:{}};a.reformat=internals.reformat;a.reformat();if(!c&&!a.message){c=a.output.payload.error}if(c){a.message=(c+(a.message?": "+a.message:""))}return a};internals.reformat=function(){this.output.payload.statusCode=this.output.statusCode;this.output.payload.error=Http.STATUS_CODES[this.output.statusCode]||"Unknown";if(this.output.statusCode===500){this.output.payload.message="An internal server error occurred"}else{if(this.message){this.output.payload.message=this.message}}};exports.badRequest=function(a,b){return internals.create(400,a,b,exports.badRequest)};exports.unauthorized=function(l,c,f){var e=internals.create(401,l,undefined,exports.unauthorized);if(!c){return e}var d="";var g=0;var j=0;if(typeof c==="string"){d=c;if(f||l){e.output.payload.attributes={}}if(f){var h=Object.keys(f);for(g=0,j=h.length;g<j;++g){var a=h[g];if(g){d+=","}var k=f[a];if(k===null||k===undefined){k=""}d+=" "+a+'="'+Hoek.escapeHeaderAttribute(k.toString())+'"';e.output.payload.attributes[a]=k}}if(l){if(f){d+=","}d+=' error="'+Hoek.escapeHeaderAttribute(l)+'"';e.output.payload.attributes.error=l}else{e.isMissing=true}}else{var b=c;for(g=0,j=b.length;g<j;++g){if(g){d+=", "}d+=b[g]}}e.output.headers["WWW-Authenticate"]=d;return e};exports.forbidden=function(a,b){return internals.create(403,a,b,exports.forbidden)};exports.notFound=function(a,b){return internals.create(404,a,b,exports.notFound)};exports.methodNotAllowed=function(a,b){return internals.create(405,a,b,exports.methodNotAllowed)};exports.notAcceptable=function(a,b){return internals.create(406,a,b,exports.notAcceptable)};exports.proxyAuthRequired=function(a,b){return internals.create(407,a,b,exports.proxyAuthRequired)};exports.clientTimeout=function(a,b){return internals.create(408,a,b,exports.clientTimeout)};exports.conflict=function(a,b){return internals.create(409,a,b,exports.conflict)};exports.resourceGone=function(a,b){return internals.create(410,a,b,exports.resourceGone)};exports.lengthRequired=function(a,b){return internals.create(411,a,b,exports.lengthRequired)};exports.preconditionFailed=function(a,b){return internals.create(412,a,b,exports.preconditionFailed)};exports.entityTooLarge=function(a,b){return internals.create(413,a,b,exports.entityTooLarge)};exports.uriTooLong=function(a,b){return internals.create(414,a,b,exports.uriTooLong)};exports.unsupportedMediaType=function(a,b){return internals.create(415,a,b,exports.unsupportedMediaType)};exports.rangeNotSatisfiable=function(a,b){return internals.create(416,a,b,exports.rangeNotSatisfiable)};exports.expectationFailed=function(a,b){return internals.create(417,a,b,exports.expectationFailed)};exports.badData=function(a,b){return internals.create(422,a,b,exports.badData)};exports.preconditionRequired=function(a,b){return internals.create(428,a,b,exports.preconditionRequired)};exports.tooManyRequests=function(a,b){return internals.create(429,a,b,exports.tooManyRequests)};exports.internal=function(b,c,a){return internals.serverError(b,c,a,exports.internal)};internals.serverError=function(d,e,b,c){var a;if(e instanceof Error){a=exports.wrap(e,b,d)}else{a=internals.create(b||500,d,undefined,c);a.data=e}return a};exports.notImplemented=function(a,b){return internals.serverError(a,b,501,exports.notImplemented)};exports.badGateway=function(a,b){return internals.serverError(a,b,502,exports.badGateway)};exports.serverTimeout=function(a,b){return internals.serverError(a,b,503,exports.serverTimeout)};exports.gatewayTimeout=function(a,b){return internals.serverError(a,b,504,exports.gatewayTimeout)};exports.badImplementation=function(b,c){var a=internals.serverError(b,c,500,exports.badImplementation);a.isDeveloperError=true;return a};