var streamify=require("./streamify.js"),defer=require("./defer.js");module.exports=ReadableAsyncKit;function ReadableAsyncKit(){ReadableAsyncKit.super_.apply(this,arguments);this.jobs={};this.destroy=destroy;this._start=_start;this._read=_read}function destroy(){if(this.destroyed){return}this.destroyed=true;if(typeof this.terminator=="function"){this.terminator()}}function _start(){var c=arguments[0],b=Array.prototype.slice.call(arguments,1),a=b[0],d=streamify.callback.call(this,b[b.length-1]);b[b.length-1]=d;b[1]=streamify.iterator.call(this,b[1]);defer(function(){if(!this.destroyed){this.terminator=c.apply(null,b)}else{d(null,Array.isArray(a)?[]:{})}}.bind(this))}function _read(){};