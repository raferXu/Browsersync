module.exports=LinkReader;var fs=require("graceful-fs");var inherits=require("inherits");var Reader=require("./reader.js");inherits(LinkReader,Reader);function LinkReader(b){var a=this;if(!(a instanceof LinkReader)){throw new Error("LinkReader must be called as constructor.")}if(!((b.type==="Link"&&b.Link)||(b.type==="SymbolicLink"&&b.SymbolicLink))){throw new Error("Non-link type "+b.type)}Reader.call(a,b)}LinkReader.prototype._stat=function(b){var a=this;fs.readlink(a._path,function(d,c){if(d){return a.error(d)}a.linkpath=a.props.linkpath=c;a.emit("linkpath",c);Reader.prototype._stat.call(a,b)})};LinkReader.prototype._read=function(){var a=this;if(a._paused){return}if(!a._ended){a.emit("end");a.emit("close");a._ended=true}};