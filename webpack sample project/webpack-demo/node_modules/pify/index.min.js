"use strict";var processFn=function(a,c,b){return function(){var f=this;var d=new Array(arguments.length);for(var e=0;e<arguments.length;e++){d[e]=arguments[e]}return new c(function(h,g){d.push(function(m,j){if(m){g(m)}else{if(b.multiArgs){var l=new Array(arguments.length-1);for(var k=1;k<arguments.length;k++){l[k-1]=arguments[k]}h(l)}else{h(j)}}});a.apply(f,d)})}};var pify=module.exports=function(e,d,c){if(typeof d!=="function"){c=d;d=Promise}c=c||{};c.exclude=c.exclude||[/.+Sync$/];var b=function(g){var f=function(h){return typeof h==="string"?g===h:h.test(g)};return c.include?c.include.some(f):!c.exclude.some(f)};var a=typeof e==="function"?function(){if(c.excludeMain){return e.apply(this,arguments)}return processFn(e,d,c).apply(this,arguments)}:{};return Object.keys(e).reduce(function(g,h){var f=e[h];g[h]=typeof f==="function"&&b(h)?processFn(f,d,c):f;return g},a)};pify.all=pify;