"use strict";var inherits=require("inherits");var HashBase=require("hash-base");function RIPEMD160(){HashBase.call(this,64);this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520}inherits(RIPEMD160,HashBase);RIPEMD160.prototype._update=function(){var d=new Array(16);for(var f=0;f<16;++f){d[f]=this._block.readInt32LE(f*4)}var h=this._a;var b=this._b;var k=this._c;var g=this._d;var a=this._e;h=fn1(h,b,k,g,a,d[0],0,11);k=rotl(k,10);a=fn1(a,h,b,k,g,d[1],0,14);b=rotl(b,10);g=fn1(g,a,h,b,k,d[2],0,15);h=rotl(h,10);k=fn1(k,g,a,h,b,d[3],0,12);a=rotl(a,10);b=fn1(b,k,g,a,h,d[4],0,5);g=rotl(g,10);h=fn1(h,b,k,g,a,d[5],0,8);k=rotl(k,10);a=fn1(a,h,b,k,g,d[6],0,7);b=rotl(b,10);g=fn1(g,a,h,b,k,d[7],0,9);h=rotl(h,10);k=fn1(k,g,a,h,b,d[8],0,11);a=rotl(a,10);b=fn1(b,k,g,a,h,d[9],0,13);g=rotl(g,10);h=fn1(h,b,k,g,a,d[10],0,14);k=rotl(k,10);a=fn1(a,h,b,k,g,d[11],0,15);b=rotl(b,10);g=fn1(g,a,h,b,k,d[12],0,6);h=rotl(h,10);k=fn1(k,g,a,h,b,d[13],0,7);a=rotl(a,10);b=fn1(b,k,g,a,h,d[14],0,9);g=rotl(g,10);h=fn1(h,b,k,g,a,d[15],0,8);k=rotl(k,10);a=fn2(a,h,b,k,g,d[7],1518500249,7);b=rotl(b,10);g=fn2(g,a,h,b,k,d[4],1518500249,6);h=rotl(h,10);k=fn2(k,g,a,h,b,d[13],1518500249,8);a=rotl(a,10);b=fn2(b,k,g,a,h,d[1],1518500249,13);g=rotl(g,10);h=fn2(h,b,k,g,a,d[10],1518500249,11);k=rotl(k,10);a=fn2(a,h,b,k,g,d[6],1518500249,9);b=rotl(b,10);g=fn2(g,a,h,b,k,d[15],1518500249,7);h=rotl(h,10);k=fn2(k,g,a,h,b,d[3],1518500249,15);a=rotl(a,10);b=fn2(b,k,g,a,h,d[12],1518500249,7);g=rotl(g,10);h=fn2(h,b,k,g,a,d[0],1518500249,12);k=rotl(k,10);a=fn2(a,h,b,k,g,d[9],1518500249,15);b=rotl(b,10);g=fn2(g,a,h,b,k,d[5],1518500249,9);h=rotl(h,10);k=fn2(k,g,a,h,b,d[2],1518500249,11);a=rotl(a,10);b=fn2(b,k,g,a,h,d[14],1518500249,7);g=rotl(g,10);h=fn2(h,b,k,g,a,d[11],1518500249,13);k=rotl(k,10);a=fn2(a,h,b,k,g,d[8],1518500249,12);b=rotl(b,10);g=fn3(g,a,h,b,k,d[3],1859775393,11);h=rotl(h,10);k=fn3(k,g,a,h,b,d[10],1859775393,13);a=rotl(a,10);b=fn3(b,k,g,a,h,d[14],1859775393,6);g=rotl(g,10);h=fn3(h,b,k,g,a,d[4],1859775393,7);k=rotl(k,10);a=fn3(a,h,b,k,g,d[9],1859775393,14);b=rotl(b,10);g=fn3(g,a,h,b,k,d[15],1859775393,9);h=rotl(h,10);k=fn3(k,g,a,h,b,d[8],1859775393,13);a=rotl(a,10);b=fn3(b,k,g,a,h,d[1],1859775393,15);g=rotl(g,10);h=fn3(h,b,k,g,a,d[2],1859775393,14);k=rotl(k,10);a=fn3(a,h,b,k,g,d[7],1859775393,8);b=rotl(b,10);g=fn3(g,a,h,b,k,d[0],1859775393,13);h=rotl(h,10);k=fn3(k,g,a,h,b,d[6],1859775393,6);a=rotl(a,10);b=fn3(b,k,g,a,h,d[13],1859775393,5);g=rotl(g,10);h=fn3(h,b,k,g,a,d[11],1859775393,12);k=rotl(k,10);a=fn3(a,h,b,k,g,d[5],1859775393,7);b=rotl(b,10);g=fn3(g,a,h,b,k,d[12],1859775393,5);h=rotl(h,10);k=fn4(k,g,a,h,b,d[1],2400959708,11);a=rotl(a,10);b=fn4(b,k,g,a,h,d[9],2400959708,12);g=rotl(g,10);h=fn4(h,b,k,g,a,d[11],2400959708,14);k=rotl(k,10);a=fn4(a,h,b,k,g,d[10],2400959708,15);b=rotl(b,10);g=fn4(g,a,h,b,k,d[0],2400959708,14);h=rotl(h,10);k=fn4(k,g,a,h,b,d[8],2400959708,15);a=rotl(a,10);b=fn4(b,k,g,a,h,d[12],2400959708,9);g=rotl(g,10);h=fn4(h,b,k,g,a,d[4],2400959708,8);k=rotl(k,10);a=fn4(a,h,b,k,g,d[13],2400959708,9);b=rotl(b,10);g=fn4(g,a,h,b,k,d[3],2400959708,14);h=rotl(h,10);k=fn4(k,g,a,h,b,d[7],2400959708,5);a=rotl(a,10);b=fn4(b,k,g,a,h,d[15],2400959708,6);g=rotl(g,10);h=fn4(h,b,k,g,a,d[14],2400959708,8);k=rotl(k,10);a=fn4(a,h,b,k,g,d[5],2400959708,6);b=rotl(b,10);g=fn4(g,a,h,b,k,d[6],2400959708,5);h=rotl(h,10);k=fn4(k,g,a,h,b,d[2],2400959708,12);a=rotl(a,10);b=fn5(b,k,g,a,h,d[4],2840853838,9);g=rotl(g,10);h=fn5(h,b,k,g,a,d[0],2840853838,15);k=rotl(k,10);a=fn5(a,h,b,k,g,d[5],2840853838,5);b=rotl(b,10);g=fn5(g,a,h,b,k,d[9],2840853838,11);h=rotl(h,10);k=fn5(k,g,a,h,b,d[7],2840853838,6);a=rotl(a,10);b=fn5(b,k,g,a,h,d[12],2840853838,8);g=rotl(g,10);h=fn5(h,b,k,g,a,d[2],2840853838,13);k=rotl(k,10);a=fn5(a,h,b,k,g,d[10],2840853838,12);b=rotl(b,10);g=fn5(g,a,h,b,k,d[14],2840853838,5);h=rotl(h,10);k=fn5(k,g,a,h,b,d[1],2840853838,12);a=rotl(a,10);b=fn5(b,k,g,a,h,d[3],2840853838,13);g=rotl(g,10);h=fn5(h,b,k,g,a,d[8],2840853838,14);k=rotl(k,10);a=fn5(a,h,b,k,g,d[11],2840853838,11);b=rotl(b,10);g=fn5(g,a,h,b,k,d[6],2840853838,8);h=rotl(h,10);k=fn5(k,g,a,h,b,d[15],2840853838,5);a=rotl(a,10);b=fn5(b,k,g,a,h,d[13],2840853838,6);g=rotl(g,10);var e=this._a;var o=this._b;var j=this._c;var c=this._d;var l=this._e;e=fn5(e,o,j,c,l,d[5],1352829926,8);j=rotl(j,10);l=fn5(l,e,o,j,c,d[14],1352829926,9);o=rotl(o,10);c=fn5(c,l,e,o,j,d[7],1352829926,9);e=rotl(e,10);j=fn5(j,c,l,e,o,d[0],1352829926,11);l=rotl(l,10);o=fn5(o,j,c,l,e,d[9],1352829926,13);c=rotl(c,10);e=fn5(e,o,j,c,l,d[2],1352829926,15);j=rotl(j,10);l=fn5(l,e,o,j,c,d[11],1352829926,15);o=rotl(o,10);c=fn5(c,l,e,o,j,d[4],1352829926,5);e=rotl(e,10);j=fn5(j,c,l,e,o,d[13],1352829926,7);l=rotl(l,10);o=fn5(o,j,c,l,e,d[6],1352829926,7);c=rotl(c,10);e=fn5(e,o,j,c,l,d[15],1352829926,8);j=rotl(j,10);l=fn5(l,e,o,j,c,d[8],1352829926,11);o=rotl(o,10);c=fn5(c,l,e,o,j,d[1],1352829926,14);e=rotl(e,10);j=fn5(j,c,l,e,o,d[10],1352829926,14);l=rotl(l,10);o=fn5(o,j,c,l,e,d[3],1352829926,12);c=rotl(c,10);e=fn5(e,o,j,c,l,d[12],1352829926,6);j=rotl(j,10);l=fn4(l,e,o,j,c,d[6],1548603684,9);o=rotl(o,10);c=fn4(c,l,e,o,j,d[11],1548603684,13);e=rotl(e,10);j=fn4(j,c,l,e,o,d[3],1548603684,15);l=rotl(l,10);o=fn4(o,j,c,l,e,d[7],1548603684,7);c=rotl(c,10);e=fn4(e,o,j,c,l,d[0],1548603684,12);j=rotl(j,10);l=fn4(l,e,o,j,c,d[13],1548603684,8);o=rotl(o,10);c=fn4(c,l,e,o,j,d[5],1548603684,9);e=rotl(e,10);j=fn4(j,c,l,e,o,d[10],1548603684,11);l=rotl(l,10);o=fn4(o,j,c,l,e,d[14],1548603684,7);c=rotl(c,10);e=fn4(e,o,j,c,l,d[15],1548603684,7);j=rotl(j,10);l=fn4(l,e,o,j,c,d[8],1548603684,12);o=rotl(o,10);c=fn4(c,l,e,o,j,d[12],1548603684,7);e=rotl(e,10);j=fn4(j,c,l,e,o,d[4],1548603684,6);l=rotl(l,10);o=fn4(o,j,c,l,e,d[9],1548603684,15);c=rotl(c,10);e=fn4(e,o,j,c,l,d[1],1548603684,13);j=rotl(j,10);l=fn4(l,e,o,j,c,d[2],1548603684,11);o=rotl(o,10);c=fn3(c,l,e,o,j,d[15],1836072691,9);e=rotl(e,10);j=fn3(j,c,l,e,o,d[5],1836072691,7);l=rotl(l,10);o=fn3(o,j,c,l,e,d[1],1836072691,15);c=rotl(c,10);e=fn3(e,o,j,c,l,d[3],1836072691,11);j=rotl(j,10);l=fn3(l,e,o,j,c,d[7],1836072691,8);o=rotl(o,10);c=fn3(c,l,e,o,j,d[14],1836072691,6);e=rotl(e,10);j=fn3(j,c,l,e,o,d[6],1836072691,6);l=rotl(l,10);o=fn3(o,j,c,l,e,d[9],1836072691,14);c=rotl(c,10);e=fn3(e,o,j,c,l,d[11],1836072691,12);j=rotl(j,10);l=fn3(l,e,o,j,c,d[8],1836072691,13);o=rotl(o,10);c=fn3(c,l,e,o,j,d[12],1836072691,5);e=rotl(e,10);j=fn3(j,c,l,e,o,d[2],1836072691,14);l=rotl(l,10);o=fn3(o,j,c,l,e,d[10],1836072691,13);c=rotl(c,10);e=fn3(e,o,j,c,l,d[0],1836072691,13);j=rotl(j,10);l=fn3(l,e,o,j,c,d[4],1836072691,7);o=rotl(o,10);c=fn3(c,l,e,o,j,d[13],1836072691,5);e=rotl(e,10);j=fn2(j,c,l,e,o,d[8],2053994217,15);l=rotl(l,10);o=fn2(o,j,c,l,e,d[6],2053994217,5);c=rotl(c,10);e=fn2(e,o,j,c,l,d[4],2053994217,8);j=rotl(j,10);l=fn2(l,e,o,j,c,d[1],2053994217,11);o=rotl(o,10);c=fn2(c,l,e,o,j,d[3],2053994217,14);e=rotl(e,10);j=fn2(j,c,l,e,o,d[11],2053994217,14);l=rotl(l,10);o=fn2(o,j,c,l,e,d[15],2053994217,6);c=rotl(c,10);e=fn2(e,o,j,c,l,d[0],2053994217,14);j=rotl(j,10);l=fn2(l,e,o,j,c,d[5],2053994217,6);o=rotl(o,10);c=fn2(c,l,e,o,j,d[12],2053994217,9);e=rotl(e,10);j=fn2(j,c,l,e,o,d[2],2053994217,12);l=rotl(l,10);o=fn2(o,j,c,l,e,d[13],2053994217,9);c=rotl(c,10);e=fn2(e,o,j,c,l,d[9],2053994217,12);j=rotl(j,10);l=fn2(l,e,o,j,c,d[7],2053994217,5);o=rotl(o,10);c=fn2(c,l,e,o,j,d[10],2053994217,15);e=rotl(e,10);j=fn2(j,c,l,e,o,d[14],2053994217,8);l=rotl(l,10);o=fn1(o,j,c,l,e,d[12],0,8);c=rotl(c,10);e=fn1(e,o,j,c,l,d[15],0,5);j=rotl(j,10);l=fn1(l,e,o,j,c,d[10],0,12);o=rotl(o,10);c=fn1(c,l,e,o,j,d[4],0,9);e=rotl(e,10);j=fn1(j,c,l,e,o,d[1],0,12);l=rotl(l,10);o=fn1(o,j,c,l,e,d[5],0,5);c=rotl(c,10);e=fn1(e,o,j,c,l,d[8],0,14);j=rotl(j,10);l=fn1(l,e,o,j,c,d[7],0,6);o=rotl(o,10);c=fn1(c,l,e,o,j,d[6],0,8);e=rotl(e,10);j=fn1(j,c,l,e,o,d[2],0,13);l=rotl(l,10);o=fn1(o,j,c,l,e,d[13],0,6);c=rotl(c,10);e=fn1(e,o,j,c,l,d[14],0,5);j=rotl(j,10);l=fn1(l,e,o,j,c,d[0],0,15);o=rotl(o,10);c=fn1(c,l,e,o,j,d[3],0,13);e=rotl(e,10);j=fn1(j,c,l,e,o,d[9],0,11);l=rotl(l,10);o=fn1(o,j,c,l,e,d[11],0,11);c=rotl(c,10);var n=(this._b+k+c)|0;this._b=(this._c+g+l)|0;this._c=(this._d+a+e)|0;this._d=(this._e+h+o)|0;this._e=(this._a+b+j)|0;this._a=n};RIPEMD160.prototype._digest=function(){this._block[this._blockOffset++]=128;if(this._blockOffset>56){this._block.fill(0,this._blockOffset,64);this._update();this._blockOffset=0}this._block.fill(0,this._blockOffset,56);this._block.writeUInt32LE(this._length[0],56);this._block.writeUInt32LE(this._length[1],60);this._update();var a=new Buffer(20);a.writeInt32LE(this._a,0);a.writeInt32LE(this._b,4);a.writeInt32LE(this._c,8);a.writeInt32LE(this._d,12);a.writeInt32LE(this._e,16);return a};function rotl(a,b){return(a<<b)|(a>>>(32-b))}function fn1(h,g,o,n,l,f,i,j){return(rotl((h+(g^o^n)+f+i)|0,j)+l)|0}function fn2(h,g,o,n,l,f,i,j){return(rotl((h+((g&o)|((~g)&n))+f+i)|0,j)+l)|0}function fn3(h,g,o,n,l,f,i,j){return(rotl((h+((g|(~o))^n)+f+i)|0,j)+l)|0}function fn4(h,g,o,n,l,f,i,j){return(rotl((h+((g&n)|(o&(~n)))+f+i)|0,j)+l)|0}function fn5(h,g,o,n,l,f,i,j){return(rotl((h+(g^(o|(~n)))+f+i)|0,j)+l)|0}module.exports=RIPEMD160;