var tape=require("tape");var zlib=require("../");var expect="blahblahblahblahblahblah";var opts={level:9,chunkSize:1024};[["gzip","gunzip"],["gzip","unzip"],["deflate","inflate"],["deflateRaw","inflateRaw"]].forEach(function(a){tape(a.join(" "),function(c){c.plan(4);zlib[a[0]](expect,opts,function(e,d){zlib[a[1]](d,opts,function(g,f){c.deepEqual(f,new Buffer(expect),"Should get original string after "+a[0]+"/"+a[1]+" with options.")})});zlib[a[0]](expect,function(e,d){zlib[a[1]](d,function(g,f){c.deepEqual(f,new Buffer(expect),"Should get original string after "+a[0]+"/"+a[1]+" without options.")})});var b=zlib[a[0]+"Sync"](expect,opts);b=zlib[a[1]+"Sync"](b,opts);c.deepEqual(b,new Buffer(expect),"Should get original string after "+a[0]+"/"+a[1]+" with options.");b=zlib[a[0]+"Sync"](expect);b=zlib[a[1]+"Sync"](b);c.deepEqual(b,new Buffer(expect),"Should get original string after "+a[0]+"/"+a[1]+" without options.")})});