/*!
 * extglob <https://github.com/jonschlinkert/extglob>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */
;"use strict";var isExtglob=require("is-extglob");var re,cache={};module.exports=extglob;function extglob(j,a){a=a||{};var d={},f=0;j=j.replace(/!\(([^\w*()])/g,"$1!(");j=j.replace(/([*\/])\.!\([*]\)/g,function(i,o){if(o==="/"){return escape("\\/[^.]+")}return escape("[^.]+")});var k=j+String(!!a.regex)+String(!!a.contains)+String(!!a.escape);if(cache.hasOwnProperty(k)){return cache[k]}if(!(re instanceof RegExp)){re=regex()}a.negate=false;var e;while(e=re.exec(j)){var g=e[1];var p=e[3];if(g==="!"){a.negate=true}var c="__EXTGLOB_"+(f++)+"__";d[c]=wrap(p,g,a.escape);j=j.split(e[0]).join(c)}var l=Object.keys(d);var h=l.length;while(h--){var b=l[h];j=j.split(b).join(d[b])}var n=a.regex?toRegex(j,a.contains,a.negate):j;n=n.split(".").join("\\.");return(cache[k]=n)}function wrap(b,c,a){if(a){b=escape(b)}switch(c){case"!":return"(?!"+b+")[^/]"+(a?"%%%~":"*?");case"@":return"(?:"+b+")";case"+":return"(?:"+b+")+";case"*":return"(?:"+b+")"+(a?"%%":"*");case"?":return"(?:"+b+"|)";default:return b}}function escape(a){a=a.split("*").join("[^/]%%%~");a=a.split(".").join("\\.");return a}function regex(){return/(\\?[@?!+*$]\\?)(\(([^()]*?)\))/}function negate(a){return"(?!^"+a+").*$"}function toRegex(d,b,a){var c=b?"^":"";var e=b?"$":"";d=("(?:"+d+")"+e);if(a){d=c+negate(d)}return new RegExp(c+d)};