module.exports=which;which.sync=whichSync;var isWindows=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys";var path=require("path");var COLON=isWindows?";":":";var isexe=require("isexe");function getNotFoundError(a){var b=new Error("not found: "+a);b.code="ENOENT";return b}function getPathInfo(f,d){var e=d.colon||COLON;var b=d.path||process.env.PATH||"";var a=[""];b=b.split(e);var c="";if(isWindows){b.unshift(process.cwd());c=(d.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM");a=c.split(e);if(f.indexOf(".")!==-1&&a[0]!==""){a.unshift("")}}if(f.match(/\//)||isWindows&&f.match(/\\/)){b=[""]}return{env:b,ext:a,extExe:c}}function which(c,a,d){if(typeof a==="function"){d=a;a={}}var b=getPathInfo(c,a);var f=b.env;var e=b.ext;var h=b.extExe;var i=[];(function g(k,j){if(k===j){if(a.all&&i.length){return d(null,i)}else{return d(getNotFoundError(c))}}var m=f[k];if(m.charAt(0)==='"'&&m.slice(-1)==='"'){m=m.slice(1,-1)}var o=path.join(m,c);if(!m&&(/^\.[\\\/]/).test(c)){o=c.slice(0,2)+o}(function n(p,q){if(p===q){return g(k+1,j)}var l=e[p];isexe(o+l,{pathExt:h},function(s,r){if(!s&&r){if(a.all){i.push(o+l)}else{return d(null,o+l)}}return n(p+1,q)})})(0,e.length)})(0,f.length)}function whichSync(d,b){b=b||{};var c=getPathInfo(d,b);var r=c.env;var k=c.ext;var s=c.extExe;var t=[];for(var g=0,e=r.length;g<e;g++){var m=r[g];if(m.charAt(0)==='"'&&m.slice(-1)==='"'){m=m.slice(1,-1)}var a=path.join(m,d);if(!m&&/^\.[\\\/]/.test(d)){a=d.slice(0,2)+a}for(var f=0,o=k.length;f<o;f++){var q=a+k[f];var h;try{h=isexe.sync(q,{pathExt:s});if(h){if(b.all){t.push(q)}else{return q}}}catch(n){}}}if(b.all&&t.length){return t}if(b.nothrow){return null}throw getNotFoundError(d)};