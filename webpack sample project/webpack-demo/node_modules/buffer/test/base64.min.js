if(process.env.OBJECT_IMPL){global.TYPED_ARRAY_SUPPORT=false}var B=require("../").Buffer;var test=require("tape");test("base64: ignore whitespace",function(b){var c="\n   YW9ldQ==  ";var a=new B(c,"base64");b.equal(a.toString(),"aoeu");b.end()});test("base64: strings without padding",function(a){a.equal((new B("YW9ldQ","base64").toString()),"aoeu");a.end()});test("base64: newline in utf8 -- should not be an issue",function(a){a.equal(new B("LS0tCnRpdGxlOiBUaHJlZSBkYXNoZXMgbWFya3MgdGhlIHNwb3QKdGFnczoK","base64").toString("utf8"),"---\ntitle: Three dashes marks the spot\ntags:\n");a.end()});test("base64: newline in base64 -- should get stripped",function(a){a.equal(new B("LS0tCnRpdGxlOiBUaHJlZSBkYXNoZXMgbWFya3MgdGhlIHNwb3QKdGFnczoK\nICAtIHlhbWwKICAtIGZyb250LW1hdHRlcgogIC0gZGFzaGVzCmV4cGFuZWQt","base64").toString("utf8"),"---\ntitle: Three dashes marks the spot\ntags:\n  - yaml\n  - front-matter\n  - dashes\nexpaned-");a.end()});test("base64: tab characters in base64 - should get stripped",function(a){a.equal(new B("LS0tCnRpdGxlOiBUaHJlZSBkYXNoZXMgbWFya3MgdGhlIHNwb3QKdGFnczoK\t\t\t\tICAtIHlhbWwKICAtIGZyb250LW1hdHRlcgogIC0gZGFzaGVzCmV4cGFuZWQt","base64").toString("utf8"),"---\ntitle: Three dashes marks the spot\ntags:\n  - yaml\n  - front-matter\n  - dashes\nexpaned-");a.end()});test("base64: invalid non-alphanumeric characters -- should be stripped",function(a){a.equal(new B("!\"#$%&'()*,.:;<=>?@[\\]^`{|}~","base64").toString("utf8"),"");a.end()});