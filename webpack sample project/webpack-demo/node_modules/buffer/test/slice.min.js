if(process.env.OBJECT_IMPL){global.TYPED_ARRAY_SUPPORT=false}var B=require("../").Buffer;var test=require("tape");test("modifying buffer created by .slice() modifies original memory",function(b){if(!B.TYPED_ARRAY_SUPPORT){return b.end()}var d=new B(26);for(var a=0;a<26;a++){d[a]=a+97}var c=d.slice(0,3);b.equal(c.toString("ascii",0,c.length),"abc");c[0]="!".charCodeAt(0);b.equal(d.toString("ascii",0,c.length),"!bc");b.end()});test("modifying parent buffer modifies .slice() buffer's memory",function(b){if(!B.TYPED_ARRAY_SUPPORT){return b.end()}var d=new B(26);for(var a=0;a<26;a++){d[a]=a+97}var c=d.slice(0,3);b.equal(c.toString("ascii",0,c.length),"abc");d[0]="!".charCodeAt(0);b.equal(c.toString("ascii",0,c.length),"!bc");b.end()});