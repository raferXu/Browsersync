module.exports=function forEachBail(f,d,j){if(f.length===0){return j()}var g=f.length;var e;var b=[];for(var c=0;c<f.length;c++){var a=h(c);d(f[c],a);if(g===0){break}}function h(k){return function(){if(k>=g){return}var i=Array.prototype.slice.call(arguments);b.push(k);if(i.length>0){g=k+1;b=b.filter(function(l){return l<=k});e=i}if(b.length===g){j.apply(null,e);g=0}}}};module.exports.withIndex=function forEachBailWithIndex(f,d,j){if(f.length===0){return j()}var g=f.length;var e;var b=[];for(var c=0;c<f.length;c++){var a=h(c);d(f[c],c,a);if(g===0){break}}function h(k){return function(){if(k>=g){return}var i=Array.prototype.slice.call(arguments);b.push(k);if(i.length>0){g=k+1;b=b.filter(function(l){return l<=k});e=i}if(b.length===g){j.apply(null,e);g=0}}}};