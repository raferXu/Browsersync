var path=require("path");var concord=require("./concord");var DescriptionFileUtils=require("./DescriptionFileUtils");function ConcordMainPlugin(b,a,c){this.source=b;this.options=a;this.target=c}module.exports=ConcordMainPlugin;ConcordMainPlugin.prototype.apply=function(b){var a=this.target;b.plugin(this.source,function(f,h){if(f.path!==f.descriptionFileRoot){return h()}var e=DescriptionFileUtils.getField(f.descriptionFileData,"concord");if(!e){return h()}var c=concord.getMain(f.context,e);if(!c){return h()}var g=Object.assign({},f,{request:c});var d=path.basename(f.descriptionFilePath);return b.doResolve(a,g,"use "+c+" from "+d,h)})};