var path=require("path");function MainFieldPlugin(b,a,c){this.source=b;this.options=a;this.target=c}module.exports=MainFieldPlugin;MainFieldPlugin.prototype.apply=function(d){var c=this.target;var b=this.options;d.plugin(this.source,function a(f,m){if(f.path!==f.descriptionFileRoot){return m()}var k=f.descriptionFileData;var e=path.basename(f.descriptionFilePath);var n;var l=b.name;if(Array.isArray(l)){var i=k;for(var g=0;g<l.length;g++){if(i===null||typeof i!=="object"){i=null;break}i=i[l[g]]}if(typeof i==="string"){n=i}}else{if(typeof k[l]==="string"){n=k[l]}}if(!n){return m()}if(b.forceRelative&&!/^\.\.?\//.test(n)){n="./"+n}var h=Object.assign({},f,{request:n});return d.doResolve(c,h,"use "+n+" from "+b.name+" in "+e,m)})};