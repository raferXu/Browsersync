var concord=require("./concord");var DescriptionFileUtils=require("./DescriptionFileUtils");var forEachBail=require("./forEachBail");var createInnerCallback=require("./createInnerCallback");function ConcordExtensionsPlugin(b,a,c){this.source=b;this.options=a;this.target=c}module.exports=ConcordExtensionsPlugin;ConcordExtensionsPlugin.prototype.apply=function(b){var a=this.target;b.plugin(this.source,function(f,g){var e=DescriptionFileUtils.getField(f.descriptionFileData,"concord");if(!e){return g()}var d=concord.getExtensions(f.context,e);if(!d){return g()}var c=g;forEachBail(d,function(j,i){var h=Object.assign({},f,{path:f.path+j,relativePath:f.relativePath&&(f.relativePath+j)});b.doResolve(a,h,"concord extension: "+j,createInnerCallback(i,c))},function(i,h){if(arguments.length>0){return g(i,h)}g(null,null)})})};