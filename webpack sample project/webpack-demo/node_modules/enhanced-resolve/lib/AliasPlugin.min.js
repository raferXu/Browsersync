var createInnerCallback=require("./createInnerCallback");function startsWith(d,c){var a=d.length;var e=c.length;if(e>a){return false}var b=-1;while(++b<e){if(d.charCodeAt(b)!==c.charCodeAt(b)){return false}}return true}function AliasPlugin(b,a,c){this.source=b;this.name=a.name;this.alias=a.alias;this.onlyModule=a.onlyModule;this.target=c}module.exports=AliasPlugin;AliasPlugin.prototype.apply=function(d){var c=this.target;var a=this.name;var b=this.alias;var e=this.onlyModule;d.plugin(this.source,function(f,j){var i=f.request;if(!i){return j()}if(i===a||(!e&&startsWith(i,a+"/"))){if(i!==b&&!startsWith(i,b+"/")){var g=b+i.substr(a.length);var h=Object.assign({},f,{request:g});return d.doResolve(c,h,"aliased with mapping '"+a+"': '"+b+"' to '"+g+"'",createInnerCallback(function(l,k){if(arguments.length>0){return j(l,k)}j(null,null)},j))}}return j()})};