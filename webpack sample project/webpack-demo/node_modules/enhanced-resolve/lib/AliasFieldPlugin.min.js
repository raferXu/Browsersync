var DescriptionFileUtils=require("./DescriptionFileUtils");var createInnerCallback=require("./createInnerCallback");var getInnerRequest=require("./getInnerRequest");function AliasFieldPlugin(a,c,b){this.source=a;this.field=c;this.target=b}module.exports=AliasFieldPlugin;AliasFieldPlugin.prototype.apply=function(c){var b=this.target;var a=this.field;c.plugin(this.source,function(g,k){if(!g.descriptionFileData){return k()}var j=getInnerRequest(c,g);if(!j){return k()}var d=DescriptionFileUtils.getField(g.descriptionFileData,a);if(typeof d!=="object"){if(k.log){k.log("Field '"+a+"' doesn't contain a valid alias configuration")}return k()}var f=d[j];var e=d[j.replace(/^\.\//,"")];var i=typeof f!=="undefined"?f:e;if(i===j){return k()}if(i===undefined){return k()}if(i===false){var l=Object.assign({},g,{path:false});return k(null,l)}var h=Object.assign({},g,{path:g.descriptionFileRoot,request:i});c.doResolve(b,h,"aliased from description file "+g.descriptionFilePath+" with mapping '"+j+"' to '"+i+"'",createInnerCallback(function(n,m){if(arguments.length>0){return k(n,m)}k(null,null)},k))})};