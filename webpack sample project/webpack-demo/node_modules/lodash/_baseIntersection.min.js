var SetCache=require("./_SetCache"),arrayIncludes=require("./_arrayIncludes"),arrayIncludesWith=require("./_arrayIncludesWith"),arrayMap=require("./_arrayMap"),baseUnary=require("./_baseUnary"),cacheHas=require("./_cacheHas");var nativeMin=Math.min;function baseIntersection(e,i,c){var p=c?arrayIncludesWith:arrayIncludes,f=e[0].length,n=e.length,g=n,l=Array(n),d=Infinity,o=[];while(g--){var k=e[g];if(g&&i){k=arrayMap(k,baseUnary(i))}d=nativeMin(k.length,d);l[g]=!c&&(i||(f>=120&&k.length>=120))?new SetCache(g&&k):undefined}k=e[0];var j=-1,b=l[0];outer:while(++j<f&&o.length<d){var m=k[j],h=i?i(m):m;m=(c||m!==0)?m:0;if(!(b?cacheHas(b,h):p(o,h,c))){g=n;while(--g){var a=l[g];if(!(a?cacheHas(a,h):p(e[g],h,c))){continue outer}}if(b){b.push(h)}o.push(m)}}return o}module.exports=baseIntersection;