var assignValue=require("./_assignValue"),castPath=require("./_castPath"),isIndex=require("./_isIndex"),isObject=require("./isObject"),toKey=require("./_toKey");function baseSet(d,k,i,c){if(!isObject(d)){return d}k=castPath(k,d);var g=-1,b=k.length,f=b-1,h=d;while(h!=null&&++g<b){var j=toKey(k[g]),a=i;if(g!=f){var e=h[j];a=c?c(e,j,h):undefined;if(a===undefined){a=isObject(e)?e:(isIndex(k[g+1])?[]:{})}}assignValue(h,j,a);h=h[j]}return d}module.exports=baseSet;