/*!
 * parse-glob <https://github.com/jonschlinkert/parse-glob>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */
;"use strict";var isGlob=require("is-glob");var findBase=require("glob-base");var extglob=require("is-extglob");var dotfile=require("is-dotfile");var cache=module.exports.cache={};module.exports=function parseGlob(h){if(cache.hasOwnProperty(h)){return cache[h]}var d={};d.orig=h;d.is={};h=escape(h);var c=findBase(h);d.is.glob=c.isGlob;d.glob=c.glob;d.base=c.base;var a=/([^\/]*)$/.exec(h);d.path={};d.path.dirname="";d.path.basename=a[1]||"";d.path.dirname=h.split(d.path.basename).join("")||"";var g=(d.path.basename||"").split(".")||"";d.path.filename=g[0]||"";d.path.extname=g.slice(1).join(".")||"";d.path.ext="";if(isGlob(d.path.dirname)&&!d.path.basename){if(!/\/$/.test(d.glob)){d.path.basename=d.glob}d.path.dirname=d.base}if(h.indexOf("/")===-1&&!d.is.globstar){d.path.dirname="";d.path.basename=d.orig}var b=d.path.basename.indexOf(".");if(b!==-1){d.path.filename=d.path.basename.slice(0,b);d.path.extname=d.path.basename.slice(b)}if(d.path.extname.charAt(0)==="."){var e=d.path.extname.split(".");d.path.ext=e[e.length-1]}d.glob=unescape(d.glob);d.path.dirname=unescape(d.path.dirname);d.path.basename=unescape(d.path.basename);d.path.filename=unescape(d.path.filename);d.path.extname=unescape(d.path.extname);var f=(h&&d.is.glob);d.is.negated=h&&h.charAt(0)==="!";d.is.extglob=h&&extglob(h);d.is.braces=has(f,h,"{");d.is.brackets=has(f,h,"[:");d.is.globstar=has(f,h,"**");d.is.dotfile=dotfile(d.path.basename)||dotfile(d.path.filename);d.is.dotdir=dotdir(d.path.dirname);return(cache[h]=d)};function dotdir(a){if(a.indexOf("/.")!==-1){return true}if(a.charAt(0)==="."&&a.charAt(1)!=="/"){return true}return false}function has(b,c,a){return b&&c.indexOf(a)!==-1}function escape(b){var a=/\{([^{}]*?)}|\(([^()]*?)\)|\[([^\[\]]*?)\]/g;return b.replace(a,function(c,g,e,f){var d=g||e||f;if(!d){return c}return c.split(d).join(esc(d))})}function esc(a){a=a.split("/").join("__SLASH__");a=a.split(".").join("__DOT__");return a}function unescape(a){a=a.split("__SLASH__").join("/");a=a.split("__DOT__").join(".");return a};