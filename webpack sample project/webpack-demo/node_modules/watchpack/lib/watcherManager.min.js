var path=require("path");function WatcherManager(){this.directoryWatchers={}}WatcherManager.prototype.getDirectoryWatcher=function(a,b){var d=require("./DirectoryWatcher");b=b||{};var c=a+" "+JSON.stringify(b);if(!this.directoryWatchers[c]){this.directoryWatchers[c]=new d(a,b);this.directoryWatchers[c].on("closed",function(){delete this.directoryWatchers[c]}.bind(this))}return this.directoryWatchers[c]};WatcherManager.prototype.watchFile=function watchFile(d,b,c){var a=path.dirname(d);return this.getDirectoryWatcher(a,b).watch(d,c)};WatcherManager.prototype.watchDirectory=function watchDirectory(a,b,c){return this.getDirectoryWatcher(a,b).watch(a,c)};module.exports=new WatcherManager();