var test=require("tape");var crypto=require("../");var randomBytesFunctions={randomBytes:require("randombytes"),pseudoRandomBytes:crypto.pseudoRandomBytes};for(var randomBytesName in randomBytesFunctions){var randomBytes=randomBytesFunctions[randomBytesName];test("get error message",function(c){try{var a=randomBytes(10);c.ok(Buffer.isBuffer(a));c.end()}catch(d){c.ok(/not supported/.test(d.message),'"not supported"  is in error message');c.end()}});test(randomBytesName,function(a){a.plan(5);a.equal(randomBytes(10).length,10);a.ok(Buffer.isBuffer(randomBytes(10)));randomBytes(10,function(c,b){a.error(c);a.equal(b.length,10);a.ok(Buffer.isBuffer(b));a.end()})});test(randomBytesName+" seem random",function(e){var c=1000;var a=randomBytes(c);var d=[].reduce.call(a,function(i,h){return i+h},0)/c;var f=256/2;var g=Math.sqrt(d);console.log(JSON.stringify([f-g,d,f+g]));e.ok(d<f+g);e.ok(d>f-g);e.end()})};