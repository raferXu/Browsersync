var test=require("tape");var algorithms=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"];var vectors=require("hash-test-vectors/hmac");testLib("createHmac in crypto-browserify",require("../").createHmac);testLib("create-hmac/browser",require("create-hmac/browser"));function testLib(a,b){algorithms.forEach(function(c){test(a+" hmac("+c+")",function(d){e(0);function e(h){if(h>=vectors.length){return d.end()}var g=vectors[h];var f=b(c,new Buffer(g.key,"hex")).update(g.data,"hex").digest();f=g.truncate?f.slice(0,g.truncate):f;f=f.toString("hex");if(f!==g[c]){d.equal(f,g[c])}setTimeout(e,0,h+1)}});test("hmac("+c+")",function(d){e(0);function e(h){if(h>=vectors.length){return d.end()}var g=vectors[h];var j=b(c,new Buffer(g.key,"hex"));j.end(g.data,"hex");var f=j.read();f=g.truncate?f.slice(0,g.truncate):f;f=f.toString("hex");if(f!==g[c]){d.equal(f,g[c])}setTimeout(e,0,h+1)}})})};