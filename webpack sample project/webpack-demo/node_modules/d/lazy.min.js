"use strict";var map=require("es5-ext/object/map"),isCallable=require("es5-ext/object/is-callable"),validValue=require("es5-ext/object/valid-value"),contains=require("es5-ext/string/#/contains"),call=Function.prototype.call,defineProperty=Object.defineProperty,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf,hasOwnProperty=Object.prototype.hasOwnProperty,cacheDesc={configurable:false,enumerable:false,writable:false,value:null},define;define=function(c,j){var g,h,e,d,f=false,b,a;j=Object(validValue(j));e=j.cacheName;a=j.flat;if(e==null){e=c}delete j.cacheName;g=j.value;b=isCallable(g);delete j.value;h={configurable:Boolean(j.configurable),enumerable:Boolean(j.enumerable)};if(c!==e){h.get=function(){if(hasOwnProperty.call(this,e)){return this[e]}cacheDesc.value=b?call.call(g,this,j):g;cacheDesc.writable=f;defineProperty(this,e,cacheDesc);cacheDesc.value=null;if(d){defineProperty(this,c,d)}return this[e]}}else{if(!a){h.get=function i(){var k;if(hasOwnProperty.call(this,c)){k=getOwnPropertyDescriptor(this,c);if(k){if(k.hasOwnProperty("value")){return k.value}if((typeof k.get==="function")&&(k.get!==i)){return k.get.call(this)}return g}}d.value=b?call.call(g,this,j):g;defineProperty(this,c,d);d.value=null;return this[c]}}else{h.get=function i(){var l=this,k;if(hasOwnProperty.call(this,c)){k=getOwnPropertyDescriptor(this,c);if(k.hasOwnProperty("value")){return k.value}if((typeof k.get==="function")&&(k.get!==i)){return k.get.call(this)}}while(!hasOwnProperty.call(l,c)){l=getPrototypeOf(l)}d.value=b?call.call(g,l,j):g;defineProperty(l,c,d);d.value=null;return l[c]}}}h.set=function(k){if(hasOwnProperty.call(this,c)){throw new TypeError("Cannot assign to lazy defined '"+c+"' property of "+this)}h.get.call(this);this[e]=k};if(j.desc){d={configurable:contains.call(j.desc,"c"),enumerable:contains.call(j.desc,"e")};if(e===c){d.writable=contains.call(j.desc,"w");d.value=null}else{f=contains.call(j.desc,"w");d.get=h.get;d.set=h.set}delete j.desc}else{if(e===c){d={configurable:Boolean(j.configurable),enumerable:Boolean(j.enumerable),writable:Boolean(j.writable),value:null}}}delete j.configurable;delete j.enumerable;delete j.writable;return h};module.exports=function(a){return map(a,function(c,b){return define(b,c)})};