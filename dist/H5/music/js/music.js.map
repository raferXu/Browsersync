{"version":3,"sources":["../../../../H5/music/js/music.js"],"names":["window","AudioContext","webkitAudioContext","mozAudioContext","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","onload","txt","data","lrc","myMusic","id","oBtn","audio","m_star","getElementsByTagName","src","star","pre","next","m_gm","innerHTML","name","m_singer","singer","album","wp_totalTime","lrcCon","rand","collect","download","remove","n","mark","onclick","play","style","backgroundImage","className","href","p","color","backgroundColor","pause","time","duration","length","playing","rands","loop","addEventListener","Math","floor","random","marginTop","currentLrc","load","love","j","m_list","oPs","i","index","icon","src1","src2","wp_playTime","wp_process","wp_processBar","wp_processBtn","nowTime","currentTime","width","offsetWidth","mutePro","muteBar","muteBtn","m_mute","onmousedown","ev","event","x","clientX","offsetLeft","console","log","document","onmousemove","w","proN","volume","onmouseup","actx","analyser","createAnalyser","audioSrc","createMediaElementSource","connect","destination","can","innerWidth","h","height","onresize","cxt","getContext","createLinearGradient","addColorStop","num","draw","voicehigh","Uint8Array","frequencyBinCount","getByteFrequencyData","step","round","clearRect","beginPath","value","fillStyle","fillRect","lrcArr","split","html","arr","timer","ms","text","sum","curTime","oP","parseInt","getElementById","cssText","idName","cTime","m","zero","s"],"mappings":"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","file":"music.js","sourcesContent":["window.AudioContext = window.AudioContext || window.webkitAudioContext || window.mozAudioContext;\nwindow.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame;\nwindow.onload = function () {\n  var txt = data[0].lrc;\n  var myMusic = id(\"myMusic\");\n  var oBtn = id(\"play\");\n  var audio = id(\"myMusic\");\n  var m_star = id(\"singer\").getElementsByTagName(\"img\")[0];\n  m_star.src = data[0].star;\n  var pre = id(\"prev\");\n  var next = id(\"next\");\n  var m_gm = id(\"m_gm\");\n  m_gm.innerHTML = data[0].name;\n  var m_singer = id(\"m_singer\");\n  m_singer.innerHTML = data[0].singer;\n  var album = id(\"album\");\n  album.innerHTML = data[0].album;\n  var wp_totalTime = id(\"allTime\");\n  var lrcCon = id(\"lrcCon\");\n  var rand = id(\"rand\");\n  var collect = id(\"collect\");\n  var download = id(\"download\");\n  var remove = id(\"remove\");\n  var n = 0;\n  var txt = data[0].lrc;\n  var mark = true;\n  oBtn.onclick = function () {\n    if (mark) {\n      audio.play();\n      this.style.backgroundImage = \"url(images/pause.png)\";\n      m_star.className = \"rotate\";\n      download.href = audio.src + \".zip\";\n      p[n].style.color = \"#fff\";\n      p[n].style.backgroundColor = \"rgb(139,143,135)\"\n    } else {\n      audio.pause();\n      this.style.backgroundImage = \"url(images/play.png)\";\n      m_star.className = \"\";\n      p[n].style.color = \"#000\";\n      p[n].style.backgroundColor = \"rgba(139,143,135,0)\"\n    }\n    mark = !mark;\n    wp_totalTime.innerHTML = time(audio.duration)\n  };\n  pre.onclick = function () {\n    n--;\n    if (n < 0) n = data.length - 1;\n    playing(n)\n  };\n  next.onclick = function () {\n    n++;\n    if (n > data.length - 1) n = 0;\n    playing(n)\n  };\n  var rands = 2;\n  rand.onclick = function () {\n    rands++;\n    rands %= 4;\n    loop()\n  };\n  loop();\n\n  function loop() {\n    if (rands == 0) {\n      audio.addEventListener(\"ended\", function () {\n        oBtn.style.backgroundImage = \"url(images/play.png)\";\n        m_star.className = \"\";\n        mark = true\n      }, false);\n      rand.style.backgroundImage = \"url(images/one.png)\"\n    } else if (rands == 1) {\n      audio.addEventListener(\"ended\", function () {\n        playing(n)\n      }, false);\n      rand.style.backgroundImage = \"url(images/bloor.png)\"\n    } else if (rands == 2) {\n      audio.addEventListener(\"ended\", function () {\n        n++;\n        if (n > data.length - 1) n = 0;\n        playing(n)\n      }, false);\n      rand.style.backgroundImage = \"url(images/loor.png)\"\n    } else if (rands == 3) {\n      audio.addEventListener(\"ended\", function () {\n        n = Math.floor(Math.random() * data.length);\n        playing(n)\n      }, false);\n      rand.style.backgroundImage = \"url(images/rand.png)\"\n    }\n  };\n\n  function playing(n) {\n    audio.src = data[n].src;\n    m_gm.innerHTML = data[n].name;\n    m_singer.innerHTML = data[n].singer;\n    m_star.src = data[n].star;\n    album.innerHTML = data[n].album;\n    txt = data[n].lrc;\n    m_star.className = \"rotate\";\n    oBtn.style.backgroundImage = \"url(images/pause.png)\";\n    lrcCon.style.marginTop = \"0px\";\n    mark = false;\n    currentLrc();\n    audio.play();\n    load();\n    love(p[n].love, p[n].mark);\n    download.href = audio.src + \".zip\";\n    for (var j = 0; j < p.length; j++) {\n      p[j].style.color = \"#000\";\n      p[j].style.backgroundColor = \"rgba(139,143,135,0)\"\n    }\n    p[n].style.color = \"#fff\";\n    p[n].style.backgroundColor = \"rgb(139,143,135)\"\n  }\n\n  var m_list = id(\"m_list\");\n  var oPs = '';\n  for (var i = 0; i < data.length; i++) {\n    oPs += \"<p><span>\" + data[i].name + \"</span><span>\" + data[i].singer + \"</span></p>\"\n  }\n  m_list.innerHTML = oPs;\n  var p = m_list.getElementsByTagName(\"p\");\n  for (var i = 0; i < p.length; i++) {\n    p[i].index = i;\n    p[i].love = \"love1\";\n    p[i].mark = \"circle0\";\n    p[i].icon = false;\n    p[i].onclick = function () {\n      n = this.index;\n      playing(n)\n    }\n  }\n  collect.onclick = function () {\n    if (!p[n].icon) {\n      p[n].love = \"love0\";\n      p[n].mark = \"circle1\";\n      love(p[n].love, p[n].mark);\n      p[n].icon = true\n    } else {\n      p[n].love = \"love1\";\n      p[n].mark = \"circle0\";\n      love(p[n].love, p[n].mark);\n      p[n].icon = false\n    }\n  };\n\n  function love(src1, src2) {\n    collect.style.backgroundImage = \"url(images/\" + src1 + \".png)\";\n    p[n].style.backgroundImage = \"url(images/\" + src2 + \".png)\"\n  }\n\n  function load() {\n    audio.addEventListener(\"canplay\", function () {\n      wp_totalTime.innerHTML = time(audio.duration)\n    }, false)\n  }\n\n  var wp_playTime = id(\"curTime\");\n  var wp_process = id(\"pro-bar\");\n  var wp_processBar = id(\"processBar\");\n  var wp_processBtn = id(\"processBtn\");\n  audio.addEventListener(\"timeupdate\", function () {\n    nowTime()\n  });\n\n  function nowTime() {\n    wp_playTime.innerHTML = time(audio.currentTime);\n    var n = audio.currentTime / audio.duration;\n    wp_processBar.style.width = n * (wp_process.offsetWidth - wp_processBtn.offsetWidth) + \"px\"\n  }\n\n  var mutePro = id(\"mutePro\");\n  var muteBar = id(\"muteBar\");\n  var muteBtn = id(\"muteBtn\");\n  var m_mute = id(\"m_mute\");\n  muteBtn.onmousedown = function (ev) {\n    var ev = ev || window.event;\n    var x = ev.clientX - this.offsetLeft;\n    console.log(this.offsetLeft);\n    document.onmousemove = function (ev) {\n      var w = ev.clientX - x;\n      if (w <= 0) {\n        w = 0\n      } else if (w >= mutePro.offsetWidth - muteBtn.offsetWidth) {\n        console.log(mutePro.offsetWidth);\n        console.log(muteBtn.offsetWidth);\n        w = mutePro.offsetWidth - muteBtn.offsetWidth\n      }\n      muteBar.style.width = w + \"px\";\n      var proN = w / (mutePro.offsetWidth - muteBtn.offsetWidth);\n      audio.volume = proN;\n      nowTime()\n    };\n    document.onmouseup = function () {\n      document.onmousemove = null;\n      document.onmouseup = null\n    }\n  };\n  m_mute.onclick = function () {\n    audio.volume = 0;\n    muteBar.style.width = \"0px\"\n  };\n  var actx = new AudioContext();\n  var analyser = actx.createAnalyser();\n  var audioSrc = actx.createMediaElementSource(audio);\n  audioSrc.connect(analyser);\n  analyser.connect(actx.destination);\n  var can = id(\"canvas\");\n  var w = window.innerWidth, h = 110;\n  can.width = w;\n  can.height = h;\n  window.onresize = function () {\n    var w = window.innerWidth;\n    can.width = w\n  };\n  var cxt = can.getContext(\"2d\");\n  color = cxt.createLinearGradient(can.width * .5, 0, can.width * .5, 110);\n  color.addColorStop(0, \"#00f\");\n  color.addColorStop(0.5, \"#f00\");\n  color.addColorStop(1, \"#0f0\");\n  var num = 100;\n\n  function draw() {\n    var voicehigh = new Uint8Array(analyser.frequencyBinCount);\n    analyser.getByteFrequencyData(voicehigh);\n    var step = Math.round(voicehigh.length / num);\n    cxt.clearRect(0, 0, can.width, can.height);\n    cxt.beginPath();\n    for (var i = 0; i < num; i++) {\n      var value = (voicehigh[step * i]) / 3;\n      cxt.fillStyle = color;\n      cxt.fillRect(i * 10 + can.width * .5, 110, 7, -value + 1);\n      cxt.fillRect(can.width * .5 - (i - 1) * 10, 110, 7, -value + 1)\n    }\n    requestAnimationFrame(draw)\n  }\n\n  draw();\n\n  function currentLrc() {\n    var lrcArr = txt.split(\"[\");\n    var html = '';\n    for (var i = 0; i < lrcArr.length; i++) {\n      var arr = lrcArr[i].split(\"]\");\n      var time = arr[0].split(\".\");\n      var timer = time[0].split(\":\");\n      var ms = timer[0] * 60 + timer[1] * 1;\n      var text = arr[1];\n      if (text) {\n        html += \"<p id=gc\" + ms + \">\" + text + \"</p>\"\n      }\n      lrcCon.innerHTML = html\n    }\n    var sum = 0;\n    var curTime = 0;\n    var oP = lrcCon.getElementsByTagName(\"p\");\n    audio.addEventListener(\"timeupdate\", function () {\n      curTime = parseInt(this.currentTime);\n      if (document.getElementById(\"gc\" + curTime)) {\n        for (var i = 0; i < oP.length; i++) {\n          oP[i].style.cssText = \"color:#fff;font-size:16px;font-weight:500\"\n        }\n        document.getElementById(\"gc\" + curTime).style.cssText = \"color:#0f0;font-size:20px;font-weight:700\";\n        if (oP[8 + sum].id == \"gc\" + curTime) {\n          lrcCon.style.marginTop = 30 - sum * 30 + \"px\";\n          sum++\n        }\n      }\n    })\n  }\n\n  currentLrc()\n};\n\nfunction id(idName) {\n  return document.getElementById(idName)\n}\n\nfunction time(cTime) {\n  cTime = parseInt(cTime);\n  var m = zero(Math.floor(cTime % 3600 / 60));\n  var s = zero(Math.floor(cTime % 60));\n  return m + \":\" + s\n}\n\nfunction zero(num) {\n  if (num < 10) {\n    return \"0\" + num\n  } else {\n    return '' + num\n  }\n}"]}