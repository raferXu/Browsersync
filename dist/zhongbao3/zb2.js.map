{"version":3,"sources":["../../zhongbao3/zb2.js"],"names":["setInputVal","task","str","info","alg_answer","$","val","keyboardEvent","strArr","split","off","touchstart","on","e","preventDefault","css","document","scrollTop","show","animate","touchend","delTimer3","setTimeout","clearInterval","delTimer1","delTimer2","hide","length","pop","join","setInterval","console","log","push","html","event","stopPropagation","jsloadDone"],"mappings":"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","file":"zb2.js","sourcesContent":["/**\n * Created by raferxu on 17/7/6.\n */\nfunction setInputVal(task) {\n  //发送图片获取识别字符串，并放入input中\n  var str = task.info.alg_answer || '';\n  $('.showInfo').val(str);\n  keyboardEvent(str);\n}\nfunction keyboardEvent(str) {\n  var strArr = [];\n  strArr = str.split('');\n  $('#answerInput').off(touchstart).on(touchstart, function(e) {\n    e.preventDefault();\n    $('#keyboardWrap').css('top',$(document).scrollTop()+'px').show();\n    // alert($(document).scrollTop());\n    $('.keyboard').animate({'bottom': 0},function () {\n      $(document).on(touchend, function(e) {\n        var delTimer3 = setTimeout(function () {\n          clearInterval(delTimer1);\n          clearInterval(delTimer2);\n          clearInterval(delTimer3);\n        },0);\n      });\n    });\n  });\n  $('#sureTotalBtn').off(touchstart).on(touchstart, function(e) {\n    e.preventDefault();\n    $('.keyboard').animate({'bottom': '-4rem'},function () {\n      $(document).off(touchend);\n      $('#keyboardWrap').hide();\n    });\n  });\n  var delTimer1 = null, delTimer2 = null;\n  $('#delTxt').off(touchstart).on(touchstart, function(e) {\n    e.preventDefault();\n    if(strArr.length>0){\n      strArr.pop();\n      $('.showInfo').val(strArr.join(''));\n      delTimer1 = setInterval(function () {\n        console.log('delTimer1');\n        strArr.pop();\n        $('.showInfo').val(strArr.join(''));\n        if(strArr.length>0){\n          delTimer2 = setInterval(function () {\n            clearInterval(delTimer1);\n            strArr.pop();\n            $('.showInfo').val(strArr.join(''));\n            console.log('delTimer2');\n          },200);\n        }else{\n          clearInterval(delTimer2);\n        }\n      },500);\n    }else{\n      clearInterval(delTimer1);\n    }\n  });\n\n  $(document).on(touchend, function(e) {\n    var delTimer3 = setTimeout(function () {\n      clearInterval(delTimer1);\n      clearInterval(delTimer2);\n      clearInterval(delTimer3);\n    },0);\n  });\n\n  $('#keyboardM').off(touchstart).on(touchstart, '.zi', function(e) {\n    e.preventDefault();\n    strArr.push($(this).html());\n    $('.showInfo').val(strArr.join(''));\n  });\n  $('#keyboardWrap').off(touchstart).on(touchstart, function () {\n    $(this).hide();\n  });\n  $('#keyboard').off(touchstart).on(touchstart, function (event) {\n    event.stopPropagation();\n  });\n}\n\njsloadDone = true;\nconsole.log('jsloadDone: '+jsloadDone);"]}